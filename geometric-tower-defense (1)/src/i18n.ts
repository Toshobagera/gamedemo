
export type Language = 'en' | 'bg';

const translations: Record<Language, Record<string, string>> = {
  en: {
    // App.tsx
    app_subtitle: 'A tower defense game with a persistent progression tree.',
    stage_1: 'Stage 1',
    stage_2: 'Stage 2',
    stage_2_unlock_tooltip: 'Complete Stage 1 to unlock.',
    stage_2_tooltip: 'A more challenging stage.',
    progression: 'Progression',
    reset_progress: 'Reset Progress',
    enter_cheat_code: 'Enter Cheat Code...',
    submit_cheat: 'Submit',

    // Game.tsx
    start_wave: 'Start Wave {0}',
    start_early: 'Start Early ({0}s)',
    wave_in_progress: 'Wave in Progress',
    wave: 'Wave',
    speed: 'Speed',
    sell: 'Sell',
    victory: 'Victory!',
    game_over: 'Game Over',
    rp_earned: 'You earned {0} Research Points.',
    to_progression_tree: 'To Progression Tree',
    armor: 'Armor',
    physical: 'Physical',
    fire: 'Fire',
    cold: 'Cold',
    electric: 'Electric',

    // ProgressionTree.tsx
    progression_tree_title: 'Progression Tree',
    progression_tree_subtitle: 'Spend Research Points to unlock permanent upgrades.',
    start_game: 'Back to Menu',

    // Tower Names
    tower_circle_name: 'Basic Tower',
    tower_square_name: 'Cannon Tower',
    tower_triangle_name: 'Rapid Tower',
    tower_fire_name: 'Flame Tower',
    tower_cold_name: 'Frost Tower',
    tower_electric_name: 'Tesla Tower',

    // Tower Descriptions
    tower_circle_desc: 'A reliable, all-around tower.',
    tower_square_desc: 'Deals high damage at a slow rate.',
    tower_triangle_desc: 'Fires very quickly for low damage.',
    tower_fire_desc: 'Applies a burn that deals damage over time.',
    tower_cold_desc: 'Slows all enemies within its radius.',
    tower_electric_desc: 'Shoots lightning that chains to multiple enemies.',

    // Boss Names
    boss_1_name: 'The Warden',
    boss_2_name: 'The Juggernaut',
    boss_3_name: 'The Frost Titan',
    boss_4_name: 'The Apex',
    
    // Upgrade Names & Descriptions
    upgrade_root_name: 'Core Systems',
    upgrade_root_desc: 'The start of all your research.',
    upgrade_e_start_1_name: 'Initial Funding',
    upgrade_e_start_1_desc: 'Start with +50 extra money.',
    upgrade_e_kill_1_name: 'Bounty Hunting',
    upgrade_e_kill_1_desc: 'Gain +1 money for each kill.',
    upgrade_e_start_2_name: 'Advanced Funding',
    upgrade_e_start_2_desc: 'Start with an additional +75 money.',
    upgrade_g_health_1_name: 'Reinforced Core',
    upgrade_g_health_1_desc: 'Increase starting health by 10.',
    upgrade_g_cost_1_name: 'Efficient Construction',
    upgrade_g_cost_1_desc: 'Reduce the cost of all towers by 5%.',
    upgrade_g_sell_1_name: 'Scrap Recycling',
    upgrade_g_sell_1_desc: 'Increase tower sell value by 10%.',
    upgrade_e_rp_1_name: 'Applied Theory',
    upgrade_e_rp_1_desc: 'Gain 10% more Research Points.',
    upgrade_e_rp_2_name: 'Advanced Theory',
    upgrade_e_rp_2_desc: 'Gain another 10% more Research Points.',
    upgrade_g_proj_speed_1_name: 'Advanced Ballistics',
    upgrade_g_proj_speed_1_desc: 'All projectiles travel 20% faster.',
    upgrade_g_crit_chance_1_name: 'Precision Targeting',
    upgrade_g_crit_chance_1_desc: 'All towers gain a 2% chance to critically strike.',
    upgrade_g_crit_dmg_1_name: 'High-Explosive Shells',
    upgrade_g_crit_dmg_1_desc: 'Critical strikes deal an additional 25% damage.',
    upgrade_g_crit_chance_2_name: 'Target Analysis',
    upgrade_g_crit_chance_2_desc: 'Increase critical strike chance by another 3%.',
    upgrade_p_branch_root_name: 'Physical Ordnance',
    upgrade_p_branch_root_desc: 'Unlock upgrades for physical damage towers.',
    upgrade_c_dmg_1_name: 'Bigger Caliber',
    upgrade_c_dmg_1_desc: 'Basic Tower damage +3.',
    upgrade_c_rate_1_name: 'Improved Firing Pin',
    upgrade_c_rate_1_desc: 'Basic Tower fire rate +15%.',
    upgrade_c_range_1_name: 'Better Optics',
    upgrade_c_range_1_desc: 'Basic Tower range +10%.',
    upgrade_c_dmg_2_name: 'Heavy Rounds',
    upgrade_c_dmg_2_desc: 'Basic Tower damage +5.',
    upgrade_s_unlock_name: 'Unlock Cannon',
    upgrade_s_unlock_desc: 'Unlocks the powerful Cannon Tower.',
    upgrade_s_dmg_1_name: 'Heavy Shells',
    upgrade_s_dmg_1_desc: 'Cannon Tower damage +10.',
    upgrade_s_range_1_name: 'Rangefinder',
    upgrade_s_range_1_desc: 'Cannon Tower range +15%.',
    upgrade_s_dmg_2_name: 'Shaped Charges',
    upgrade_s_dmg_2_desc: 'Cannon Tower damage +15%.',
    upgrade_s_dmg_3_name: 'Armor Piercing',
    upgrade_s_dmg_3_desc: 'Cannon Tower damage +25.',
    upgrade_t_unlock_name: 'Unlock Rapid',
    upgrade_t_unlock_desc: 'Unlocks the fast-firing Rapid Tower.',
    upgrade_t_rate_1_name: 'Autoloader',
    upgrade_t_rate_1_desc: 'Rapid Tower fire rate +25%.',
    upgrade_t_range_1_name: 'Advanced Rifling',
    upgrade_t_range_1_desc: 'Rapid Tower range +20%.',
    upgrade_t_dmg_1_name: 'Hot Loads',
    upgrade_t_dmg_1_desc: 'Rapid Tower damage +2.',
    upgrade_el_branch_root_name: 'Elemental Studies',
    upgrade_el_branch_root_desc: 'Unlock upgrades for elemental towers.',
    upgrade_el_unlock_fire_name: 'Unlock Flame',
    upgrade_el_unlock_fire_desc: 'Unlocks the burning Flame Tower.',
    upgrade_el_fire_dps_1_name: 'Volatile Fuel',
    upgrade_el_fire_dps_1_desc: 'Flame Tower burn damage +5 dps.',
    upgrade_el_fire_dur_1_name: 'Sticky Flames',
    upgrade_el_fire_dur_1_desc: 'Flame Tower burn duration +1s.',
    upgrade_el_fire_dmg_1_name: 'Combustion',
    upgrade_el_fire_dmg_1_desc: 'Flame Tower initial damage +25%.',
    upgrade_el_unlock_cold_name: 'Unlock Frost',
    upgrade_el_unlock_cold_desc: 'Unlocks the slowing Frost Tower.',
    upgrade_el_cold_slow_1_name: 'Cryo Coolant',
    upgrade_el_cold_slow_1_desc: 'Frost Tower slow effect +10%.',
    upgrade_el_cold_range_1_name: 'Wide Dispersion',
    upgrade_el_cold_range_1_desc: 'Frost Tower range +15%.',
    upgrade_el_cold_slow_2_name: 'Absolute Zero',
    upgrade_el_cold_slow_2_desc: 'Frost Tower slow effect +15%.',
    upgrade_el_unlock_elec_name: 'Unlock Tesla',
    upgrade_el_unlock_elec_desc: 'Unlocks the chaining Tesla Tower.',
    upgrade_el_elec_chain_1_name: 'Superconductor',
    upgrade_el_elec_chain_1_desc: 'Tesla Tower chains to +1 enemy.',
    upgrade_el_elec_dmg_1_name: 'Overcharge',
    upgrade_el_elec_dmg_1_desc: 'Tesla Tower damage +15%.',
    upgrade_el_elec_dmg_2_name: 'High Voltage',
    upgrade_el_elec_dmg_2_desc: 'Tesla Tower damage +20%.',
  },
  bg: {
    // App.tsx
    app_subtitle: 'Tower defense игра с дърво за прогрес.',
    stage_1: 'Ниво 1',
    stage_2: 'Ниво 2',
    stage_2_unlock_tooltip: 'Завършете Ниво 1 за отключване.',
    stage_2_tooltip: 'По-предизвикателно ниво.',
    progression: 'Прогрес',
    reset_progress: 'Нулиране',
    enter_cheat_code: 'Въведи чийт код...',
    submit_cheat: 'Изпрати',

    // Game.tsx
    start_wave: 'Старт Вълна {0}',
    start_early: 'По-рано ({0}с)',
    wave_in_progress: 'Вълната тече',
    wave: 'Вълна',
    speed: 'Скорост',
    sell: 'Продай',
    victory: 'Победа!',
    game_over: 'Край на играта',
    rp_earned: 'Спечелихте {0} точки за изследване.',
    to_progression_tree: 'Към дървото за прогрес',
    armor: 'Броня',
    physical: 'Физическа',
    fire: 'Огън',
    cold: 'Студ',
    electric: 'Ток',

    // ProgressionTree.tsx
    progression_tree_title: 'Дърво за Прогрес',
    progression_tree_subtitle: 'Харчете точки за изследване за постоянни подобрения.',
    start_game: 'Към менюто',

    // Tower Names
    tower_circle_name: 'Базова Кула',
    tower_square_name: 'Оръдейна Кула',
    tower_triangle_name: 'Скоростна Кула',
    tower_fire_name: 'Огнена Кула',
    tower_cold_name: 'Ледена Кула',
    tower_electric_name: 'Тесла Кула',

    // Tower Descriptions
    tower_circle_desc: 'Надеждна, универсална кула.',
    tower_square_desc: 'Нанася големи щети с ниска скорост.',
    tower_triangle_desc: 'Стреля много бързо за малко щети.',
    tower_fire_desc: 'Прилага изгаряне, което нанася щети с времето.',
    tower_cold_desc: 'Забавя всички врагове в своя радиус.',
    tower_electric_desc: 'Изстрелва мълния, която прескача по врагове.',

    // Boss Names
    boss_1_name: 'Пазителят',
    boss_2_name: 'Джъгърнаутът',
    boss_3_name: 'Леденият Титан',
    boss_4_name: 'Върхът',

    // Upgrade Names & Descriptions
    upgrade_root_name: 'Основни Системи',
    upgrade_root_desc: 'Началото на вашите изследвания.',
    upgrade_e_start_1_name: 'Начално Финансиране',
    upgrade_e_start_1_desc: 'Започнете с +50 допълнително пари.',
    upgrade_e_kill_1_name: 'Лов на Глави',
    upgrade_e_kill_1_desc: 'Получавате +1 пари за всяко убийство.',
    upgrade_e_start_2_name: 'Разширено Финансиране',
    upgrade_e_start_2_desc: 'Започнете с още +75 пари.',
    upgrade_g_health_1_name: 'Подсилено Ядро',
    upgrade_g_health_1_desc: 'Увеличете началния живот с 10.',
    upgrade_g_cost_1_name: 'Ефективно Строителство',
    upgrade_g_cost_1_desc: 'Намалете цената на всички кули с 5%.',
    upgrade_g_sell_1_name: 'Рециклиране на Скрап',
    upgrade_g_sell_1_desc: 'Увеличете продажната цена на кулите с 10%.',
    upgrade_e_rp_1_name: 'Приложна Теория',
    upgrade_e_rp_1_desc: 'Получавате 10% повече точки за изследване.',
    upgrade_e_rp_2_name: 'Напреднала Теория',
    upgrade_e_rp_2_desc: 'Получавате още 10% повече точки за изследване.',
    upgrade_g_proj_speed_1_name: 'Напреднала Балистика',
    upgrade_g_proj_speed_1_desc: 'Всички снаряди се движат с 20% по-бързо.',
    upgrade_g_crit_chance_1_name: 'Прецизно Насочване',
    upgrade_g_crit_chance_1_desc: 'Всички кули получават 2% шанс за критичен удар.',
    upgrade_g_crit_dmg_1_name: 'Експлозивни Снаряди',
    upgrade_g_crit_dmg_1_desc: 'Критичните удари нанасят +25% щети.',
    upgrade_g_crit_chance_2_name: 'Анализ на Цели',
    upgrade_g_crit_chance_2_desc: 'Увеличете шанса за крит. удар с още 3%.',
    upgrade_p_branch_root_name: 'Физически Боеприпаси',
    upgrade_p_branch_root_desc: 'Отключете подобрения за физически кули.',
    upgrade_c_dmg_1_name: 'По-голям Калибър',
    upgrade_c_dmg_1_desc: 'Базова Кула щети +3.',
    upgrade_c_rate_1_name: 'Подобрен Ударник',
    upgrade_c_rate_1_desc: 'Базова Кула скорост на стрелба +15%.',
    upgrade_c_range_1_name: 'По-добра Оптика',
    upgrade_c_range_1_desc: 'Базова Кула обхват +10%.',
    upgrade_c_dmg_2_name: 'Тежки Патрони',
    upgrade_c_dmg_2_desc: 'Базова Кула щети +5.',
    upgrade_s_unlock_name: 'Отключи Оръдие',
    upgrade_s_unlock_desc: 'Отключва мощната Оръдейна Кула.',
    upgrade_s_dmg_1_name: 'Тежки Снаряди',
    upgrade_s_dmg_1_desc: 'Оръдейна Кула щети +10.',
    upgrade_s_range_1_name: 'Далекомер',
    upgrade_s_range_1_desc: 'Оръдейна Кула обхват +15%.',
    upgrade_s_dmg_2_name: 'Кумулативни Заряди',
    upgrade_s_dmg_2_desc: 'Оръдейна Кула щети +15%.',
    upgrade_s_dmg_3_name: 'Бронебойни',
    upgrade_s_dmg_3_desc: 'Оръдейна Кула щети +25.',
    upgrade_t_unlock_name: 'Отключи Скоростна',
    upgrade_t_unlock_desc: 'Отключва бързострелната Скоростна Кула.',
    upgrade_t_rate_1_name: 'Автоматично Зареждане',
    upgrade_t_rate_1_desc: 'Скоростна Кула скорост на стрелба +25%.',
    upgrade_t_range_1_name: 'Напреднали Нарези',
    upgrade_t_range_1_desc: 'Скоростна Кула обхват +20%.',
    upgrade_t_dmg_1_name: 'Горещи Патрони',
    upgrade_t_dmg_1_desc: 'Скоростна Кула щети +2.',
    upgrade_el_branch_root_name: 'Елементални Проучвания',
    upgrade_el_branch_root_desc: 'Отключете подобрения за елементални кули.',
    upgrade_el_unlock_fire_name: 'Отключи Огнена',
    upgrade_el_unlock_fire_desc: 'Отключва изгарящата Огнена Кула.',
    upgrade_el_fire_dps_1_name: 'Летливо Гориво',
    upgrade_el_fire_dps_1_desc: 'Огнена Кула щети от изгаряне +5.',
    upgrade_el_fire_dur_1_name: 'Лепкави Пламъци',
    upgrade_el_fire_dur_1_desc: 'Огнена Кула времетраене на изгаряне +1с.',
    upgrade_el_fire_dmg_1_name: 'Възпламеняване',
    upgrade_el_fire_dmg_1_desc: 'Огнена Кула начални щети +25%.',
    upgrade_el_unlock_cold_name: 'Отключи Ледена',
    upgrade_el_unlock_cold_desc: 'Отключва забавящата Ледена Кула.',
    upgrade_el_cold_slow_1_name: 'Крио Охладител',
    upgrade_el_cold_slow_1_desc: 'Ледена Кула забавяне +10%.',
    upgrade_el_cold_range_1_name: 'Широко Разпръскване',
    upgrade_el_cold_range_1_desc: 'Ледена Кула обхват +15%.',
    upgrade_el_cold_slow_2_name: 'Абсолютна Нула',
    upgrade_el_cold_slow_2_desc: 'Ледена Кула забавяне +15%.',
    upgrade_el_unlock_elec_name: 'Отключи Тесла',
    upgrade_el_unlock_elec_desc: 'Отключва верижната Тесла Кула.',
    upgrade_el_elec_chain_1_name: 'Свръхпроводник',
    upgrade_el_elec_chain_1_desc: 'Тесла Кула прескача към +1 враг.',
    upgrade_el_elec_dmg_1_name: 'Претоварване',
    upgrade_el_elec_dmg_1_desc: 'Тесла Кула щети +15%.',
    upgrade_el_elec_dmg_2_name: 'Високо Напрежение',
    upgrade_el_elec_dmg_2_desc: 'Тесла Кула щети +20%.',
  },
};

export const getTranslator = (lang: Language) => {
  return (key: string, ...args: (string | number)[]): string => {
    let translation = translations[lang]?.[key] || translations['en']?.[key] || key;
    if (args.length > 0) {
      args.forEach((arg, index) => {
        translation = translation.replace(`{${index}}`, String(arg));
      });
    }
    return translation;
  };
};