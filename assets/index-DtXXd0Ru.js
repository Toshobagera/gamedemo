(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function _d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Za={exports:{}},bl={},qa={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr=Symbol.for("react.element"),gd=Symbol.for("react.portal"),md=Symbol.for("react.fragment"),hd=Symbol.for("react.strict_mode"),yd=Symbol.for("react.profiler"),vd=Symbol.for("react.provider"),xd=Symbol.for("react.context"),wd=Symbol.for("react.forward_ref"),Ed=Symbol.for("react.suspense"),Sd=Symbol.for("react.memo"),Cd=Symbol.for("react.lazy"),Pi=Symbol.iterator;function kd(e){return e===null||typeof e!="object"?null:(e=Pi&&e[Pi]||e["@@iterator"],typeof e=="function"?e:null)}var Ja={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eu=Object.assign,tu={};function Yn(e,t,n){this.props=e,this.context=t,this.refs=tu,this.updater=n||Ja}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nu(){}nu.prototype=Yn.prototype;function $s(e,t,n){this.props=e,this.context=t,this.refs=tu,this.updater=n||Ja}var Us=$s.prototype=new nu;Us.constructor=$s;eu(Us,Yn.prototype);Us.isPureReactComponent=!0;var Di=Array.isArray,ru=Object.prototype.hasOwnProperty,Ws={current:null},lu={key:!0,ref:!0,__self:!0,__source:!0};function ou(e,t,n){var r,l={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)ru.call(t,r)&&!lu.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var a=Array(i),d=0;d<i;d++)a[d]=arguments[d+2];l.children=a}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:Fr,type:e,key:o,ref:s,props:l,_owner:Ws.current}}function Td(e,t){return{$$typeof:Fr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bs(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fr}function Rd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ai=/\/+/g;function mo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rd(""+e.key):t.toString(36)}function il(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Fr:case gd:s=!0}}if(s)return s=e,l=l(s),e=r===""?"."+mo(s,0):r,Di(l)?(n="",e!=null&&(n=e.replace(Ai,"$&/")+"/"),il(l,t,n,"",function(d){return d})):l!=null&&(Bs(l)&&(l=Td(l,n+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(Ai,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=r===""?".":r+":",Di(e))for(var i=0;i<e.length;i++){o=e[i];var a=r+mo(o,i);s+=il(o,t,n,a,l)}else if(a=kd(e),typeof a=="function")for(e=a.call(e),i=0;!(o=e.next()).done;)o=o.value,a=r+mo(o,i++),s+=il(o,t,n,a,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Wr(e,t,n){if(e==null)return e;var r=[],l=0;return il(e,r,"","",function(o){return t.call(n,o,l++)}),r}function Ld(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},al={transition:null},Nd={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:al,ReactCurrentOwner:Ws};function su(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:Wr,forEach:function(e,t,n){Wr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wr(e,function(){t++}),t},toArray:function(e){return Wr(e,function(t){return t})||[]},only:function(e){if(!Bs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=Yn;Y.Fragment=md;Y.Profiler=yd;Y.PureComponent=$s;Y.StrictMode=hd;Y.Suspense=Ed;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nd;Y.act=su;Y.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=eu({},e.props),l=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Ws.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(a in t)ru.call(t,a)&&!lu.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&i!==void 0?i[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){i=Array(a);for(var d=0;d<a;d++)i[d]=arguments[d+2];r.children=i}return{$$typeof:Fr,type:e.type,key:l,ref:o,props:r,_owner:s}};Y.createContext=function(e){return e={$$typeof:xd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vd,_context:e},e.Consumer=e};Y.createElement=ou;Y.createFactory=function(e){var t=ou.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:wd,render:e}};Y.isValidElement=Bs;Y.lazy=function(e){return{$$typeof:Cd,_payload:{_status:-1,_result:e},_init:Ld}};Y.memo=function(e,t){return{$$typeof:Sd,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=al.transition;al.transition={};try{e()}finally{al.transition=t}};Y.unstable_act=su;Y.useCallback=function(e,t){return Ue.current.useCallback(e,t)};Y.useContext=function(e){return Ue.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};Y.useEffect=function(e,t){return Ue.current.useEffect(e,t)};Y.useId=function(){return Ue.current.useId()};Y.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};Y.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return Ue.current.useMemo(e,t)};Y.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};Y.useRef=function(e){return Ue.current.useRef(e)};Y.useState=function(e){return Ue.current.useState(e)};Y.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};Y.useTransition=function(){return Ue.current.useTransition()};Y.version="18.3.1";qa.exports=Y;var v=qa.exports;const iu=_d(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=v,jd=Symbol.for("react.element"),Md=Symbol.for("react.fragment"),Id=Object.prototype.hasOwnProperty,Pd=Od.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dd={key:!0,ref:!0,__self:!0,__source:!0};function au(e,t,n){var r,l={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Id.call(t,r)&&!Dd.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:jd,type:e,key:o,ref:s,props:l,_owner:Pd.current}}bl.Fragment=Md;bl.jsx=au;bl.jsxs=au;Za.exports=bl;var u=Za.exports,vl={},uu={exports:{}},tt={},cu={exports:{}},du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,K){var F=M.length;M.push(K);e:for(;0<F;){var G=F-1>>>1,D=M[G];if(0<l(D,K))M[G]=K,M[F]=D,F=G;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var K=M[0],F=M.pop();if(F!==K){M[0]=F;e:for(var G=0,D=M.length,re=D>>>1;G<re;){var de=2*(G+1)-1,xe=M[de],we=de+1,ke=M[we];if(0>l(xe,F))we<D&&0>l(ke,xe)?(M[G]=ke,M[we]=F,G=we):(M[G]=xe,M[de]=F,G=de);else if(we<D&&0>l(ke,F))M[G]=ke,M[we]=F,G=we;else break e}}return K}function l(M,K){var F=M.sortIndex-K.sortIndex;return F!==0?F:M.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var a=[],d=[],p=1,h=null,m=3,S=!1,w=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(M){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=M)r(d),K.sortIndex=K.expirationTime,t(a,K);else break;K=n(d)}}function E(M){if(k=!1,g(M),!w)if(n(a)!==null)w=!0,ut(x);else{var K=n(d);K!==null&&ct(E,K.startTime-M)}}function x(M,K){w=!1,k&&(k=!1,_(O),O=-1),S=!0;var F=m;try{for(g(K),h=n(a);h!==null&&(!(h.expirationTime>K)||M&&!ve());){var G=h.callback;if(typeof G=="function"){h.callback=null,m=h.priorityLevel;var D=G(h.expirationTime<=K);K=e.unstable_now(),typeof D=="function"?h.callback=D:h===n(a)&&r(a),g(K)}else r(a);h=n(a)}if(h!==null)var re=!0;else{var de=n(d);de!==null&&ct(E,de.startTime-K),re=!1}return re}finally{h=null,m=F,S=!1}}var T=!1,N=null,O=-1,te=5,U=-1;function ve(){return!(e.unstable_now()-U<te)}function ce(){if(N!==null){var M=e.unstable_now();U=M;var K=!0;try{K=N(!0,M)}finally{K?Ke():(T=!1,N=null)}}else T=!1}var Ke;if(typeof f=="function")Ke=function(){f(ce)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Qe=Ie.port2;Ie.port1.onmessage=ce,Ke=function(){Qe.postMessage(null)}}else Ke=function(){j(ce,0)};function ut(M){N=M,T||(T=!0,Ke())}function ct(M,K){O=j(function(){M(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){w||S||(w=!0,ut(x))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var F=m;m=K;try{return M()}finally{m=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=m;m=M;try{return K()}finally{m=F}},e.unstable_scheduleCallback=function(M,K,F){var G=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,M){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=F+D,M={id:p++,callback:K,priorityLevel:M,startTime:F,expirationTime:D,sortIndex:-1},F>G?(M.sortIndex=F,t(d,M),n(a)===null&&M===n(d)&&(k?(_(O),O=-1):k=!0,ct(E,F-G))):(M.sortIndex=D,t(a,M),w||S||(w=!0,ut(x))),M},e.unstable_shouldYield=ve,e.unstable_wrapCallback=function(M){var K=m;return function(){var F=m;m=K;try{return M.apply(this,arguments)}finally{m=F}}}})(du);cu.exports=du;var Ad=cu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=v,et=Ad;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pu=new Set,xr={};function wn(e,t){Wn(e,t),Wn(e+"Capture",t)}function Wn(e,t){for(xr[e]=t,e=0;e<t.length;e++)pu.add(t[e])}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wo=Object.prototype.hasOwnProperty,Kd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fi={},Ki={};function zd(e){return Wo.call(Ki,e)?!0:Wo.call(Fi,e)?!1:Kd.test(e)?Ki[e]=!0:(Fi[e]=!0,!1)}function $d(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ud(e,t,n,r){if(t===null||typeof t>"u"||$d(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,l,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gs=/[\-:]([a-z])/g;function Hs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gs,Hs);Me[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gs,Hs);Me[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gs,Hs);Me[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function bs(e,t,n,r){var l=Me.hasOwnProperty(t)?Me[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ud(t,n,l,r)&&(n=null),r||l===null?zd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zt=Fd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Br=Symbol.for("react.element"),Cn=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),Vs=Symbol.for("react.strict_mode"),Bo=Symbol.for("react.profiler"),fu=Symbol.for("react.provider"),_u=Symbol.for("react.context"),Qs=Symbol.for("react.forward_ref"),Go=Symbol.for("react.suspense"),Ho=Symbol.for("react.suspense_list"),Ys=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),gu=Symbol.for("react.offscreen"),zi=Symbol.iterator;function Jn(e){return e===null||typeof e!="object"?null:(e=zi&&e[zi]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,ho;function ir(e){if(ho===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ho=t&&t[1]||""}return`
`+ho+e}var yo=!1;function vo(e,t){if(!e||yo)return"";yo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),o=r.stack.split(`
`),s=l.length-1,i=o.length-1;1<=s&&0<=i&&l[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(l[s]!==o[i]){if(s!==1||i!==1)do if(s--,i--,0>i||l[s]!==o[i]){var a=`
`+l[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=i);break}}}finally{yo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ir(e):""}function Wd(e){switch(e.tag){case 5:return ir(e.type);case 16:return ir("Lazy");case 13:return ir("Suspense");case 19:return ir("SuspenseList");case 0:case 2:case 15:return e=vo(e.type,!1),e;case 11:return e=vo(e.type.render,!1),e;case 1:return e=vo(e.type,!0),e;default:return""}}function bo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kn:return"Fragment";case Cn:return"Portal";case Bo:return"Profiler";case Vs:return"StrictMode";case Go:return"Suspense";case Ho:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _u:return(e.displayName||"Context")+".Consumer";case fu:return(e._context.displayName||"Context")+".Provider";case Qs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ys:return t=e.displayName||null,t!==null?t:bo(e.type)||"Memo";case Ut:t=e._payload,e=e._init;try{return bo(e(t))}catch{}}return null}function Bd(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bo(t);case 8:return t===Vs?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gd(e){var t=mu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gr(e){e._valueTracker||(e._valueTracker=Gd(e))}function hu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=mu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vo(e,t){var n=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $i(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yu(e,t){t=t.checked,t!=null&&bs(e,"checked",t,!1)}function Qo(e,t){yu(e,t);var n=tn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yo(e,t.type,tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ui(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yo(e,t,n){(t!=="number"||xl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ar=Array.isArray;function An(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Xo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wi(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(ar(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tn(n)}}function vu(e,t){var n=tn(t.value),r=tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hr,wu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hd=["Webkit","ms","Moz","O"];Object.keys(dr).forEach(function(e){Hd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dr[t]=dr[e]})});function Eu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||dr.hasOwnProperty(e)&&dr[e]?(""+t).trim():t+"px"}function Su(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Eu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var bd=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qo(e,t){if(t){if(bd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Jo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var es=null;function Xs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ts=null,Fn=null,Kn=null;function Gi(e){if(e=$r(e)){if(typeof ts!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Zl(t),ts(e.stateNode,e.type,t))}}function Cu(e){Fn?Kn?Kn.push(e):Kn=[e]:Fn=e}function ku(){if(Fn){var e=Fn,t=Kn;if(Kn=Fn=null,Gi(e),t)for(e=0;e<t.length;e++)Gi(t[e])}}function Tu(e,t){return e(t)}function Ru(){}var xo=!1;function Lu(e,t,n){if(xo)return e(t,n);xo=!0;try{return Tu(e,t,n)}finally{xo=!1,(Fn!==null||Kn!==null)&&(Ru(),ku())}}function Er(e,t){var n=e.stateNode;if(n===null)return null;var r=Zl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var ns=!1;if(Dt)try{var er={};Object.defineProperty(er,"passive",{get:function(){ns=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{ns=!1}function Vd(e,t,n,r,l,o,s,i,a){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var pr=!1,wl=null,El=!1,rs=null,Qd={onError:function(e){pr=!0,wl=e}};function Yd(e,t,n,r,l,o,s,i,a){pr=!1,wl=null,Vd.apply(Qd,arguments)}function Xd(e,t,n,r,l,o,s,i,a){if(Yd.apply(this,arguments),pr){if(pr){var d=wl;pr=!1,wl=null}else throw Error(R(198));El||(El=!0,rs=d)}}function En(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hi(e){if(En(e)!==e)throw Error(R(188))}function Zd(e){var t=e.alternate;if(!t){if(t=En(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Hi(l),e;if(o===r)return Hi(l),t;o=o.sibling}throw Error(R(188))}if(n.return!==r.return)n=l,r=o;else{for(var s=!1,i=l.child;i;){if(i===n){s=!0,n=l,r=o;break}if(i===r){s=!0,r=l,n=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===n){s=!0,n=o,r=l;break}if(i===r){s=!0,r=o,n=l;break}i=i.sibling}if(!s)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Ou(e){return e=Zd(e),e!==null?ju(e):null}function ju(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ju(e);if(t!==null)return t;e=e.sibling}return null}var Mu=et.unstable_scheduleCallback,bi=et.unstable_cancelCallback,qd=et.unstable_shouldYield,Jd=et.unstable_requestPaint,he=et.unstable_now,ep=et.unstable_getCurrentPriorityLevel,Zs=et.unstable_ImmediatePriority,Iu=et.unstable_UserBlockingPriority,Sl=et.unstable_NormalPriority,tp=et.unstable_LowPriority,Pu=et.unstable_IdlePriority,Vl=null,Ct=null;function np(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Vl,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:op,rp=Math.log,lp=Math.LN2;function op(e){return e>>>=0,e===0?32:31-(rp(e)/lp|0)|0}var br=64,Vr=4194304;function ur(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var i=s&~l;i!==0?r=ur(i):(o&=s,o!==0&&(r=ur(o)))}else s=n&~l,s!==0?r=ur(s):o!==0&&(r=ur(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yt(t),l=1<<n,r|=e[n],t&=~l;return r}function sp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ip(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-yt(o),i=1<<s,a=l[s];a===-1?(!(i&n)||i&r)&&(l[s]=sp(i,t)):a<=t&&(e.expiredLanes|=i),o&=~i}}function ls(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Du(){var e=br;return br<<=1,!(br&4194240)&&(br=64),e}function wo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=n}function ap(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-yt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function qs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var ne=0;function Au(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fu,Js,Ku,zu,$u,os=!1,Qr=[],Vt=null,Qt=null,Yt=null,Sr=new Map,Cr=new Map,Bt=[],up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vi(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(t.pointerId)}}function tr(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=$r(t),t!==null&&Js(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function cp(e,t,n,r,l){switch(t){case"focusin":return Vt=tr(Vt,e,t,n,r,l),!0;case"dragenter":return Qt=tr(Qt,e,t,n,r,l),!0;case"mouseover":return Yt=tr(Yt,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return Sr.set(o,tr(Sr.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,Cr.set(o,tr(Cr.get(o)||null,e,t,n,r,l)),!0}return!1}function Uu(e){var t=dn(e.target);if(t!==null){var n=En(t);if(n!==null){if(t=n.tag,t===13){if(t=Nu(n),t!==null){e.blockedOn=t,$u(e.priority,function(){Ku(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ss(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);es=r,n.target.dispatchEvent(r),es=null}else return t=$r(n),t!==null&&Js(t),e.blockedOn=n,!1;t.shift()}return!0}function Qi(e,t,n){ul(e)&&n.delete(t)}function dp(){os=!1,Vt!==null&&ul(Vt)&&(Vt=null),Qt!==null&&ul(Qt)&&(Qt=null),Yt!==null&&ul(Yt)&&(Yt=null),Sr.forEach(Qi),Cr.forEach(Qi)}function nr(e,t){e.blockedOn===t&&(e.blockedOn=null,os||(os=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,dp)))}function kr(e){function t(l){return nr(l,e)}if(0<Qr.length){nr(Qr[0],e);for(var n=1;n<Qr.length;n++){var r=Qr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vt!==null&&nr(Vt,e),Qt!==null&&nr(Qt,e),Yt!==null&&nr(Yt,e),Sr.forEach(t),Cr.forEach(t),n=0;n<Bt.length;n++)r=Bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&(n=Bt[0],n.blockedOn===null);)Uu(n),n.blockedOn===null&&Bt.shift()}var zn=zt.ReactCurrentBatchConfig,kl=!0;function pp(e,t,n,r){var l=ne,o=zn.transition;zn.transition=null;try{ne=1,ei(e,t,n,r)}finally{ne=l,zn.transition=o}}function fp(e,t,n,r){var l=ne,o=zn.transition;zn.transition=null;try{ne=4,ei(e,t,n,r)}finally{ne=l,zn.transition=o}}function ei(e,t,n,r){if(kl){var l=ss(e,t,n,r);if(l===null)jo(e,t,r,Tl,n),Vi(e,r);else if(cp(l,e,t,n,r))r.stopPropagation();else if(Vi(e,r),t&4&&-1<up.indexOf(e)){for(;l!==null;){var o=$r(l);if(o!==null&&Fu(o),o=ss(e,t,n,r),o===null&&jo(e,t,r,Tl,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else jo(e,t,r,null,n)}}var Tl=null;function ss(e,t,n,r){if(Tl=null,e=Xs(r),e=dn(e),e!==null)if(t=En(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Nu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tl=e,null}function Wu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ep()){case Zs:return 1;case Iu:return 4;case Sl:case tp:return 16;case Pu:return 536870912;default:return 16}default:return 16}}var Ht=null,ti=null,cl=null;function Bu(){if(cl)return cl;var e,t=ti,n=t.length,r,l="value"in Ht?Ht.value:Ht.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===l[o-r];r++);return cl=l.slice(e,1<r?1-r:void 0)}function dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yr(){return!0}function Yi(){return!1}function nt(e){function t(n,r,l,o,s){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yr:Yi,this.isPropagationStopped=Yi,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),t}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=nt(Xn),zr=_e({},Xn,{view:0,detail:0}),_p=nt(zr),Eo,So,rr,Ql=_e({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ri,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rr&&(rr&&e.type==="mousemove"?(Eo=e.screenX-rr.screenX,So=e.screenY-rr.screenY):So=Eo=0,rr=e),Eo)},movementY:function(e){return"movementY"in e?e.movementY:So}}),Xi=nt(Ql),gp=_e({},Ql,{dataTransfer:0}),mp=nt(gp),hp=_e({},zr,{relatedTarget:0}),Co=nt(hp),yp=_e({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),vp=nt(yp),xp=_e({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wp=nt(xp),Ep=_e({},Xn,{data:0}),Zi=nt(Ep),Sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kp[e])?!!t[e]:!1}function ri(){return Tp}var Rp=_e({},zr,{key:function(e){if(e.key){var t=Sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ri,charCode:function(e){return e.type==="keypress"?dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lp=nt(Rp),Np=_e({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=nt(Np),Op=_e({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ri}),jp=nt(Op),Mp=_e({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ip=nt(Mp),Pp=_e({},Ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dp=nt(Pp),Ap=[9,13,27,32],li=Dt&&"CompositionEvent"in window,fr=null;Dt&&"documentMode"in document&&(fr=document.documentMode);var Fp=Dt&&"TextEvent"in window&&!fr,Gu=Dt&&(!li||fr&&8<fr&&11>=fr),Ji=" ",ea=!1;function Hu(e,t){switch(e){case"keyup":return Ap.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tn=!1;function Kp(e,t){switch(e){case"compositionend":return bu(t);case"keypress":return t.which!==32?null:(ea=!0,Ji);case"textInput":return e=t.data,e===Ji&&ea?null:e;default:return null}}function zp(e,t){if(Tn)return e==="compositionend"||!li&&Hu(e,t)?(e=Bu(),cl=ti=Ht=null,Tn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gu&&t.locale!=="ko"?null:t.data;default:return null}}var $p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$p[e.type]:t==="textarea"}function Vu(e,t,n,r){Cu(r),t=Rl(t,"onChange"),0<t.length&&(n=new ni("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _r=null,Tr=null;function Up(e){lc(e,0)}function Yl(e){var t=Nn(e);if(hu(t))return e}function Wp(e,t){if(e==="change")return t}var Qu=!1;if(Dt){var ko;if(Dt){var To="oninput"in document;if(!To){var na=document.createElement("div");na.setAttribute("oninput","return;"),To=typeof na.oninput=="function"}ko=To}else ko=!1;Qu=ko&&(!document.documentMode||9<document.documentMode)}function ra(){_r&&(_r.detachEvent("onpropertychange",Yu),Tr=_r=null)}function Yu(e){if(e.propertyName==="value"&&Yl(Tr)){var t=[];Vu(t,Tr,e,Xs(e)),Lu(Up,t)}}function Bp(e,t,n){e==="focusin"?(ra(),_r=t,Tr=n,_r.attachEvent("onpropertychange",Yu)):e==="focusout"&&ra()}function Gp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(Tr)}function Hp(e,t){if(e==="click")return Yl(t)}function bp(e,t){if(e==="input"||e==="change")return Yl(t)}function Vp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Vp;function Rr(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Wo.call(t,l)||!xt(e[l],t[l]))return!1}return!0}function la(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oa(e,t){var n=la(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=la(n)}}function Xu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zu(){for(var e=window,t=xl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xl(e.document)}return t}function oi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qp(e){var t=Zu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xu(n.ownerDocument.documentElement,n)){if(r!==null&&oi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=oa(n,o);var s=oa(n,r);l&&s&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yp=Dt&&"documentMode"in document&&11>=document.documentMode,Rn=null,is=null,gr=null,as=!1;function sa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;as||Rn==null||Rn!==xl(r)||(r=Rn,"selectionStart"in r&&oi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gr&&Rr(gr,r)||(gr=r,r=Rl(is,"onSelect"),0<r.length&&(t=new ni("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rn)))}function Xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ln={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionend:Xr("Transition","TransitionEnd")},Ro={},qu={};Dt&&(qu=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function Xl(e){if(Ro[e])return Ro[e];if(!Ln[e])return e;var t=Ln[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qu)return Ro[e]=t[n];return e}var Ju=Xl("animationend"),ec=Xl("animationiteration"),tc=Xl("animationstart"),nc=Xl("transitionend"),rc=new Map,ia="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(e,t){rc.set(e,t),wn(t,[e])}for(var Lo=0;Lo<ia.length;Lo++){var No=ia[Lo],Xp=No.toLowerCase(),Zp=No[0].toUpperCase()+No.slice(1);rn(Xp,"on"+Zp)}rn(Ju,"onAnimationEnd");rn(ec,"onAnimationIteration");rn(tc,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(nc,"onTransitionEnd");Wn("onMouseEnter",["mouseout","mouseover"]);Wn("onMouseLeave",["mouseout","mouseover"]);Wn("onPointerEnter",["pointerout","pointerover"]);Wn("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qp=new Set("cancel close invalid load scroll toggle".split(" ").concat(cr));function aa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xd(r,t,void 0,e),e.currentTarget=null}function lc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],a=i.instance,d=i.currentTarget;if(i=i.listener,a!==o&&l.isPropagationStopped())break e;aa(l,i,d),o=a}else for(s=0;s<r.length;s++){if(i=r[s],a=i.instance,d=i.currentTarget,i=i.listener,a!==o&&l.isPropagationStopped())break e;aa(l,i,d),o=a}}}if(El)throw e=rs,El=!1,rs=null,e}function ie(e,t){var n=t[fs];n===void 0&&(n=t[fs]=new Set);var r=e+"__bubble";n.has(r)||(oc(t,e,2,!1),n.add(r))}function Oo(e,t,n){var r=0;t&&(r|=4),oc(n,e,r,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[Zr]){e[Zr]=!0,pu.forEach(function(n){n!=="selectionchange"&&(qp.has(n)||Oo(n,!1,e),Oo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zr]||(t[Zr]=!0,Oo("selectionchange",!1,t))}}function oc(e,t,n,r){switch(Wu(t)){case 1:var l=pp;break;case 4:l=fp;break;default:l=ei}n=l.bind(null,t,n,e),l=void 0,!ns||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function jo(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===l||a.nodeType===8&&a.parentNode===l))return;s=s.return}for(;i!==null;){if(s=dn(i),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}i=i.parentNode}}r=r.return}Lu(function(){var d=o,p=Xs(n),h=[];e:{var m=rc.get(e);if(m!==void 0){var S=ni,w=e;switch(e){case"keypress":if(dl(n)===0)break e;case"keydown":case"keyup":S=Lp;break;case"focusin":w="focus",S=Co;break;case"focusout":w="blur",S=Co;break;case"beforeblur":case"afterblur":S=Co;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=mp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=jp;break;case Ju:case ec:case tc:S=vp;break;case nc:S=Ip;break;case"scroll":S=_p;break;case"wheel":S=Dp;break;case"copy":case"cut":case"paste":S=wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=qi}var k=(t&4)!==0,j=!k&&e==="scroll",_=k?m!==null?m+"Capture":null:m;k=[];for(var f=d,g;f!==null;){g=f;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,_!==null&&(E=Er(f,_),E!=null&&k.push(Nr(f,E,g)))),j)break;f=f.return}0<k.length&&(m=new S(m,w,null,n,p),h.push({event:m,listeners:k}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",m&&n!==es&&(w=n.relatedTarget||n.fromElement)&&(dn(w)||w[At]))break e;if((S||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,S?(w=n.relatedTarget||n.toElement,S=d,w=w?dn(w):null,w!==null&&(j=En(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(S=null,w=d),S!==w)){if(k=Xi,E="onMouseLeave",_="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(k=qi,E="onPointerLeave",_="onPointerEnter",f="pointer"),j=S==null?m:Nn(S),g=w==null?m:Nn(w),m=new k(E,f+"leave",S,n,p),m.target=j,m.relatedTarget=g,E=null,dn(p)===d&&(k=new k(_,f+"enter",w,n,p),k.target=g,k.relatedTarget=j,E=k),j=E,S&&w)t:{for(k=S,_=w,f=0,g=k;g;g=Sn(g))f++;for(g=0,E=_;E;E=Sn(E))g++;for(;0<f-g;)k=Sn(k),f--;for(;0<g-f;)_=Sn(_),g--;for(;f--;){if(k===_||_!==null&&k===_.alternate)break t;k=Sn(k),_=Sn(_)}k=null}else k=null;S!==null&&ua(h,m,S,k,!1),w!==null&&j!==null&&ua(h,j,w,k,!0)}}e:{if(m=d?Nn(d):window,S=m.nodeName&&m.nodeName.toLowerCase(),S==="select"||S==="input"&&m.type==="file")var x=Wp;else if(ta(m))if(Qu)x=bp;else{x=Gp;var T=Bp}else(S=m.nodeName)&&S.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=Hp);if(x&&(x=x(e,d))){Vu(h,x,n,p);break e}T&&T(e,m,d),e==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&Yo(m,"number",m.value)}switch(T=d?Nn(d):window,e){case"focusin":(ta(T)||T.contentEditable==="true")&&(Rn=T,is=d,gr=null);break;case"focusout":gr=is=Rn=null;break;case"mousedown":as=!0;break;case"contextmenu":case"mouseup":case"dragend":as=!1,sa(h,n,p);break;case"selectionchange":if(Yp)break;case"keydown":case"keyup":sa(h,n,p)}var N;if(li)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Tn?Hu(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Gu&&n.locale!=="ko"&&(Tn||O!=="onCompositionStart"?O==="onCompositionEnd"&&Tn&&(N=Bu()):(Ht=p,ti="value"in Ht?Ht.value:Ht.textContent,Tn=!0)),T=Rl(d,O),0<T.length&&(O=new Zi(O,e,null,n,p),h.push({event:O,listeners:T}),N?O.data=N:(N=bu(n),N!==null&&(O.data=N)))),(N=Fp?Kp(e,n):zp(e,n))&&(d=Rl(d,"onBeforeInput"),0<d.length&&(p=new Zi("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:d}),p.data=N))}lc(h,t)})}function Nr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=Er(e,n),o!=null&&r.unshift(Nr(e,o,l)),o=Er(e,t),o!=null&&r.push(Nr(e,o,l))),e=e.return}return r}function Sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ua(e,t,n,r,l){for(var o=t._reactName,s=[];n!==null&&n!==r;){var i=n,a=i.alternate,d=i.stateNode;if(a!==null&&a===r)break;i.tag===5&&d!==null&&(i=d,l?(a=Er(n,o),a!=null&&s.unshift(Nr(n,a,i))):l||(a=Er(n,o),a!=null&&s.push(Nr(n,a,i)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Jp=/\r\n?/g,ef=/\u0000|\uFFFD/g;function ca(e){return(typeof e=="string"?e:""+e).replace(Jp,`
`).replace(ef,"")}function qr(e,t,n){if(t=ca(t),ca(e)!==t&&n)throw Error(R(425))}function Ll(){}var us=null,cs=null;function ds(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ps=typeof setTimeout=="function"?setTimeout:void 0,tf=typeof clearTimeout=="function"?clearTimeout:void 0,da=typeof Promise=="function"?Promise:void 0,nf=typeof queueMicrotask=="function"?queueMicrotask:typeof da<"u"?function(e){return da.resolve(null).then(e).catch(rf)}:ps;function rf(e){setTimeout(function(){throw e})}function Mo(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),kr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);kr(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),St="__reactFiber$"+Zn,Or="__reactProps$"+Zn,At="__reactContainer$"+Zn,fs="__reactEvents$"+Zn,lf="__reactListeners$"+Zn,of="__reactHandles$"+Zn;function dn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[At]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pa(e);e!==null;){if(n=e[St])return n;e=pa(e)}return t}e=n,n=e.parentNode}return null}function $r(e){return e=e[St]||e[At],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Zl(e){return e[Or]||null}var _s=[],On=-1;function ln(e){return{current:e}}function ae(e){0>On||(e.current=_s[On],_s[On]=null,On--)}function le(e,t){On++,_s[On]=e.current,e.current=t}var nn={},Fe=ln(nn),He=ln(!1),mn=nn;function Bn(e,t){var n=e.type.contextTypes;if(!n)return nn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function be(e){return e=e.childContextTypes,e!=null}function Nl(){ae(He),ae(Fe)}function fa(e,t,n){if(Fe.current!==nn)throw Error(R(168));le(Fe,t),le(He,n)}function sc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(R(108,Bd(e)||"Unknown",l));return _e({},n,r)}function Ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,mn=Fe.current,le(Fe,e),le(He,He.current),!0}function _a(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=sc(e,t,mn),r.__reactInternalMemoizedMergedChildContext=e,ae(He),ae(Fe),le(Fe,e)):ae(He),le(He,n)}var jt=null,ql=!1,Io=!1;function ic(e){jt===null?jt=[e]:jt.push(e)}function sf(e){ql=!0,ic(e)}function on(){if(!Io&&jt!==null){Io=!0;var e=0,t=ne;try{var n=jt;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}jt=null,ql=!1}catch(l){throw jt!==null&&(jt=jt.slice(e+1)),Mu(Zs,on),l}finally{ne=t,Io=!1}}return null}var jn=[],Mn=0,jl=null,Ml=0,rt=[],lt=0,hn=null,Mt=1,It="";function un(e,t){jn[Mn++]=Ml,jn[Mn++]=jl,jl=e,Ml=t}function ac(e,t,n){rt[lt++]=Mt,rt[lt++]=It,rt[lt++]=hn,hn=e;var r=Mt;e=It;var l=32-yt(r)-1;r&=~(1<<l),n+=1;var o=32-yt(t)+l;if(30<o){var s=l-l%5;o=(r&(1<<s)-1).toString(32),r>>=s,l-=s,Mt=1<<32-yt(t)+l|n<<l|r,It=o+e}else Mt=1<<o|n<<l|r,It=e}function si(e){e.return!==null&&(un(e,1),ac(e,1,0))}function ii(e){for(;e===jl;)jl=jn[--Mn],jn[Mn]=null,Ml=jn[--Mn],jn[Mn]=null;for(;e===hn;)hn=rt[--lt],rt[lt]=null,It=rt[--lt],rt[lt]=null,Mt=rt[--lt],rt[lt]=null}var Je=null,qe=null,ue=!1,ht=null;function uc(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ga(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,qe=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hn!==null?{id:Mt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,qe=null,!0):!1;default:return!1}}function gs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ms(e){if(ue){var t=qe;if(t){var n=t;if(!ga(e,t)){if(gs(e))throw Error(R(418));t=Xt(n.nextSibling);var r=Je;t&&ga(e,t)?uc(r,n):(e.flags=e.flags&-4097|2,ue=!1,Je=e)}}else{if(gs(e))throw Error(R(418));e.flags=e.flags&-4097|2,ue=!1,Je=e}}}function ma(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Jr(e){if(e!==Je)return!1;if(!ue)return ma(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ds(e.type,e.memoizedProps)),t&&(t=qe)){if(gs(e))throw cc(),Error(R(418));for(;t;)uc(e,t),t=Xt(t.nextSibling)}if(ma(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=Xt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Je?Xt(e.stateNode.nextSibling):null;return!0}function cc(){for(var e=qe;e;)e=Xt(e.nextSibling)}function Gn(){qe=Je=null,ue=!1}function ai(e){ht===null?ht=[e]:ht.push(e)}var af=zt.ReactCurrentBatchConfig;function lr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var i=l.refs;s===null?delete i[o]:i[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function el(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ha(e){var t=e._init;return t(e._payload)}function dc(e){function t(_,f){if(e){var g=_.deletions;g===null?(_.deletions=[f],_.flags|=16):g.push(f)}}function n(_,f){if(!e)return null;for(;f!==null;)t(_,f),f=f.sibling;return null}function r(_,f){for(_=new Map;f!==null;)f.key!==null?_.set(f.key,f):_.set(f.index,f),f=f.sibling;return _}function l(_,f){return _=en(_,f),_.index=0,_.sibling=null,_}function o(_,f,g){return _.index=g,e?(g=_.alternate,g!==null?(g=g.index,g<f?(_.flags|=2,f):g):(_.flags|=2,f)):(_.flags|=1048576,f)}function s(_){return e&&_.alternate===null&&(_.flags|=2),_}function i(_,f,g,E){return f===null||f.tag!==6?(f=$o(g,_.mode,E),f.return=_,f):(f=l(f,g),f.return=_,f)}function a(_,f,g,E){var x=g.type;return x===kn?p(_,f,g.props.children,E,g.key):f!==null&&(f.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ut&&ha(x)===f.type)?(E=l(f,g.props),E.ref=lr(_,f,g),E.return=_,E):(E=yl(g.type,g.key,g.props,null,_.mode,E),E.ref=lr(_,f,g),E.return=_,E)}function d(_,f,g,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Uo(g,_.mode,E),f.return=_,f):(f=l(f,g.children||[]),f.return=_,f)}function p(_,f,g,E,x){return f===null||f.tag!==7?(f=gn(g,_.mode,E,x),f.return=_,f):(f=l(f,g),f.return=_,f)}function h(_,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=$o(""+f,_.mode,g),f.return=_,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Br:return g=yl(f.type,f.key,f.props,null,_.mode,g),g.ref=lr(_,null,f),g.return=_,g;case Cn:return f=Uo(f,_.mode,g),f.return=_,f;case Ut:var E=f._init;return h(_,E(f._payload),g)}if(ar(f)||Jn(f))return f=gn(f,_.mode,g,null),f.return=_,f;el(_,f)}return null}function m(_,f,g,E){var x=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:i(_,f,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Br:return g.key===x?a(_,f,g,E):null;case Cn:return g.key===x?d(_,f,g,E):null;case Ut:return x=g._init,m(_,f,x(g._payload),E)}if(ar(g)||Jn(g))return x!==null?null:p(_,f,g,E,null);el(_,g)}return null}function S(_,f,g,E,x){if(typeof E=="string"&&E!==""||typeof E=="number")return _=_.get(g)||null,i(f,_,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Br:return _=_.get(E.key===null?g:E.key)||null,a(f,_,E,x);case Cn:return _=_.get(E.key===null?g:E.key)||null,d(f,_,E,x);case Ut:var T=E._init;return S(_,f,g,T(E._payload),x)}if(ar(E)||Jn(E))return _=_.get(g)||null,p(f,_,E,x,null);el(f,E)}return null}function w(_,f,g,E){for(var x=null,T=null,N=f,O=f=0,te=null;N!==null&&O<g.length;O++){N.index>O?(te=N,N=null):te=N.sibling;var U=m(_,N,g[O],E);if(U===null){N===null&&(N=te);break}e&&N&&U.alternate===null&&t(_,N),f=o(U,f,O),T===null?x=U:T.sibling=U,T=U,N=te}if(O===g.length)return n(_,N),ue&&un(_,O),x;if(N===null){for(;O<g.length;O++)N=h(_,g[O],E),N!==null&&(f=o(N,f,O),T===null?x=N:T.sibling=N,T=N);return ue&&un(_,O),x}for(N=r(_,N);O<g.length;O++)te=S(N,_,O,g[O],E),te!==null&&(e&&te.alternate!==null&&N.delete(te.key===null?O:te.key),f=o(te,f,O),T===null?x=te:T.sibling=te,T=te);return e&&N.forEach(function(ve){return t(_,ve)}),ue&&un(_,O),x}function k(_,f,g,E){var x=Jn(g);if(typeof x!="function")throw Error(R(150));if(g=x.call(g),g==null)throw Error(R(151));for(var T=x=null,N=f,O=f=0,te=null,U=g.next();N!==null&&!U.done;O++,U=g.next()){N.index>O?(te=N,N=null):te=N.sibling;var ve=m(_,N,U.value,E);if(ve===null){N===null&&(N=te);break}e&&N&&ve.alternate===null&&t(_,N),f=o(ve,f,O),T===null?x=ve:T.sibling=ve,T=ve,N=te}if(U.done)return n(_,N),ue&&un(_,O),x;if(N===null){for(;!U.done;O++,U=g.next())U=h(_,U.value,E),U!==null&&(f=o(U,f,O),T===null?x=U:T.sibling=U,T=U);return ue&&un(_,O),x}for(N=r(_,N);!U.done;O++,U=g.next())U=S(N,_,O,U.value,E),U!==null&&(e&&U.alternate!==null&&N.delete(U.key===null?O:U.key),f=o(U,f,O),T===null?x=U:T.sibling=U,T=U);return e&&N.forEach(function(ce){return t(_,ce)}),ue&&un(_,O),x}function j(_,f,g,E){if(typeof g=="object"&&g!==null&&g.type===kn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Br:e:{for(var x=g.key,T=f;T!==null;){if(T.key===x){if(x=g.type,x===kn){if(T.tag===7){n(_,T.sibling),f=l(T,g.props.children),f.return=_,_=f;break e}}else if(T.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ut&&ha(x)===T.type){n(_,T.sibling),f=l(T,g.props),f.ref=lr(_,T,g),f.return=_,_=f;break e}n(_,T);break}else t(_,T);T=T.sibling}g.type===kn?(f=gn(g.props.children,_.mode,E,g.key),f.return=_,_=f):(E=yl(g.type,g.key,g.props,null,_.mode,E),E.ref=lr(_,f,g),E.return=_,_=E)}return s(_);case Cn:e:{for(T=g.key;f!==null;){if(f.key===T)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(_,f.sibling),f=l(f,g.children||[]),f.return=_,_=f;break e}else{n(_,f);break}else t(_,f);f=f.sibling}f=Uo(g,_.mode,E),f.return=_,_=f}return s(_);case Ut:return T=g._init,j(_,f,T(g._payload),E)}if(ar(g))return w(_,f,g,E);if(Jn(g))return k(_,f,g,E);el(_,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(_,f.sibling),f=l(f,g),f.return=_,_=f):(n(_,f),f=$o(g,_.mode,E),f.return=_,_=f),s(_)):n(_,f)}return j}var Hn=dc(!0),pc=dc(!1),Il=ln(null),Pl=null,In=null,ui=null;function ci(){ui=In=Pl=null}function di(e){var t=Il.current;ae(Il),e._currentValue=t}function hs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $n(e,t){Pl=e,ui=In=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if(ui!==e)if(e={context:e,memoizedValue:t,next:null},In===null){if(Pl===null)throw Error(R(308));In=e,Pl.dependencies={lanes:0,firstContext:e}}else In=In.next=e;return t}var pn=null;function pi(e){pn===null?pn=[e]:pn.push(e)}function fc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,pi(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ft(e,r)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wt=!1;function fi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _c(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Ft(e,n)}return l=r.interleaved,l===null?(t.next=t,pi(r)):(t.next=l.next,l.next=t),r.interleaved=t,Ft(e,n)}function pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qs(e,n)}}function ya(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dl(e,t,n,r){var l=e.updateQueue;Wt=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var a=i,d=a.next;a.next=null,s===null?o=d:s.next=d,s=a;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==s&&(i===null?p.firstBaseUpdate=d:i.next=d,p.lastBaseUpdate=a))}if(o!==null){var h=l.baseState;s=0,p=d=a=null,i=o;do{var m=i.lane,S=i.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:S,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var w=e,k=i;switch(m=t,S=n,k.tag){case 1:if(w=k.payload,typeof w=="function"){h=w.call(S,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=k.payload,m=typeof w=="function"?w.call(S,h,m):w,m==null)break e;h=_e({},h,m);break e;case 2:Wt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,m=l.effects,m===null?l.effects=[i]:m.push(i))}else S={eventTime:S,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(d=p=S,a=h):p=p.next=S,s|=m;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;m=i,i=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);if(p===null&&(a=h),l.baseState=a,l.firstBaseUpdate=d,l.lastBaseUpdate=p,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);vn|=s,e.lanes=s,e.memoizedState=h}}function va(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(R(191,l));l.call(r)}}}var Ur={},kt=ln(Ur),jr=ln(Ur),Mr=ln(Ur);function fn(e){if(e===Ur)throw Error(R(174));return e}function _i(e,t){switch(le(Mr,t),le(jr,e),le(kt,Ur),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zo(t,e)}ae(kt),le(kt,t)}function bn(){ae(kt),ae(jr),ae(Mr)}function gc(e){fn(Mr.current);var t=fn(kt.current),n=Zo(t,e.type);t!==n&&(le(jr,e),le(kt,n))}function gi(e){jr.current===e&&(ae(kt),ae(jr))}var pe=ln(0);function Al(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Po=[];function mi(){for(var e=0;e<Po.length;e++)Po[e]._workInProgressVersionPrimary=null;Po.length=0}var fl=zt.ReactCurrentDispatcher,Do=zt.ReactCurrentBatchConfig,yn=0,fe=null,Se=null,Te=null,Fl=!1,mr=!1,Ir=0,uf=0;function Pe(){throw Error(R(321))}function hi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function yi(e,t,n,r,l,o){if(yn=o,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fl.current=e===null||e.memoizedState===null?ff:_f,e=n(r,l),mr){o=0;do{if(mr=!1,Ir=0,25<=o)throw Error(R(301));o+=1,Te=Se=null,t.updateQueue=null,fl.current=gf,e=n(r,l)}while(mr)}if(fl.current=Kl,t=Se!==null&&Se.next!==null,yn=0,Te=Se=fe=null,Fl=!1,t)throw Error(R(300));return e}function vi(){var e=Ir!==0;return Ir=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?fe.memoizedState=Te=e:Te=Te.next=e,Te}function at(){if(Se===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Te===null?fe.memoizedState:Te.next;if(t!==null)Te=t,Se=e;else{if(e===null)throw Error(R(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Te===null?fe.memoizedState=Te=e:Te=Te.next=e}return Te}function Pr(e,t){return typeof t=="function"?t(e):t}function Ao(e){var t=at(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=Se,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var i=s=null,a=null,d=o;do{var p=d.lane;if((yn&p)===p)a!==null&&(a=a.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};a===null?(i=a=h,s=r):a=a.next=h,fe.lanes|=p,vn|=p}d=d.next}while(d!==null&&d!==o);a===null?s=r:a.next=i,xt(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,fe.lanes|=o,vn|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fo(e){var t=at(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do o=e(o,s.action),s=s.next;while(s!==l);xt(o,t.memoizedState)||(Ge=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function mc(){}function hc(e,t){var n=fe,r=at(),l=t(),o=!xt(r.memoizedState,l);if(o&&(r.memoizedState=l,Ge=!0),r=r.queue,xi(xc.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Dr(9,vc.bind(null,n,r,l,t),void 0,null),Ne===null)throw Error(R(349));yn&30||yc(n,t,l)}return l}function yc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vc(e,t,n,r){t.value=n,t.getSnapshot=r,wc(t)&&Ec(e)}function xc(e,t,n){return n(function(){wc(t)&&Ec(e)})}function wc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function Ec(e){var t=Ft(e,1);t!==null&&vt(t,e,1,-1)}function xa(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:e},t.queue=e,e=e.dispatch=pf.bind(null,fe,e),[t.memoizedState,e]}function Dr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Sc(){return at().memoizedState}function _l(e,t,n,r){var l=Et();fe.flags|=e,l.memoizedState=Dr(1|t,n,void 0,r===void 0?null:r)}function Jl(e,t,n,r){var l=at();r=r===void 0?null:r;var o=void 0;if(Se!==null){var s=Se.memoizedState;if(o=s.destroy,r!==null&&hi(r,s.deps)){l.memoizedState=Dr(t,n,o,r);return}}fe.flags|=e,l.memoizedState=Dr(1|t,n,o,r)}function wa(e,t){return _l(8390656,8,e,t)}function xi(e,t){return Jl(2048,8,e,t)}function Cc(e,t){return Jl(4,2,e,t)}function kc(e,t){return Jl(4,4,e,t)}function Tc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rc(e,t,n){return n=n!=null?n.concat([e]):null,Jl(4,4,Tc.bind(null,t,e),n)}function wi(){}function Lc(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Nc(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&hi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Oc(e,t,n){return yn&21?(xt(n,t)||(n=Du(),fe.lanes|=n,vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function cf(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=Do.transition;Do.transition={};try{e(!1),t()}finally{ne=n,Do.transition=r}}function jc(){return at().memoizedState}function df(e,t,n){var r=Jt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Mc(e))Ic(t,n);else if(n=fc(e,t,n,r),n!==null){var l=$e();vt(n,e,r,l),Pc(n,t,r)}}function pf(e,t,n){var r=Jt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mc(e))Ic(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,i=o(s,n);if(l.hasEagerState=!0,l.eagerState=i,xt(i,s)){var a=t.interleaved;a===null?(l.next=l,pi(t)):(l.next=a.next,a.next=l),t.interleaved=l;return}}catch{}finally{}n=fc(e,t,l,r),n!==null&&(l=$e(),vt(n,e,r,l),Pc(n,t,r))}}function Mc(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Ic(e,t){mr=Fl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qs(e,n)}}var Kl={readContext:it,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},ff={readContext:it,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:wa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_l(4194308,4,Tc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _l(4194308,4,e,t)},useInsertionEffect:function(e,t){return _l(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=df.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:xa,useDebugValue:wi,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=xa(!1),t=e[0];return e=cf.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fe,l=Et();if(ue){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Ne===null)throw Error(R(349));yn&30||yc(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,wa(xc.bind(null,r,o,e),[e]),r.flags|=2048,Dr(9,vc.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Et(),t=Ne.identifierPrefix;if(ue){var n=It,r=Mt;n=(r&~(1<<32-yt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ir++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_f={readContext:it,useCallback:Lc,useContext:it,useEffect:xi,useImperativeHandle:Rc,useInsertionEffect:Cc,useLayoutEffect:kc,useMemo:Nc,useReducer:Ao,useRef:Sc,useState:function(){return Ao(Pr)},useDebugValue:wi,useDeferredValue:function(e){var t=at();return Oc(t,Se.memoizedState,e)},useTransition:function(){var e=Ao(Pr)[0],t=at().memoizedState;return[e,t]},useMutableSource:mc,useSyncExternalStore:hc,useId:jc,unstable_isNewReconciler:!1},gf={readContext:it,useCallback:Lc,useContext:it,useEffect:xi,useImperativeHandle:Rc,useInsertionEffect:Cc,useLayoutEffect:kc,useMemo:Nc,useReducer:Fo,useRef:Sc,useState:function(){return Fo(Pr)},useDebugValue:wi,useDeferredValue:function(e){var t=at();return Se===null?t.memoizedState=e:Oc(t,Se.memoizedState,e)},useTransition:function(){var e=Fo(Pr)[0],t=at().memoizedState;return[e,t]},useMutableSource:mc,useSyncExternalStore:hc,useId:jc,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ys(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eo={isMounted:function(e){return(e=e._reactInternals)?En(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),l=Jt(e),o=Pt(r,l);o.payload=t,n!=null&&(o.callback=n),t=Zt(e,o,l),t!==null&&(vt(t,e,l,r),pl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),l=Jt(e),o=Pt(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Zt(e,o,l),t!==null&&(vt(t,e,l,r),pl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=Jt(e),l=Pt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Zt(e,l,r),t!==null&&(vt(t,e,r,n),pl(t,e,r))}};function Ea(e,t,n,r,l,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Rr(n,r)||!Rr(l,o):!0}function Dc(e,t,n){var r=!1,l=nn,o=t.contextType;return typeof o=="object"&&o!==null?o=it(o):(l=be(t)?mn:Fe.current,r=t.contextTypes,o=(r=r!=null)?Bn(e,l):nn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function Sa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&eo.enqueueReplaceState(t,t.state,null)}function vs(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},fi(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=it(o):(o=be(t)?mn:Fe.current,l.context=Bn(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ys(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&eo.enqueueReplaceState(l,l.state,null),Dl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Vn(e,t){try{var n="",r=t;do n+=Wd(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function Ko(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mf=typeof WeakMap=="function"?WeakMap:Map;function Ac(e,t,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Os=r),xs(e,t)},n}function Fc(e,t,n){n=Pt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){xs(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xs(e,t),typeof r!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Ca(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mf;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Of.bind(null,e,t,n),t.then(e,e))}function ka(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ta(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pt(-1,1),t.tag=2,Zt(n,t,1))),n.lanes|=1),e)}var hf=zt.ReactCurrentOwner,Ge=!1;function ze(e,t,n,r){t.child=e===null?pc(t,null,n,r):Hn(t,e.child,n,r)}function Ra(e,t,n,r,l){n=n.render;var o=t.ref;return $n(t,l),r=yi(e,t,n,r,o,l),n=vi(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Kt(e,t,l)):(ue&&n&&si(t),t.flags|=1,ze(e,t,r,l),t.child)}function La(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!Ni(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Kc(e,t,o,r,l)):(e=yl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Rr,n(s,r)&&e.ref===t.ref)return Kt(e,t,l)}return t.flags|=1,e=en(o,r),e.ref=t.ref,e.return=t,t.child=e}function Kc(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(Rr(o,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,Kt(e,t,l)}return ws(e,t,n,r,l)}function zc(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Dn,Ze),Ze|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Dn,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,le(Dn,Ze),Ze|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,le(Dn,Ze),Ze|=r;return ze(e,t,l,n),t.child}function $c(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ws(e,t,n,r,l){var o=be(n)?mn:Fe.current;return o=Bn(t,o),$n(t,l),n=yi(e,t,n,r,o,l),r=vi(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Kt(e,t,l)):(ue&&r&&si(t),t.flags|=1,ze(e,t,n,l),t.child)}function Na(e,t,n,r,l){if(be(n)){var o=!0;Ol(t)}else o=!1;if($n(t,l),t.stateNode===null)gl(e,t),Dc(t,n,r),vs(t,n,r,l),r=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var a=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=it(d):(d=be(n)?mn:Fe.current,d=Bn(t,d));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==r||a!==d)&&Sa(t,s,r,d),Wt=!1;var m=t.memoizedState;s.state=m,Dl(t,r,s,l),a=t.memoizedState,i!==r||m!==a||He.current||Wt?(typeof p=="function"&&(ys(t,n,p,r),a=t.memoizedState),(i=Wt||Ea(t,n,i,r,m,a,d))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=d,r=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,_c(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:gt(t.type,i),s.props=d,h=t.pendingProps,m=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=it(a):(a=be(n)?mn:Fe.current,a=Bn(t,a));var S=n.getDerivedStateFromProps;(p=typeof S=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==h||m!==a)&&Sa(t,s,r,a),Wt=!1,m=t.memoizedState,s.state=m,Dl(t,r,s,l);var w=t.memoizedState;i!==h||m!==w||He.current||Wt?(typeof S=="function"&&(ys(t,n,S,r),w=t.memoizedState),(d=Wt||Ea(t,n,d,r,m,w,a)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=a,r=d):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,o,l)}function Es(e,t,n,r,l,o){$c(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return l&&_a(t,n,!1),Kt(e,t,o);r=t.stateNode,hf.current=t;var i=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Hn(t,e.child,null,o),t.child=Hn(t,null,i,o)):ze(e,t,i,o),t.memoizedState=r.state,l&&_a(t,n,!0),t.child}function Uc(e){var t=e.stateNode;t.pendingContext?fa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fa(e,t.context,!1),_i(e,t.containerInfo)}function Oa(e,t,n,r,l){return Gn(),ai(l),t.flags|=256,ze(e,t,n,r),t.child}var Ss={dehydrated:null,treeContext:null,retryLane:0};function Cs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wc(e,t,n){var r=t.pendingProps,l=pe.current,o=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),le(pe,l&1),e===null)return ms(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ro(s,r,0,null),e=gn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Cs(n),t.memoizedState=Ss,e):Ei(t,s));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return yf(e,t,s,r,i,l,n);if(o){o=r.fallback,s=t.mode,l=e.child,i=l.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=en(l,a),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?o=en(i,o):(o=gn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Cs(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Ss,r}return o=e.child,e=o.sibling,r=en(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ei(e,t){return t=ro({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tl(e,t,n,r){return r!==null&&ai(r),Hn(t,e.child,null,n),e=Ei(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yf(e,t,n,r,l,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Ko(Error(R(422))),tl(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=ro({mode:"visible",children:r.children},l,0,null),o=gn(o,l,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Hn(t,e.child,null,s),t.child.memoizedState=Cs(s),t.memoizedState=Ss,o);if(!(t.mode&1))return tl(e,t,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(R(419)),r=Ko(o,r,void 0),tl(e,t,s,r)}if(i=(s&e.childLanes)!==0,Ge||i){if(r=Ne,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Ft(e,l),vt(r,e,l,-1))}return Li(),r=Ko(Error(R(421))),tl(e,t,s,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=jf.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,qe=Xt(l.nextSibling),Je=t,ue=!0,ht=null,e!==null&&(rt[lt++]=Mt,rt[lt++]=It,rt[lt++]=hn,Mt=e.id,It=e.overflow,hn=t),t=Ei(t,r.children),t.flags|=4096,t)}function ja(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hs(e.return,t,n)}function zo(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function Bc(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(ze(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ja(e,n,t);else if(e.tag===19)ja(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(pe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Al(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),zo(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Al(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}zo(t,!0,n,null,o);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vf(e,t,n){switch(t.tag){case 3:Uc(t),Gn();break;case 5:gc(t);break;case 1:be(t.type)&&Ol(t);break;case 4:_i(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;le(Il,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?Wc(e,t,n):(le(pe,pe.current&1),e=Kt(e,t,n),e!==null?e.sibling:null);le(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Bc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),le(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,zc(e,t,n)}return Kt(e,t,n)}var Gc,ks,Hc,bc;Gc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ks=function(){};Hc=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,fn(kt.current);var o=null;switch(n){case"input":l=Vo(e,l),r=Vo(e,r),o=[];break;case"select":l=_e({},l,{value:void 0}),r=_e({},r,{value:void 0}),o=[];break;case"textarea":l=Xo(e,l),r=Xo(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ll)}qo(n,r);var s;n=null;for(d in l)if(!r.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var i=l[d];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(xr.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var a=r[d];if(i=l!=null?l[d]:void 0,r.hasOwnProperty(d)&&a!==i&&(a!=null||i!=null))if(d==="style")if(i){for(s in i)!i.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&i[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(d,n)),n=a;else d==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,i=i?i.__html:void 0,a!=null&&i!==a&&(o=o||[]).push(d,a)):d==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(d,""+a):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(xr.hasOwnProperty(d)?(a!=null&&d==="onScroll"&&ie("scroll",e),o||i===a||(o=[])):(o=o||[]).push(d,a))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};bc=function(e,t,n,r){n!==r&&(t.flags|=4)};function or(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xf(e,t,n){var r=t.pendingProps;switch(ii(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return be(t.type)&&Nl(),De(t),null;case 3:return r=t.stateNode,bn(),ae(He),ae(Fe),mi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Jr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(Is(ht),ht=null))),ks(e,t),De(t),null;case 5:gi(t);var l=fn(Mr.current);if(n=t.type,e!==null&&t.stateNode!=null)Hc(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return De(t),null}if(e=fn(kt.current),Jr(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[St]=t,r[Or]=o,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(l=0;l<cr.length;l++)ie(cr[l],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":$i(r,o),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ie("invalid",r);break;case"textarea":Wi(r,o),ie("invalid",r)}qo(n,o),l=null;for(var s in o)if(o.hasOwnProperty(s)){var i=o[s];s==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&qr(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&qr(r.textContent,i,e),l=["children",""+i]):xr.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&ie("scroll",r)}switch(n){case"input":Gr(r),Ui(r,o,!0);break;case"textarea":Gr(r),Bi(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ll)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[St]=t,e[Or]=r,Gc(e,t,!1,!1),t.stateNode=e;e:{switch(s=Jo(n,r),n){case"dialog":ie("cancel",e),ie("close",e),l=r;break;case"iframe":case"object":case"embed":ie("load",e),l=r;break;case"video":case"audio":for(l=0;l<cr.length;l++)ie(cr[l],e);l=r;break;case"source":ie("error",e),l=r;break;case"img":case"image":case"link":ie("error",e),ie("load",e),l=r;break;case"details":ie("toggle",e),l=r;break;case"input":$i(e,r),l=Vo(e,r),ie("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=_e({},r,{value:void 0}),ie("invalid",e);break;case"textarea":Wi(e,r),l=Xo(e,r),ie("invalid",e);break;default:l=r}qo(n,l),i=l;for(o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="style"?Su(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&wu(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&wr(e,a):typeof a=="number"&&wr(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xr.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ie("scroll",e):a!=null&&bs(e,o,a,s))}switch(n){case"input":Gr(e),Ui(e,r,!1);break;case"textarea":Gr(e),Bi(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?An(e,!!r.multiple,o,!1):r.defaultValue!=null&&An(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)bc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=fn(Mr.current),fn(kt.current),Jr(t)){if(r=t.stateNode,n=t.memoizedProps,r[St]=t,(o=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:qr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qr(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=t,t.stateNode=r}return De(t),null;case 13:if(ae(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&qe!==null&&t.mode&1&&!(t.flags&128))cc(),Gn(),t.flags|=98560,o=!1;else if(o=Jr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(R(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[St]=t}else Gn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),o=!1}else ht!==null&&(Is(ht),ht=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Ce===0&&(Ce=3):Li())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return bn(),ks(e,t),e===null&&Lr(t.stateNode.containerInfo),De(t),null;case 10:return di(t.type._context),De(t),null;case 17:return be(t.type)&&Nl(),De(t),null;case 19:if(ae(pe),o=t.memoizedState,o===null)return De(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)or(o,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Al(e),s!==null){for(t.flags|=128,or(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(pe,pe.current&1|2),t.child}e=e.sibling}o.tail!==null&&he()>Qn&&(t.flags|=128,r=!0,or(o,!1),t.lanes=4194304)}else{if(!r)if(e=Al(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),or(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ue)return De(t),null}else 2*he()-o.renderingStartTime>Qn&&n!==1073741824&&(t.flags|=128,r=!0,or(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=he(),t.sibling=null,n=pe.current,le(pe,r?n&1|2:n&1),t):(De(t),null);case 22:case 23:return Ri(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ze&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function wf(e,t){switch(ii(t),t.tag){case 1:return be(t.type)&&Nl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(),ae(He),ae(Fe),mi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gi(t),null;case 13:if(ae(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(pe),null;case 4:return bn(),null;case 10:return di(t.type._context),null;case 22:case 23:return Ri(),null;case 24:return null;default:return null}}var nl=!1,Ae=!1,Ef=typeof WeakSet=="function"?WeakSet:Set,I=null;function Pn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(e,t,r)}else n.current=null}function Ts(e,t,n){try{n()}catch(r){ge(e,t,r)}}var Ma=!1;function Sf(e,t){if(us=kl,e=Zu(),oi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,i=-1,a=-1,d=0,p=0,h=e,m=null;t:for(;;){for(var S;h!==n||l!==0&&h.nodeType!==3||(i=s+l),h!==o||r!==0&&h.nodeType!==3||(a=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(S=h.firstChild)!==null;)m=h,h=S;for(;;){if(h===e)break t;if(m===n&&++d===l&&(i=s),m===o&&++p===r&&(a=s),(S=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=S}n=i===-1||a===-1?null:{start:i,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(cs={focusedElem:e,selectionRange:n},kl=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var k=w.memoizedProps,j=w.memoizedState,_=t.stateNode,f=_.getSnapshotBeforeUpdate(t.elementType===t.type?k:gt(t.type,k),j);_.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(E){ge(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return w=Ma,Ma=!1,w}function hr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Ts(t,n,o)}l=l.next}while(l!==r)}}function to(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Rs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vc(e){var t=e.alternate;t!==null&&(e.alternate=null,Vc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[Or],delete t[fs],delete t[lf],delete t[of])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qc(e){return e.tag===5||e.tag===3||e.tag===4}function Ia(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ls(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ll));else if(r!==4&&(e=e.child,e!==null))for(Ls(e,t,n),e=e.sibling;e!==null;)Ls(e,t,n),e=e.sibling}function Ns(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ns(e,t,n),e=e.sibling;e!==null;)Ns(e,t,n),e=e.sibling}var Oe=null,mt=!1;function $t(e,t,n){for(n=n.child;n!==null;)Yc(e,t,n),n=n.sibling}function Yc(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Vl,n)}catch{}switch(n.tag){case 5:Ae||Pn(n,t);case 6:var r=Oe,l=mt;Oe=null,$t(e,t,n),Oe=r,mt=l,Oe!==null&&(mt?(e=Oe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Oe.removeChild(n.stateNode));break;case 18:Oe!==null&&(mt?(e=Oe,n=n.stateNode,e.nodeType===8?Mo(e.parentNode,n):e.nodeType===1&&Mo(e,n),kr(e)):Mo(Oe,n.stateNode));break;case 4:r=Oe,l=mt,Oe=n.stateNode.containerInfo,mt=!0,$t(e,t,n),Oe=r,mt=l;break;case 0:case 11:case 14:case 15:if(!Ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ts(n,t,s),l=l.next}while(l!==r)}$t(e,t,n);break;case 1:if(!Ae&&(Pn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){ge(n,t,i)}$t(e,t,n);break;case 21:$t(e,t,n);break;case 22:n.mode&1?(Ae=(r=Ae)||n.memoizedState!==null,$t(e,t,n),Ae=r):$t(e,t,n);break;default:$t(e,t,n)}}function Pa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ef),t.forEach(function(r){var l=Mf.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:Oe=i.stateNode,mt=!1;break e;case 3:Oe=i.stateNode.containerInfo,mt=!0;break e;case 4:Oe=i.stateNode.containerInfo,mt=!0;break e}i=i.return}if(Oe===null)throw Error(R(160));Yc(o,s,l),Oe=null,mt=!1;var a=l.alternate;a!==null&&(a.return=null),l.return=null}catch(d){ge(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xc(t,e),t=t.sibling}function Xc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),wt(e),r&4){try{hr(3,e,e.return),to(3,e)}catch(k){ge(e,e.return,k)}try{hr(5,e,e.return)}catch(k){ge(e,e.return,k)}}break;case 1:_t(t,e),wt(e),r&512&&n!==null&&Pn(n,n.return);break;case 5:if(_t(t,e),wt(e),r&512&&n!==null&&Pn(n,n.return),e.flags&32){var l=e.stateNode;try{wr(l,"")}catch(k){ge(e,e.return,k)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,i=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&yu(l,o),Jo(i,s);var d=Jo(i,o);for(s=0;s<a.length;s+=2){var p=a[s],h=a[s+1];p==="style"?Su(l,h):p==="dangerouslySetInnerHTML"?wu(l,h):p==="children"?wr(l,h):bs(l,p,h,d)}switch(i){case"input":Qo(l,o);break;case"textarea":vu(l,o);break;case"select":var m=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var S=o.value;S!=null?An(l,!!o.multiple,S,!1):m!==!!o.multiple&&(o.defaultValue!=null?An(l,!!o.multiple,o.defaultValue,!0):An(l,!!o.multiple,o.multiple?[]:"",!1))}l[Or]=o}catch(k){ge(e,e.return,k)}}break;case 6:if(_t(t,e),wt(e),r&4){if(e.stateNode===null)throw Error(R(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(k){ge(e,e.return,k)}}break;case 3:if(_t(t,e),wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(k){ge(e,e.return,k)}break;case 4:_t(t,e),wt(e);break;case 13:_t(t,e),wt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(ki=he())),r&4&&Pa(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Ae=(d=Ae)||p,_t(t,e),Ae=d):_t(t,e),wt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(I=e,p=e.child;p!==null;){for(h=I=p;I!==null;){switch(m=I,S=m.child,m.tag){case 0:case 11:case 14:case 15:hr(4,m,m.return);break;case 1:Pn(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(k){ge(r,n,k)}}break;case 5:Pn(m,m.return);break;case 22:if(m.memoizedState!==null){Aa(h);continue}}S!==null?(S.return=m,I=S):Aa(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{l=h.stateNode,d?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=h.stateNode,a=h.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,i.style.display=Eu("display",s))}catch(k){ge(e,e.return,k)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(k){ge(e,e.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_t(t,e),wt(e),r&4&&Pa(e);break;case 21:break;default:_t(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qc(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(wr(l,""),r.flags&=-33);var o=Ia(e);Ns(e,o,l);break;case 3:case 4:var s=r.stateNode.containerInfo,i=Ia(e);Ls(e,i,s);break;default:throw Error(R(161))}}catch(a){ge(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cf(e,t,n){I=e,Zc(e)}function Zc(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var l=I,o=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||nl;if(!s){var i=l.alternate,a=i!==null&&i.memoizedState!==null||Ae;i=nl;var d=Ae;if(nl=s,(Ae=a)&&!d)for(I=l;I!==null;)s=I,a=s.child,s.tag===22&&s.memoizedState!==null?Fa(l):a!==null?(a.return=s,I=a):Fa(l);for(;o!==null;)I=o,Zc(o),o=o.sibling;I=l,nl=i,Ae=d}Da(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,I=o):Da(e)}}function Da(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ae||to(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ae)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&va(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}va(t,s,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&kr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ae||t.flags&512&&Rs(t)}catch(m){ge(t,t.return,m)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function Aa(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Fa(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{to(4,t)}catch(a){ge(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(a){ge(t,l,a)}}var o=t.return;try{Rs(t)}catch(a){ge(t,o,a)}break;case 5:var s=t.return;try{Rs(t)}catch(a){ge(t,s,a)}}}catch(a){ge(t,t.return,a)}if(t===e){I=null;break}var i=t.sibling;if(i!==null){i.return=t.return,I=i;break}I=t.return}}var kf=Math.ceil,zl=zt.ReactCurrentDispatcher,Si=zt.ReactCurrentOwner,st=zt.ReactCurrentBatchConfig,q=0,Ne=null,ye=null,je=0,Ze=0,Dn=ln(0),Ce=0,Ar=null,vn=0,no=0,Ci=0,yr=null,Be=null,ki=0,Qn=1/0,Ot=null,$l=!1,Os=null,qt=null,rl=!1,bt=null,Ul=0,vr=0,js=null,ml=-1,hl=0;function $e(){return q&6?he():ml!==-1?ml:ml=he()}function Jt(e){return e.mode&1?q&2&&je!==0?je&-je:af.transition!==null?(hl===0&&(hl=Du()),hl):(e=ne,e!==0||(e=window.event,e=e===void 0?16:Wu(e.type)),e):1}function vt(e,t,n,r){if(50<vr)throw vr=0,js=null,Error(R(185));Kr(e,n,r),(!(q&2)||e!==Ne)&&(e===Ne&&(!(q&2)&&(no|=n),Ce===4&&Gt(e,je)),Ve(e,r),n===1&&q===0&&!(t.mode&1)&&(Qn=he()+500,ql&&on()))}function Ve(e,t){var n=e.callbackNode;ip(e,t);var r=Cl(e,e===Ne?je:0);if(r===0)n!==null&&bi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bi(n),t===1)e.tag===0?sf(Ka.bind(null,e)):ic(Ka.bind(null,e)),nf(function(){!(q&6)&&on()}),n=null;else{switch(Au(r)){case 1:n=Zs;break;case 4:n=Iu;break;case 16:n=Sl;break;case 536870912:n=Pu;break;default:n=Sl}n=od(n,qc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qc(e,t){if(ml=-1,hl=0,q&6)throw Error(R(327));var n=e.callbackNode;if(Un()&&e.callbackNode!==n)return null;var r=Cl(e,e===Ne?je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wl(e,r);else{t=r;var l=q;q|=2;var o=ed();(Ne!==e||je!==t)&&(Ot=null,Qn=he()+500,_n(e,t));do try{Lf();break}catch(i){Jc(e,i)}while(!0);ci(),zl.current=o,q=l,ye!==null?t=0:(Ne=null,je=0,t=Ce)}if(t!==0){if(t===2&&(l=ls(e),l!==0&&(r=l,t=Ms(e,l))),t===1)throw n=Ar,_n(e,0),Gt(e,r),Ve(e,he()),n;if(t===6)Gt(e,r);else{if(l=e.current.alternate,!(r&30)&&!Tf(l)&&(t=Wl(e,r),t===2&&(o=ls(e),o!==0&&(r=o,t=Ms(e,o))),t===1))throw n=Ar,_n(e,0),Gt(e,r),Ve(e,he()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:cn(e,Be,Ot);break;case 3:if(Gt(e,r),(r&130023424)===r&&(t=ki+500-he(),10<t)){if(Cl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=ps(cn.bind(null,e,Be,Ot),t);break}cn(e,Be,Ot);break;case 4:if(Gt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var s=31-yt(r);o=1<<s,s=t[s],s>l&&(l=s),r&=~o}if(r=l,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kf(r/1960))-r,10<r){e.timeoutHandle=ps(cn.bind(null,e,Be,Ot),r);break}cn(e,Be,Ot);break;case 5:cn(e,Be,Ot);break;default:throw Error(R(329))}}}return Ve(e,he()),e.callbackNode===n?qc.bind(null,e):null}function Ms(e,t){var n=yr;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=Wl(e,t),e!==2&&(t=Be,Be=n,t!==null&&Is(t)),e}function Is(e){Be===null?Be=e:Be.push.apply(Be,e)}function Tf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!xt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gt(e,t){for(t&=~Ci,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),r=1<<n;e[n]=-1,t&=~r}}function Ka(e){if(q&6)throw Error(R(327));Un();var t=Cl(e,0);if(!(t&1))return Ve(e,he()),null;var n=Wl(e,t);if(e.tag!==0&&n===2){var r=ls(e);r!==0&&(t=r,n=Ms(e,r))}if(n===1)throw n=Ar,_n(e,0),Gt(e,t),Ve(e,he()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,Be,Ot),Ve(e,he()),null}function Ti(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(Qn=he()+500,ql&&on())}}function xn(e){bt!==null&&bt.tag===0&&!(q&6)&&Un();var t=q;q|=1;var n=st.transition,r=ne;try{if(st.transition=null,ne=1,e)return e()}finally{ne=r,st.transition=n,q=t,!(q&6)&&on()}}function Ri(){Ze=Dn.current,ae(Dn)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tf(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(ii(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nl();break;case 3:bn(),ae(He),ae(Fe),mi();break;case 5:gi(r);break;case 4:bn();break;case 13:ae(pe);break;case 19:ae(pe);break;case 10:di(r.type._context);break;case 22:case 23:Ri()}n=n.return}if(Ne=e,ye=e=en(e.current,null),je=Ze=t,Ce=0,Ar=null,Ci=no=vn=0,Be=yr=null,pn!==null){for(t=0;t<pn.length;t++)if(n=pn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=l,r.next=s}n.pending=r}pn=null}return e}function Jc(e,t){do{var n=ye;try{if(ci(),fl.current=Kl,Fl){for(var r=fe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Fl=!1}if(yn=0,Te=Se=fe=null,mr=!1,Ir=0,Si.current=null,n===null||n.return===null){Ce=1,Ar=t,ye=null;break}e:{var o=e,s=n.return,i=n,a=t;if(t=je,i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var d=a,p=i,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var S=ka(s);if(S!==null){S.flags&=-257,Ta(S,s,i,o,t),S.mode&1&&Ca(o,d,t),t=S,a=d;var w=t.updateQueue;if(w===null){var k=new Set;k.add(a),t.updateQueue=k}else w.add(a);break e}else{if(!(t&1)){Ca(o,d,t),Li();break e}a=Error(R(426))}}else if(ue&&i.mode&1){var j=ka(s);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Ta(j,s,i,o,t),ai(Vn(a,i));break e}}o=a=Vn(a,i),Ce!==4&&(Ce=2),yr===null?yr=[o]:yr.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var _=Ac(o,a,t);ya(o,_);break e;case 1:i=a;var f=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qt===null||!qt.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var E=Fc(o,i,t);ya(o,E);break e}}o=o.return}while(o!==null)}nd(n)}catch(x){t=x,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(!0)}function ed(){var e=zl.current;return zl.current=Kl,e===null?Kl:e}function Li(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Ne===null||!(vn&268435455)&&!(no&268435455)||Gt(Ne,je)}function Wl(e,t){var n=q;q|=2;var r=ed();(Ne!==e||je!==t)&&(Ot=null,_n(e,t));do try{Rf();break}catch(l){Jc(e,l)}while(!0);if(ci(),q=n,zl.current=r,ye!==null)throw Error(R(261));return Ne=null,je=0,Ce}function Rf(){for(;ye!==null;)td(ye)}function Lf(){for(;ye!==null&&!qd();)td(ye)}function td(e){var t=ld(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?nd(e):ye=t,Si.current=null}function nd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wf(n,t),n!==null){n.flags&=32767,ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,ye=null;return}}else if(n=xf(n,t,Ze),n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Ce===0&&(Ce=5)}function cn(e,t,n){var r=ne,l=st.transition;try{st.transition=null,ne=1,Nf(e,t,n,r)}finally{st.transition=l,ne=r}return null}function Nf(e,t,n,r){do Un();while(bt!==null);if(q&6)throw Error(R(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(ap(e,o),e===Ne&&(ye=Ne=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rl||(rl=!0,od(Sl,function(){return Un(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=st.transition,st.transition=null;var s=ne;ne=1;var i=q;q|=4,Si.current=null,Sf(e,n),Xc(n,e),Qp(cs),kl=!!us,cs=us=null,e.current=n,Cf(n),Jd(),q=i,ne=s,st.transition=o}else e.current=n;if(rl&&(rl=!1,bt=e,Ul=l),o=e.pendingLanes,o===0&&(qt=null),np(n.stateNode),Ve(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if($l)throw $l=!1,e=Os,Os=null,e;return Ul&1&&e.tag!==0&&Un(),o=e.pendingLanes,o&1?e===js?vr++:(vr=0,js=e):vr=0,on(),null}function Un(){if(bt!==null){var e=Au(Ul),t=st.transition,n=ne;try{if(st.transition=null,ne=16>e?16:e,bt===null)var r=!1;else{if(e=bt,bt=null,Ul=0,q&6)throw Error(R(331));var l=q;for(q|=4,I=e.current;I!==null;){var o=I,s=o.child;if(I.flags&16){var i=o.deletions;if(i!==null){for(var a=0;a<i.length;a++){var d=i[a];for(I=d;I!==null;){var p=I;switch(p.tag){case 0:case 11:case 15:hr(8,p,o)}var h=p.child;if(h!==null)h.return=p,I=h;else for(;I!==null;){p=I;var m=p.sibling,S=p.return;if(Vc(p),p===d){I=null;break}if(m!==null){m.return=S,I=m;break}I=S}}}var w=o.alternate;if(w!==null){var k=w.child;if(k!==null){w.child=null;do{var j=k.sibling;k.sibling=null,k=j}while(k!==null)}}I=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,I=s;else e:for(;I!==null;){if(o=I,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hr(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,I=_;break e}I=o.return}}var f=e.current;for(I=f;I!==null;){s=I;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,I=g;else e:for(s=f;I!==null;){if(i=I,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:to(9,i)}}catch(x){ge(i,i.return,x)}if(i===s){I=null;break e}var E=i.sibling;if(E!==null){E.return=i.return,I=E;break e}I=i.return}}if(q=l,on(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Vl,e)}catch{}r=!0}return r}finally{ne=n,st.transition=t}}return!1}function za(e,t,n){t=Vn(n,t),t=Ac(e,t,1),e=Zt(e,t,1),t=$e(),e!==null&&(Kr(e,1,t),Ve(e,t))}function ge(e,t,n){if(e.tag===3)za(e,e,n);else for(;t!==null;){if(t.tag===3){za(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qt===null||!qt.has(r))){e=Vn(n,e),e=Fc(t,e,1),t=Zt(t,e,1),e=$e(),t!==null&&(Kr(t,1,e),Ve(t,e));break}}t=t.return}}function Of(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Ne===e&&(je&n)===n&&(Ce===4||Ce===3&&(je&130023424)===je&&500>he()-ki?_n(e,0):Ci|=n),Ve(e,t)}function rd(e,t){t===0&&(e.mode&1?(t=Vr,Vr<<=1,!(Vr&130023424)&&(Vr=4194304)):t=1);var n=$e();e=Ft(e,t),e!==null&&(Kr(e,t,n),Ve(e,n))}function jf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rd(e,n)}function Mf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),rd(e,n)}var ld;ld=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,vf(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,ue&&t.flags&1048576&&ac(t,Ml,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gl(e,t),e=t.pendingProps;var l=Bn(t,Fe.current);$n(t,n),l=yi(null,t,r,e,l,n);var o=vi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,be(r)?(o=!0,Ol(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,fi(t),l.updater=eo,t.stateNode=l,l._reactInternals=t,vs(t,r,e,n),t=Es(null,t,r,!0,o,n)):(t.tag=0,ue&&o&&si(t),ze(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Pf(r),e=gt(r,e),l){case 0:t=ws(null,t,r,e,n);break e;case 1:t=Na(null,t,r,e,n);break e;case 11:t=Ra(null,t,r,e,n);break e;case 14:t=La(null,t,r,gt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:gt(r,l),ws(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:gt(r,l),Na(e,t,r,l,n);case 3:e:{if(Uc(t),e===null)throw Error(R(387));r=t.pendingProps,o=t.memoizedState,l=o.element,_c(e,t),Dl(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=Vn(Error(R(423)),t),t=Oa(e,t,r,n,l);break e}else if(r!==l){l=Vn(Error(R(424)),t),t=Oa(e,t,r,n,l);break e}else for(qe=Xt(t.stateNode.containerInfo.firstChild),Je=t,ue=!0,ht=null,n=pc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gn(),r===l){t=Kt(e,t,n);break e}ze(e,t,r,n)}t=t.child}return t;case 5:return gc(t),e===null&&ms(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,s=l.children,ds(r,l)?s=null:o!==null&&ds(r,o)&&(t.flags|=32),$c(e,t),ze(e,t,s,n),t.child;case 6:return e===null&&ms(t),null;case 13:return Wc(e,t,n);case 4:return _i(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hn(t,null,r,n):ze(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:gt(r,l),Ra(e,t,r,l,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,s=l.value,le(Il,r._currentValue),r._currentValue=s,o!==null)if(xt(o.value,s)){if(o.children===l.children&&!He.current){t=Kt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){s=o.child;for(var a=i.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Pt(-1,n&-n),a.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?a.next=a:(a.next=p.next,p.next=a),d.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hs(o.return,n,t),i.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(R(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),hs(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ze(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,$n(t,n),l=it(l),r=r(l),t.flags|=1,ze(e,t,r,n),t.child;case 14:return r=t.type,l=gt(r,t.pendingProps),l=gt(r.type,l),La(e,t,r,l,n);case 15:return Kc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:gt(r,l),gl(e,t),t.tag=1,be(r)?(e=!0,Ol(t)):e=!1,$n(t,n),Dc(t,r,l),vs(t,r,l,n),Es(null,t,r,!0,e,n);case 19:return Bc(e,t,n);case 22:return zc(e,t,n)}throw Error(R(156,t.tag))};function od(e,t){return Mu(e,t)}function If(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new If(e,t,n,r)}function Ni(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pf(e){if(typeof e=="function")return Ni(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qs)return 11;if(e===Ys)return 14}return 2}function en(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yl(e,t,n,r,l,o){var s=2;if(r=e,typeof e=="function")Ni(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case kn:return gn(n.children,l,o,t);case Vs:s=8,l|=8;break;case Bo:return e=ot(12,n,t,l|2),e.elementType=Bo,e.lanes=o,e;case Go:return e=ot(13,n,t,l),e.elementType=Go,e.lanes=o,e;case Ho:return e=ot(19,n,t,l),e.elementType=Ho,e.lanes=o,e;case gu:return ro(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fu:s=10;break e;case _u:s=9;break e;case Qs:s=11;break e;case Ys:s=14;break e;case Ut:s=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=ot(s,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function gn(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function ro(e,t,n,r){return e=ot(22,e,r,t),e.elementType=gu,e.lanes=n,e.stateNode={isHidden:!1},e}function $o(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function Uo(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Df(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wo(0),this.expirationTimes=wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Oi(e,t,n,r,l,o,s,i,a){return e=new Df(e,t,n,i,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ot(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fi(o),e}function Af(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sd(e){if(!e)return nn;e=e._reactInternals;e:{if(En(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(be(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(be(n))return sc(e,n,t)}return t}function id(e,t,n,r,l,o,s,i,a){return e=Oi(n,r,!0,e,l,o,s,i,a),e.context=sd(null),n=e.current,r=$e(),l=Jt(n),o=Pt(r,l),o.callback=t??null,Zt(n,o,l),e.current.lanes=l,Kr(e,l,r),Ve(e,r),e}function lo(e,t,n,r){var l=t.current,o=$e(),s=Jt(l);return n=sd(n),t.context===null?t.context=n:t.pendingContext=n,t=Pt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zt(l,t,s),e!==null&&(vt(e,l,s,o),pl(e,l,s)),s}function Bl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $a(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ji(e,t){$a(e,t),(e=e.alternate)&&$a(e,t)}function Ff(){return null}var ad=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mi(e){this._internalRoot=e}oo.prototype.render=Mi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));lo(e,t,null,null)};oo.prototype.unmount=Mi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){lo(null,e,null,null)}),t[At]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var t=zu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&t!==0&&t<Bt[n].priority;n++);Bt.splice(n,0,e),n===0&&Uu(e)}};function Ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function so(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ua(){}function Kf(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var d=Bl(s);o.call(d)}}var s=id(t,r,e,0,null,!1,!1,"",Ua);return e._reactRootContainer=s,e[At]=s.current,Lr(e.nodeType===8?e.parentNode:e),xn(),s}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var d=Bl(a);i.call(d)}}var a=Oi(e,0,!1,null,null,!1,!1,"",Ua);return e._reactRootContainer=a,e[At]=a.current,Lr(e.nodeType===8?e.parentNode:e),xn(function(){lo(t,a,n,r)}),a}function io(e,t,n,r,l){var o=n._reactRootContainer;if(o){var s=o;if(typeof l=="function"){var i=l;l=function(){var a=Bl(s);i.call(a)}}lo(t,s,e,l)}else s=Kf(n,t,e,l,r);return Bl(s)}Fu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ur(t.pendingLanes);n!==0&&(qs(t,n|1),Ve(t,he()),!(q&6)&&(Qn=he()+500,on()))}break;case 13:xn(function(){var r=Ft(e,1);if(r!==null){var l=$e();vt(r,e,1,l)}}),ji(e,1)}};Js=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=$e();vt(t,e,134217728,n)}ji(e,134217728)}};Ku=function(e){if(e.tag===13){var t=Jt(e),n=Ft(e,t);if(n!==null){var r=$e();vt(n,e,t,r)}ji(e,t)}};zu=function(){return ne};$u=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};ts=function(e,t,n){switch(t){case"input":if(Qo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Zl(r);if(!l)throw Error(R(90));hu(r),Qo(r,l)}}}break;case"textarea":vu(e,n);break;case"select":t=n.value,t!=null&&An(e,!!n.multiple,t,!1)}};Tu=Ti;Ru=xn;var zf={usingClientEntryPoint:!1,Events:[$r,Nn,Zl,Cu,ku,Ti]},sr={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$f={bundleType:sr.bundleType,version:sr.version,rendererPackageName:sr.rendererPackageName,rendererConfig:sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ou(e),e===null?null:e.stateNode},findFiberByHostInstance:sr.findFiberByHostInstance||Ff,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ll.isDisabled&&ll.supportsFiber)try{Vl=ll.inject($f),Ct=ll}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zf;tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ii(t))throw Error(R(200));return Af(e,t,null,n)};tt.createRoot=function(e,t){if(!Ii(e))throw Error(R(299));var n=!1,r="",l=ad;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Oi(e,1,!1,null,null,n,!1,r,l),e[At]=t.current,Lr(e.nodeType===8?e.parentNode:e),new Mi(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Ou(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return xn(e)};tt.hydrate=function(e,t,n){if(!so(t))throw Error(R(200));return io(null,e,t,!0,n)};tt.hydrateRoot=function(e,t,n){if(!Ii(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",s=ad;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=id(t,null,e,1,n??null,l,!1,o,s),e[At]=t.current,Lr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new oo(t)};tt.render=function(e,t,n){if(!so(t))throw Error(R(200));return io(null,e,t,!1,n)};tt.unmountComponentAtNode=function(e){if(!so(e))throw Error(R(40));return e._reactRootContainer?(xn(function(){io(null,null,e,!1,function(){e._reactRootContainer=null,e[At]=null})}),!0):!1};tt.unstable_batchedUpdates=Ti;tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!so(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return io(e,t,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function ud(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ud)}catch(e){console.error(e)}}ud(),uu.exports=tt;var Uf=uu.exports,Wa=Uf;vl.createRoot=Wa.createRoot,vl.hydrateRoot=Wa.hydrateRoot;const Ps=1e3,Ds=750,Re=50,Wf=Ps/Re,Bf=Ds/Re,Gf=20,Hf=150,bf=.75,Vf=.15,Ba=e=>{const t=[];for(let n=1;n<=20;n++){const r=n+(e?5:0),l=[];n%5===0?l.push({type:"boss",count:1,interval:0}):(r>0&&l.push({type:"triangle",count:Math.min(35,5+Math.floor(n*2.2)),interval:Math.max(.15,.8-n*.02)}),r>5&&l.push({type:"square",count:Math.min(25,3+Math.floor(n*1.2)),interval:Math.max(.7,1.5-n*.05)}),r>10&&l.push({type:"pentagon",count:Math.min(20,2+Math.floor(n*.9)),interval:Math.max(.5,1.2-n*.04)})),t.push({spawns:l})}return t},Qf=[{path:[[-1,7],[3,7],[3,3],[8,3],[8,12],[15,12],[15,5],[18,5],[18,-1]],waves:Ba(!1)},{path:[[-1,2],[5,2],[5,10],[14,10],[14,1],[19,1],[19,16]],waves:Ba(!0)}],Yf=e=>{const t=Qf[e];if(!t)throw new Error(`Invalid stage index: ${e}`);const n=t.path,r=()=>n.map(([i,a])=>({x:i*Re+Re/2,y:a*Re+Re/2})),o=(()=>{const i=new Set;for(let a=0;a<n.length-1;a++){let[d,p]=n[a];const[h,m]=n[a+1];for(i.add(`${d},${p}`);d!==h||p!==m;)d<h?d++:d>h?d--:p<m?p++:p>m&&p--,i.add(`${d},${p}`)}return i})(),s=()=>{const i=new Set;o.forEach(d=>{const[p,h]=d.split(",").map(Number);for(let m=-1;m<=1;m++)for(let S=-1;S<=1;S++){if(m===0&&S===0)continue;const w=p+m,k=h+S;w>=0&&w<Wf&&k>=0&&k<Bf&&!o.has(`${w},${k}`)&&i.add(`${w},${k}`)}});const a=Array.from(i).map(d=>{const[p,h]=d.split(",").map(Number);return{x:p*Re+Re/2,y:h*Re+Re/2}});return a.sort((d,p)=>d.y!==p.y?d.y-p.y:d.x-p.x),a};return{PATH_COORDS:r(),TOWER_SLOTS:s(),WAVES:t.waves}},Xf={CIRCLE:{type:"CIRCLE",nameKey:"tower_circle_name",descriptionKey:"tower_circle_desc",damageType:"PHYSICAL",range:150,damage:10,fireRate:2,cost:50},SQUARE:{type:"SQUARE",nameKey:"tower_square_name",descriptionKey:"tower_square_desc",damageType:"PHYSICAL",range:100,damage:35,fireRate:.8,cost:120},TRIANGLE:{type:"TRIANGLE",nameKey:"tower_triangle_name",descriptionKey:"tower_triangle_desc",damageType:"PHYSICAL",range:200,damage:8,fireRate:3,cost:150},FIRE:{type:"FIRE",nameKey:"tower_fire_name",descriptionKey:"tower_fire_desc",damageType:"FIRE",range:120,damage:5,fireRate:1,cost:100,burn:{dps:10,duration:3}},COLD:{type:"COLD",nameKey:"tower_cold_name",descriptionKey:"tower_cold_desc",damageType:"COLD",range:100,damage:0,fireRate:0,cost:120,slowFactor:.4},ELECTRIC:{type:"ELECTRIC",nameKey:"tower_electric_name",descriptionKey:"tower_electric_desc",damageType:"ELECTRIC",range:160,damage:25,fireRate:1,cost:180,chain:{initialCount:2}}},ol={triangle:{type:"triangle",health:40,speed:80,reward:5},square:{type:"square",health:250,speed:40,reward:10},pentagon:{type:"pentagon",health:100,speed:60,reward:8},boss:{type:"boss",health:800,speed:30,reward:100},critter:{type:"critter",health:1,speed:120,reward:1}},Ga=[{nameKey:"boss_1_name",baseHealth:1200,baseReward:100,armor:.2,resistances:{FIRE:.25,COLD:-.1,ELECTRIC:.1},specialAbility:{type:"SPAWN_CRITTERS",triggerDistance:Re*4,spawnCount:2,spawnType:"critter",duration:3}},{nameKey:"boss_2_name",baseHealth:5e3,baseReward:250,armor:.15,resistances:{FIRE:-.25,COLD:.15,ELECTRIC:.5},specialAbility:{type:"SPAWN_CRITTERS",triggerDistance:Re*4,spawnCount:4,spawnType:"critter",duration:3.5}},{nameKey:"boss_3_name",baseHealth:12e3,baseReward:500,armor:.35,resistances:{FIRE:.5,COLD:.6,ELECTRIC:-.2},specialAbility:{type:"SPAWN_CRITTERS",triggerDistance:Re*5,spawnCount:6,spawnType:"critter",duration:4}},{nameKey:"boss_4_name",baseHealth:3e4,baseReward:1e3,armor:.5,resistances:{FIRE:.3,COLD:.3,ELECTRIC:.3},specialAbility:{type:"SPAWN_CRITTERS",triggerDistance:Re*5,spawnCount:8,spawnType:"critter",duration:4}}],Gl=[{id:"ROOT",nameKey:"upgrade_root_name",descriptionKey:"upgrade_root_desc",cost:0,dependencies:[],position:{x:50,y:5},type:"GLOBAL"},{id:"E_START_1",nameKey:"upgrade_e_start_1_name",descriptionKey:"upgrade_e_start_1_desc",cost:1,dependencies:["ROOT"],position:{x:50,y:15},type:"ECONOMY",globalStat:"startMoney",value:50,operation:"add"},{id:"E_KILL_1",nameKey:"upgrade_e_kill_1_name",descriptionKey:"upgrade_e_kill_1_desc",cost:2,dependencies:["E_START_1"],position:{x:40,y:25},type:"ECONOMY",globalStat:"killBonus",value:1,operation:"add"},{id:"E_START_2",nameKey:"upgrade_e_start_2_name",descriptionKey:"upgrade_e_start_2_desc",cost:3,dependencies:["E_START_1"],position:{x:60,y:25},type:"ECONOMY",globalStat:"startMoney",value:75,operation:"add"},{id:"G_HEALTH_1",nameKey:"upgrade_g_health_1_name",descriptionKey:"upgrade_g_health_1_desc",cost:3,dependencies:["E_KILL_1"],position:{x:40,y:35},type:"GLOBAL",globalStat:"startHealth",value:10,operation:"add"},{id:"G_COST_1",nameKey:"upgrade_g_cost_1_name",descriptionKey:"upgrade_g_cost_1_desc",cost:4,dependencies:["E_START_2"],position:{x:60,y:35},type:"GLOBAL",globalStat:"towerCostModifier",value:.95,operation:"multiply"},{id:"G_SELL_1",nameKey:"upgrade_g_sell_1_name",descriptionKey:"upgrade_g_sell_1_desc",cost:2,dependencies:["G_COST_1"],position:{x:60,y:45},type:"ECONOMY",globalStat:"sellRatioModifier",value:.1,operation:"add"},{id:"E_RP_1",nameKey:"upgrade_e_rp_1_name",descriptionKey:"upgrade_e_rp_1_desc",cost:8,dependencies:["G_SELL_1"],position:{x:75,y:45},type:"ECONOMY",globalStat:"researchPointModifier",value:1.1,operation:"multiply"},{id:"E_RP_2",nameKey:"upgrade_e_rp_2_name",descriptionKey:"upgrade_e_rp_2_desc",cost:12,dependencies:["E_RP_1"],position:{x:85,y:45},type:"ECONOMY",globalStat:"researchPointModifier",value:1.1,operation:"multiply"},{id:"G_PROJ_SPEED_1",nameKey:"upgrade_g_proj_speed_1_name",descriptionKey:"upgrade_g_proj_speed_1_desc",cost:4,dependencies:["G_HEALTH_1","G_COST_1"],position:{x:50,y:45},type:"GLOBAL",globalStat:"projectileSpeedModifier",value:1.2,operation:"multiply"},{id:"G_CRIT_CHANCE_1",nameKey:"upgrade_g_crit_chance_1_name",descriptionKey:"upgrade_g_crit_chance_1_desc",cost:5,dependencies:["G_PROJ_SPEED_1"],position:{x:50,y:55},type:"GLOBAL",globalStat:"globalCritChance",value:.02,operation:"add"},{id:"G_CRIT_DMG_1",nameKey:"upgrade_g_crit_dmg_1_name",descriptionKey:"upgrade_g_crit_dmg_1_desc",cost:5,dependencies:["G_CRIT_CHANCE_1"],position:{x:50,y:65},type:"GLOBAL",globalStat:"globalCritDamage",value:.25,operation:"add"},{id:"G_CRIT_CHANCE_2",nameKey:"upgrade_g_crit_chance_2_name",descriptionKey:"upgrade_g_crit_chance_2_desc",cost:8,dependencies:["G_CRIT_DMG_1"],position:{x:50,y:75},type:"GLOBAL",globalStat:"globalCritChance",value:.03,operation:"add"},{id:"P_BRANCH_ROOT",nameKey:"upgrade_p_branch_root_name",descriptionKey:"upgrade_p_branch_root_desc",cost:1,dependencies:["ROOT"],position:{x:25,y:15},type:"GLOBAL"},{id:"C_DMG_1",nameKey:"upgrade_c_dmg_1_name",descriptionKey:"upgrade_c_dmg_1_desc",cost:1,dependencies:["P_BRANCH_ROOT"],position:{x:15,y:25},type:"TOWER_MOD",tower:"CIRCLE",stat:"damage",value:3,operation:"add"},{id:"C_RATE_1",nameKey:"upgrade_c_rate_1_name",descriptionKey:"upgrade_c_rate_1_desc",cost:2,dependencies:["C_DMG_1"],position:{x:15,y:35},type:"TOWER_MOD",tower:"CIRCLE",stat:"fireRate",value:1.15,operation:"multiply"},{id:"C_RANGE_1",nameKey:"upgrade_c_range_1_name",descriptionKey:"upgrade_c_range_1_desc",cost:3,dependencies:["C_DMG_1"],position:{x:25,y:35},type:"TOWER_MOD",tower:"CIRCLE",stat:"range",value:1.1,operation:"multiply"},{id:"C_DMG_2",nameKey:"upgrade_c_dmg_2_name",descriptionKey:"upgrade_c_dmg_2_desc",cost:4,dependencies:["C_RATE_1","C_RANGE_1"],position:{x:20,y:45},type:"TOWER_MOD",tower:"CIRCLE",stat:"damage",value:5,operation:"add"},{id:"S_UNLOCK",nameKey:"upgrade_s_unlock_name",descriptionKey:"upgrade_s_unlock_desc",cost:2,dependencies:["P_BRANCH_ROOT"],position:{x:35,y:25},type:"GLOBAL"},{id:"S_DMG_1",nameKey:"upgrade_s_dmg_1_name",descriptionKey:"upgrade_s_dmg_1_desc",cost:3,dependencies:["S_UNLOCK"],position:{x:35,y:35},type:"TOWER_MOD",tower:"SQUARE",stat:"damage",value:10,operation:"add"},{id:"S_RANGE_1",nameKey:"upgrade_s_range_1_name",descriptionKey:"upgrade_s_range_1_desc",cost:4,dependencies:["S_DMG_1"],position:{x:25,y:45},type:"TOWER_MOD",tower:"SQUARE",stat:"range",value:1.15,operation:"multiply"},{id:"S_DMG_2",nameKey:"upgrade_s_dmg_2_name",descriptionKey:"upgrade_s_dmg_2_desc",cost:5,dependencies:["S_DMG_1"],position:{x:35,y:45},type:"TOWER_MOD",tower:"SQUARE",stat:"damage",value:1.15,operation:"multiply"},{id:"S_DMG_3",nameKey:"upgrade_s_dmg_3_name",descriptionKey:"upgrade_s_dmg_3_desc",cost:6,dependencies:["S_DMG_2"],position:{x:35,y:55},type:"TOWER_MOD",tower:"SQUARE",stat:"damage",value:25,operation:"add"},{id:"T_UNLOCK",nameKey:"upgrade_t_unlock_name",descriptionKey:"upgrade_t_unlock_desc",cost:5,dependencies:["S_DMG_3"],position:{x:35,y:65},type:"GLOBAL"},{id:"T_RATE_1",nameKey:"upgrade_t_rate_1_name",descriptionKey:"upgrade_t_rate_1_desc",cost:4,dependencies:["T_UNLOCK"],position:{x:25,y:75},type:"TOWER_MOD",tower:"TRIANGLE",stat:"fireRate",value:1.25,operation:"multiply"},{id:"T_RANGE_1",nameKey:"upgrade_t_range_1_name",descriptionKey:"upgrade_t_range_1_desc",cost:4,dependencies:["T_UNLOCK"],position:{x:45,y:75},type:"TOWER_MOD",tower:"TRIANGLE",stat:"range",value:1.2,operation:"multiply"},{id:"T_DMG_1",nameKey:"upgrade_t_dmg_1_name",descriptionKey:"upgrade_t_dmg_1_desc",cost:6,dependencies:["T_RATE_1","T_RANGE_1"],position:{x:35,y:85},type:"TOWER_MOD",tower:"TRIANGLE",stat:"damage",value:2,operation:"add"},{id:"EL_BRANCH_ROOT",nameKey:"upgrade_el_branch_root_name",descriptionKey:"upgrade_el_branch_root_desc",cost:1,dependencies:["ROOT"],position:{x:75,y:15},type:"GLOBAL"},{id:"EL_UNLOCK_FIRE",nameKey:"upgrade_el_unlock_fire_name",descriptionKey:"upgrade_el_unlock_fire_desc",cost:2,dependencies:["EL_BRANCH_ROOT"],position:{x:65,y:25},type:"GLOBAL"},{id:"EL_FIRE_DPS_1",nameKey:"upgrade_el_fire_dps_1_name",descriptionKey:"upgrade_el_fire_dps_1_desc",cost:3,dependencies:["EL_UNLOCK_FIRE"],position:{x:65,y:35},type:"TOWER_MOD",tower:"FIRE",stat:"burnDps",value:5,operation:"add"},{id:"EL_FIRE_DUR_1",nameKey:"upgrade_el_fire_dur_1_name",descriptionKey:"upgrade_el_fire_dur_1_desc",cost:3,dependencies:["EL_FIRE_DPS_1"],position:{x:65,y:45},type:"TOWER_MOD",tower:"FIRE",stat:"burnDuration",value:1,operation:"add"},{id:"EL_FIRE_DMG_1",nameKey:"upgrade_el_fire_dmg_1_name",descriptionKey:"upgrade_el_fire_dmg_1_desc",cost:4,dependencies:["EL_FIRE_DUR_1"],position:{x:65,y:55},type:"TOWER_MOD",tower:"FIRE",stat:"damage",value:1.25,operation:"multiply"},{id:"EL_UNLOCK_COLD",nameKey:"upgrade_el_unlock_cold_name",descriptionKey:"upgrade_el_unlock_cold_desc",cost:2,dependencies:["EL_BRANCH_ROOT"],position:{x:85,y:25},type:"GLOBAL"},{id:"EL_COLD_SLOW_1",nameKey:"upgrade_el_cold_slow_1_name",descriptionKey:"upgrade_el_cold_slow_1_desc",cost:3,dependencies:["EL_UNLOCK_COLD"],position:{x:85,y:35},type:"TOWER_MOD",tower:"COLD",stat:"slowFactor",value:.1,operation:"add"},{id:"EL_COLD_RANGE_1",nameKey:"upgrade_el_cold_range_1_name",descriptionKey:"upgrade_el_cold_range_1_desc",cost:3,dependencies:["EL_COLD_SLOW_1"],position:{x:85,y:45},type:"TOWER_MOD",tower:"COLD",stat:"range",value:1.15,operation:"multiply"},{id:"EL_COLD_SLOW_2",nameKey:"upgrade_el_cold_slow_2_name",descriptionKey:"upgrade_el_cold_slow_2_desc",cost:5,dependencies:["EL_COLD_RANGE_1"],position:{x:85,y:55},type:"TOWER_MOD",tower:"COLD",stat:"slowFactor",value:.15,operation:"add"},{id:"EL_UNLOCK_ELEC",nameKey:"upgrade_el_unlock_elec_name",descriptionKey:"upgrade_el_unlock_elec_desc",cost:4,dependencies:["EL_FIRE_DMG_1","EL_COLD_SLOW_2"],position:{x:75,y:65},type:"GLOBAL"},{id:"EL_ELEC_CHAIN_1",nameKey:"upgrade_el_elec_chain_1_name",descriptionKey:"upgrade_el_elec_chain_1_desc",cost:5,dependencies:["EL_UNLOCK_ELEC"],position:{x:65,y:75},type:"TOWER_MOD",tower:"ELECTRIC",stat:"chainCount",value:1,operation:"add"},{id:"EL_ELEC_DMG_1",nameKey:"upgrade_el_elec_dmg_1_name",descriptionKey:"upgrade_el_elec_dmg_1_desc",cost:4,dependencies:["EL_UNLOCK_ELEC"],position:{x:85,y:75},type:"TOWER_MOD",tower:"ELECTRIC",stat:"damage",value:1.15,operation:"multiply"},{id:"EL_ELEC_DMG_2",nameKey:"upgrade_el_elec_dmg_2_name",descriptionKey:"upgrade_el_elec_dmg_2_desc",cost:6,dependencies:["EL_ELEC_CHAIN_1","EL_ELEC_DMG_1"],position:{x:75,y:85},type:"TOWER_MOD",tower:"ELECTRIC",stat:"damage",value:1.2,operation:"multiply"}],Zf=(e,t,n,r,l,o,s,i,a)=>{const d=v.useRef(null),p=v.useRef(0),h=v.useRef(a);v.useEffect(()=>{h.current=a},[a]);const m=v.useRef(n);v.useEffect(()=>{m.current=n},[n]);const S=v.useRef(r);v.useEffect(()=>{S.current=r},[r]);const w=v.useRef(l);v.useEffect(()=>{w.current=l},[l]);const k=v.useRef(o);v.useEffect(()=>{k.current=o},[o]);const j=v.useRef(s);v.useEffect(()=>{j.current=s},[s]);const _=v.useCallback(f=>{var dt;if(p.current===0){p.current=f,d.current=requestAnimationFrame(_);return}const g=(f-p.current)/1e3*m.current;if(g===0){d.current=requestAnimationFrame(_);return}p.current=f;const E=j.current,{onEnemyKilled:x,onEnemyReachedEnd:T,addEffects:N,setTowers:O,setEnemies:te,setProjectiles:U,setEffects:ve,setWaveTime:ce,setSpawnQueue:Ke}=h.current,Ie=i.towersRef.current,Qe=i.enemiesRef.current,ut=i.projectilesRef.current,ct=i.effectsRef.current,M=i.waveTimeRef.current,K=i.spawnQueueRef.current;let F=[],G=new Map,D=[],re=JSON.parse(JSON.stringify(Qe)),de=[],xe=[];const we=M+g,ke=K.filter(y=>y.time<=we);if(ke.length>0){const y=i.currentWaveIndexRef.current,L=i.postBossDifficultyRef.current,$=i.bossModifiersRef.current;xe=ke.map((B,z)=>{const b=ol[B.type];let W;if(B.type==="boss"){const H=Math.floor(y/5),J=Ga[H%Ga.length],V=Math.min(.9,J.armor+$.armor),ee={...J.resistances};for(const X in ee){const oe=X;ee[oe]=Math.min(.9,(ee[oe]||0)+$.resistance)}const Q=J.baseHealth*(1+(L>0?.2:0));W={...b,...J,id:`enemy_${y}_${Date.now()}_${z}`,position:{...e[0]},pathIndex:1,health:Q,maxHealth:Q,reward:J.baseReward,armor:V,resistances:ee,burns:[],distanceTraveled:0,bossIndex:H,abilityActiveTimer:0,nextAbilityTriggerDistance:J.specialAbility.triggerDistance}}else{let H=b.health;L>0&&(H*=1.2),W={...b,id:`enemy_${y}_${Date.now()}_${z}`,position:{...e[0]},pathIndex:1,maxHealth:H,health:H,burns:[],distanceTraveled:0}}return W})}const Ye=Ie.map(y=>{let L={...y,fireCooldown:y.fireCooldown-g};if(y.type==="COLD"&&y.slowFactor)for(const $ of re){const B=$.position.x-y.position.x,z=$.position.y-y.position.y;B*B+z*z<y.range*y.range&&($.slow={factor:y.slowFactor,expires:E+.25})}if(L.fireCooldown<=0&&L.fireRate>0){let $=Qe.reduce((B,z)=>{const b=z.position.x-L.position.x,W=z.position.y-L.position.y,H=b*b+W*W;return H<(B?B.distSq:L.range*L.range)?(z.distSq=H,z):B},null);$&&(L.fireCooldown=1/L.fireRate,F.push({id:`proj_${Date.now()}_${Math.random()}`,sourceTowerId:L.id,position:{...L.position},targetId:$.id,speed:600*S.current,damage:L.damage,damageType:L.damageType,chain:y.type==="ELECTRIC"&&y.chain?{remaining:y.chain.initialCount-1,alreadyHit:[$.id]}:void 0,isChain:y.type==="ELECTRIC"}))}return L}),sn=[...ut,...F];let Ee=[];for(const y of sn){const L=re.find(W=>W.id===y.targetId);if(!L)continue;const $=L.position.x-y.position.x,B=L.position.y-y.position.y,z=Math.sqrt($*$+B*B),b=5+y.speed*g;if(z<b){let W=y.damage;const H=Math.random()<w.current;H&&(W*=1+k.current);const J=((dt=L.resistances)==null?void 0:dt[y.damageType])??0;W*=1-J,y.damageType==="PHYSICAL"&&(W*=1-(L.armor??0)),W=Math.max(0,W),G.set(y.targetId,(G.get(y.targetId)||0)+W),D.push({id:`effect_${Date.now()}_${Math.random()}`,position:L.position,radius:0,age:0,maxAge:H?.4:.2,color:H?"#fef08a":"#fff"});const V=Ie.find(Q=>Q.id===y.sourceTowerId),ee=re.find(Q=>Q.id===y.targetId);if(ee&&(V==null?void 0:V.type)==="FIRE"&&V.burn&&(ee.burns=ee.burns.filter(Q=>Q.sourceId!==V.id),ee.burns.push({dps:V.burn.dps,expires:E+V.burn.duration,sourceId:V.id})),y.chain&&y.chain.remaining>0){const Q=re.reduce((X,oe)=>{if(y.chain.alreadyHit.includes(oe.id))return X;const Lt=oe.position.x-L.position.x,pt=oe.position.y-L.position.y,ft=Lt*Lt+pt*pt;return ft<(X?X.distSq:4e4)?(oe.distSq=ft,oe):X},null);Q&&(D.push({id:`chain_${Date.now()}`,position:L.position,radius:0,age:0,maxAge:.1,color:"#67e8f9"}),Ee.push({...y,id:`proj_${Date.now()}_${Math.random()}`,position:{...L.position},targetId:Q.id,chain:{remaining:y.chain.remaining-1,alreadyHit:[...y.chain.alreadyHit,Q.id]}}))}}else Ee.push({...y,position:{x:y.position.x+$/z*y.speed*g,y:y.position.y+B/z*y.speed*g}})}let Xe=[],me=[],Tt=re.map(y=>{var ee,Q;let L=y.health-(G.get(y.id)||0);if(y.burns=y.burns.filter(X=>X.expires>E),L-=y.burns.reduce((X,oe)=>X+oe.dps*g,0),y.slow&&y.slow.expires<E&&(y.slow=void 0),L<=0)return Xe.push(y),null;if(y.abilityActiveTimer&&y.abilityActiveTimer>0)return y.abilityActiveTimer-=g,{...y,health:L};if(y.pathIndex>=e.length)return me.push(y),null;const B=y.speed*(1-(((ee=y.slow)==null?void 0:ee.factor)??0))*g;let z={...y.position},b=y.pathIndex,W=0;const H=e[b].x-z.x,J=e[b].y-z.y,V=Math.sqrt(H*H+J*J);if(B>=V?(z={...e[b]},b++,W=V):(z.x+=H/V*B,z.y+=J/V*B,W=B),y.distanceTraveled+=W,((Q=y.specialAbility)==null?void 0:Q.type)==="SPAWN_CRITTERS"&&y.nextAbilityTriggerDistance&&y.distanceTraveled>=y.nextAbilityTriggerDistance){y.abilityActiveTimer=y.specialAbility.duration,y.nextAbilityTriggerDistance+=y.specialAbility.triggerDistance;for(let X=0;X<y.specialAbility.spawnCount;X++)de.push({...ol.critter,id:`enemy_${E}_critter_${X}`,position:{x:y.position.x+Math.random()*20-10,y:y.position.y+Math.random()*20-10},pathIndex:y.pathIndex,maxHealth:ol.critter.health,health:ol.critter.health,burns:[],distanceTraveled:y.distanceTraveled})}return b>=e.length?(me.push(y),null):{...y,health:L,position:z,pathIndex:b}}).filter(y=>y!==null);const Rt=ct.map(y=>({...y,age:y.age+g})).filter(y=>y.age<y.maxAge);D.length>0&&N(D),ke.length>0&&Ke(y=>y.filter(L=>L.time>we)),ce(we),Xe.forEach(x),me.forEach(T),O(Ye),te([...Tt,...de,...xe]),U(Ee),ve(Rt),d.current=requestAnimationFrame(_)},[e]);v.useEffect(()=>(t==="running"?(p.current=performance.now(),d.current=requestAnimationFrame(_)):d.current&&cancelAnimationFrame(d.current),()=>{d.current&&cancelAnimationFrame(d.current)}),[t,_])},qf=({className:e})=>u.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:u.jsx("circle",{cx:"12",cy:"12",r:"10"})}),Jf=({className:e})=>u.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:u.jsx("rect",{x:"3",y:"3",width:"18",height:"18"})}),e_=({className:e})=>u.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:u.jsx("path",{d:"M12 2 L2 22 H22 Z"})}),t_=({className:e})=>u.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:u.jsx("path",{d:"M12 2C8.1 6.1 6 9.4 6 12.3c0 3.7 2.7 6.4 6 6.4s6-2.7 6-6.4c0-2.9-2.1-6.2-6-10.3z"})}),n_=({className:e})=>u.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:u.jsx("path",{d:"M12 2.5l-2.4 2.4-1.1-1.1-1.4 1.4 1.1 1.1-2.4 2.4-2.5-2.4-1.4 1.4 2.4 2.4-1.1 1.1 1.4 1.4 1.1-1.1 2.4 2.4v3.5h3.5l2.4-2.4 1.1 1.1 1.4-1.4-1.1-1.1 2.4-2.4 2.5 2.4 1.4-1.4-2.4-2.4 1.1-1.1-1.4-1.4-1.1 1.1-2.4-2.4v-3.5h-3.5zM12 16.5c-2.49 0-4.5-2.01-4.5-4.5s2.01-4.5 4.5-4.5 4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5z"})}),r_=({className:e})=>u.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:u.jsx("path",{d:"M7 2v11h3v9l7-12h-4l4-8z"})}),l_=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{fillRule:"evenodd",d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",clipRule:"evenodd"})}),o_=({className:e})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:[u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),u.jsx("path",{d:"M12 6c-2.21 0-4 1.79-4 4h1.5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5c0 .74-.33 1.39-.83 1.87-.5.48-1.17.83-1.17 1.63h1.5c0-.66.52-1.2 1-1.68.7-.68 1-1.63 1-2.82 0-2.21-1.79-4-4-4zM12 17c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5z"})]}),cd=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-1 16v-5l-4 4-1.41-1.41L9.17 12 5.59 8.41 7 7l4 4V6h2v5l4-4 1.41 1.41L14.83 12l3.58 3.59L17 17l-4-4v5h-2z"})}),Ha=15,s_={CIRCLE:qf,SQUARE:Jf,TRIANGLE:e_,FIRE:t_,COLD:n_,ELECTRIC:r_},i_=({onGameEnd:e,progression:t,stageIndex:n,t:r})=>{const{modifiedTowerStats:l,gameSettings:o,bossModifiers:s}=t,{PATH_COORDS:i,TOWER_SLOTS:a,WAVES:d}=v.useMemo(()=>Yf(n),[n]),[p,h]=v.useState("placing"),[m,S]=v.useState([]),[w,k]=v.useState([]),[j,_]=v.useState([]),[f,g]=v.useState([]),[E,x]=v.useState(o.startHealth),[T,N]=v.useState(o.startMoney),[O,te]=v.useState(0),[U,ve]=v.useState(0),[ce,Ke]=v.useState([]),[Ie,Qe]=v.useState(0),[ut,ct]=v.useState(0),[M,K]=v.useState({CIRCLE:0,SQUARE:0,TRIANGLE:0,FIRE:0,COLD:0,ELECTRIC:0}),[F,G]=v.useState(null),[D,re]=v.useState(null),[de,xe]=v.useState(null),[we,ke]=v.useState(!1),[Ye,sn]=v.useState(1),[Ee,Xe]=v.useState(null),[me,Tt]=v.useState(0),[Rt,dt]=v.useState(!1),y=v.useMemo(()=>new Set(m.map(c=>c.slotIndex)),[m]),L=v.useMemo(()=>m.find(c=>c.id===F),[m,F]),$=v.useMemo(()=>w.find(c=>c.type==="boss")||null,[w]),B=v.useRef(m);v.useEffect(()=>{B.current=m},[m]);const z=v.useRef(w);v.useEffect(()=>{z.current=w},[w]);const b=v.useRef(j);v.useEffect(()=>{b.current=j},[j]);const W=v.useRef(f);v.useEffect(()=>{W.current=f},[f]);const H=v.useRef(Ie);v.useEffect(()=>{H.current=Ie},[Ie]);const J=v.useRef(ce);v.useEffect(()=>{J.current=ce},[ce]);const V=v.useRef(O);v.useEffect(()=>{V.current=O},[O]);const ee=v.useRef(me);v.useEffect(()=>{ee.current=me},[me]);const Q=v.useRef(s);v.useEffect(()=>{Q.current=s},[s]);const X=v.useCallback(c=>{if(N(C=>C+c.reward+o.killBonus),c.type==="boss"&&c.bossIndex!==void 0){const C=c.bossIndex+3,A=Math.floor(C*o.researchPointModifier);ve(P=>P+A),Tt(4)}},[o.killBonus,o.researchPointModifier]),oe=v.useCallback(c=>{x(C=>{const A=c.type==="boss"?5:1,P=C-A;return P<=0&&h("game_over"),Math.max(0,P)})},[]),Lt=v.useCallback(c=>{g(C=>[...C,...c])},[]),pt=v.useCallback(c=>{const C=l[c].cost,A=M[c];return C*(1+A*Vf)},[l,M]),ft=v.useCallback(c=>{const C=bf,A=o.sellRatioModifier||0;return c.purchaseCost*(C+A)},[o.sellRatioModifier]);Zf(i,p==="wave_in_progress"?"running":"paused",Ye,o.projectileSpeedModifier,o.globalCritChance,o.globalCritDamage,ut,{towersRef:B,enemiesRef:z,projectilesRef:b,effectsRef:W,waveTimeRef:H,spawnQueueRef:J,currentWaveIndexRef:V,postBossDifficultyRef:ee,bossModifiersRef:Q},{setTowers:S,setEnemies:k,setProjectiles:_,setEffects:g,setWaveTime:Qe,setSpawnQueue:Ke,addEffects:Lt,onEnemyKilled:X,onEnemyReachedEnd:oe});const Nt=v.useCallback(()=>{const c=p==="placing"?0:O+1,C=d[c];if(!C){h("game_over");return}me>0&&Tt(Z=>Z-1),te(c);let A=[],P=0;C.spawns.forEach(Z=>{let se=P;const go=Z.type==="boss";let an=Z.count;!go&&me>0&&(an=Math.floor(an*1.4));for(let qn=0;qn<an;qn++)A.push({type:Z.type,time:se}),se+=Z.interval;P=se+.5}),Ke(A.sort((Z,se)=>Z.time-se.time)),Qe(0),h("wave_in_progress"),G(null),re(null)},[p,O,d,me]);v.useEffect(()=>{if(p==="wave_in_progress"){const c=setInterval(()=>{ct(C=>C+.1*Ye)},100);return()=>clearInterval(c)}},[p,Ye]),v.useEffect(()=>{p==="wave_in_progress"&&w.length===0&&ce.length===0&&(O===d.length-1?h("game_over"):(h("wave_countdown"),Xe(5)))},[p,w,ce,O,d.length]),v.useEffect(()=>{if(p==="wave_countdown"&&Ee!==null)if(Ee<=0)Nt();else{const c=setTimeout(()=>{Xe(C=>C!==null?C-1:null)},1e3);return()=>clearTimeout(c)}},[p,Ee,Nt]),v.useEffect(()=>{if(D){const c=setTimeout(()=>ke(!0),10);return()=>clearTimeout(c)}else ke(!1)},[D]),v.useEffect(()=>{if(p==="game_over"){const c=setTimeout(()=>dt(!0),10);return()=>clearTimeout(c)}else dt(!1)},[p]);const ao=()=>{p!=="wave_countdown"||Ee===null||(N(c=>c+Ha),Xe(null),Nt())},uo=(c,C)=>{y.has(c)||(G(null),re({slotIndex:c,position:C}))},co=c=>{if(!D)return;const{slotIndex:C,position:A}=D,P=l[c],Z=pt(c);T<Z||(S(se=>[...se,{...P,id:`tower_${Date.now()}`,position:A,slotIndex:C,purchaseCost:Z,fireCooldown:1/P.fireRate}]),N(se=>se-Z),K(se=>({...se,[c]:se[c]+1})),re(null),xe(null))},po=c=>{const C=m.find(P=>P.id===c);if(!C)return;const A=ft(C);N(P=>P+A),S(P=>P.filter(Z=>Z.id!==c)),G(null)},fo=c=>{c.target===c.currentTarget&&(G(null),re(null),xe(null))},_o=()=>p==="placing"||p==="wave_in_progress"&&w.length===0&&ce.length===0&&O===-1?u.jsx("button",{onClick:Nt,className:"px-6 py-3 bg-green-500 text-white font-bold rounded-lg shadow-lg hover:bg-green-600 transition-all duration-200 transform hover:scale-105",children:r("start_wave",O+1)}):p==="wave_countdown"?u.jsxs("button",{onClick:ao,className:"px-6 py-3 bg-cyan-500 text-white font-bold rounded-lg shadow-lg hover:bg-cyan-600 transition-all duration-200 transform hover:scale-105",children:[r("start_early",Ee??"0"),u.jsxs("span",{className:"text-xs ml-2 text-yellow-200 bg-black/20 px-1.5 py-0.5 rounded-full",children:["(+$",Ha,")"]})]}):u.jsx("div",{className:"px-6 py-3 text-slate-400 font-bold",children:r("wave_in_progress")});return u.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-900 font-mono text-slate-200",children:[u.jsxs("div",{className:"flex justify-between w-full max-w-5xl px-4 py-2 z-10",children:[u.jsxs("div",{className:"flex space-x-6 text-xl items-center bg-slate-800/80 backdrop-blur-sm px-4 py-2 rounded-lg border border-slate-700",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(l_,{className:"w-6 h-6 mr-2 text-rose-500"}),u.jsx("span",{className:"font-bold text-rose-400",children:E})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(o_,{className:"w-6 h-6 mr-2 text-yellow-400"}),u.jsx("span",{className:"font-bold text-yellow-300",children:T.toFixed(0)})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsxs("span",{className:"text-slate-400 mr-2",children:[r("wave"),":"]}),u.jsxs("span",{className:"font-bold text-slate-200",children:[Math.min(O+1,d.length)," / ",d.length]})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{onClick:()=>sn(c=>c===3?1:c+1),className:"px-4 py-2 bg-slate-700 text-slate-200 font-bold rounded-lg shadow-lg hover:bg-slate-600 transition-colors w-28",children:[r("speed")," x",Ye]}),_o()]})]}),u.jsxs("div",{className:"relative bg-slate-800 border-2 border-slate-700 rounded-lg shadow-2xl",children:[u.jsxs("svg",{width:Ps,height:Ds,onClick:fo,children:[u.jsxs("defs",{children:[u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),u.jsxs("filter",{id:"chainGlow",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),u.jsx("path",{d:i.map((c,C)=>`${C===0?"M":"L"}${c.x} ${c.y}`).join(" "),stroke:"#475569",strokeWidth:"40",fill:"none"}),u.jsx("path",{d:i.map((c,C)=>`${C===0?"M":"L"}${c.x} ${c.y}`).join(" "),stroke:"#586578",strokeWidth:"38",fill:"none"}),a.map((c,C)=>{if(y.has(C))return null;const A=(D==null?void 0:D.slotIndex)===C;return u.jsx("g",{onClick:()=>uo(C,c),className:"cursor-pointer",children:u.jsx("rect",{x:c.x-Re/2,y:c.y-Re/2,width:Re,height:Re,fill:A?"rgba(107, 237, 249, 0.2)":"rgba(107, 237, 249, 0.05)",stroke:"rgba(107, 237, 249, 0.5)",strokeWidth:A?2:1,className:"hover:fill-[rgba(107,237,249,0.15)] transition-colors"})},`slot_${C}`)}),D&&de&&u.jsx("circle",{cx:D.position.x,cy:D.position.y,r:l[de].range,fill:"rgba(255, 255, 255, 0.1)",stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:"1",strokeDasharray:"4",pointerEvents:"none"}),m.map(c=>{const C=F===c.id;return u.jsxs("g",{className:"cursor-pointer",onClick:A=>{A.stopPropagation(),G(c.id),re(null)},children:[C&&u.jsxs("g",{pointerEvents:"none",children:[u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:c.range,fill:"rgba(255, 255, 255, 0.1)"}),u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:c.range,stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1",fill:"none"})]}),c.type==="COLD"&&c.slowFactor&&u.jsx("g",{pointerEvents:"none",children:u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:c.range,fill:"rgba(59, 130, 246, 0.1)"})}),c.type==="CIRCLE"&&u.jsxs("g",{children:[u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"16",fill:"#475569",stroke:C?"#0ea5e9":"#64748b",strokeWidth:"2"}),u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"9",fill:"#0891b2"}),u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"5",fill:"#67e8f9"})]}),c.type==="SQUARE"&&u.jsxs("g",{children:[u.jsx("rect",{x:c.position.x-16,y:c.position.y-16,width:"32",height:"32",rx:"4",fill:"#6b21a8",stroke:C?"#c084fc":"#9333ea",strokeWidth:"2"}),u.jsx("rect",{x:c.position.x-8,y:c.position.y-8,width:"16",height:"16",fill:"#a855f7"})]}),c.type==="TRIANGLE"&&u.jsx("g",{transform:`translate(${c.position.x}, ${c.position.y})`,children:u.jsx("path",{d:"M0 -16 L14 8 L-14 8 Z",fill:"#0d9488",stroke:C?"#5eead4":"#14b8a6",strokeWidth:"2"})}),c.type==="FIRE"&&u.jsxs("g",{children:[u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"16",fill:"#7f1d1d",stroke:C?"#fb7185":"#f43f5e",strokeWidth:"2"}),u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"8",fill:"#f97316",filter:"url(#glow)"})]}),c.type==="COLD"&&u.jsxs("g",{children:[u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"16",fill:"#1e3a8a",stroke:C?"#60a5fa":"#3b82f6",strokeWidth:"2"}),u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"8",fill:"#38bdf8",filter:"url(#glow)"})]}),c.type==="ELECTRIC"&&u.jsxs("g",{transform:`translate(${c.position.x}, ${c.position.y})`,children:[u.jsx("path",{d:"M-5 -16 L-15 0 L-5 0 L5 16 L15 0 L5 0 Z",fill:"#581c87",stroke:C?"#d8b4fe":"#a855f7",strokeWidth:"2"}),u.jsx("path",{d:"M7 2v11h3v9l7-12h-4l4-8z",transform:"scale(0.5) translate(-7, -12)",fill:"#facc15",filter:"url(#glow)"})]})]},c.id)}),w.map(c=>{const C=c.type==="boss",A=c.type==="critter",P=C?20:A?6:10,Z=!!(c.abilityActiveTimer&&c.abilityActiveTimer>0);return u.jsxs("g",{transform:`translate(${c.position.x}, ${c.position.y})`,children:[c.slow&&u.jsx("circle",{r:P+4,fill:"rgba(59, 130, 246, 0.4)",filter:"url(#glow)"}),c.burns.length>0&&u.jsx("circle",{r:P+4,fill:"rgba(239, 68, 68, 0.5)",filter:"url(#glow)"}),!C&&u.jsxs(u.Fragment,{children:[u.jsx("rect",{x:-P*1.5/2,y:-P-7,width:P*1.5,height:"5",fill:"#334155",rx:"2"}),u.jsx("rect",{x:-P*1.5/2,y:-P-7,width:P*1.5*(c.health/c.maxHealth),height:"5",fill:A?"#f59e0b":"#16a34a",rx:"2"})]}),c.type==="triangle"&&u.jsx("path",{d:"M0 -10 L10 10 L-10 10 Z",fill:"#facc15",stroke:"#ca8a04",strokeWidth:2}),c.type==="square"&&u.jsx("rect",{x:"-10",y:"-10",width:"20",height:"20",fill:"#f43f5e",stroke:"#be123c",strokeWidth:2}),c.type==="pentagon"&&u.jsx("path",{d:"M0 -12 L11.4 -3.7 L7 9.7 H-7 L-11.4 -3.7 Z",fill:"#ec4899",stroke:"#be185d",strokeWidth:2}),C&&u.jsx("path",{d:"M0 -22 L21 -7.4 L13 19 H-13 L-21 -7.4 Z",fill:"#1e293b",stroke:Z?"#38bdf8":"#475569",strokeWidth:3}),A&&u.jsx("path",{d:"M0 -6 L5 0 L0 6 L-5 0Z",fill:"#f59e0b"})]},c.id)}),j.map(c=>u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:c.isChain?4:5,fill:c.damageType==="ELECTRIC"?"#a78bfa":c.damageType==="FIRE"?"#f97316":"#fff",filter:c.isChain?"url(#chainGlow)":"url(#glow)"},c.id)),f.map(c=>u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:2+(c.color==="#fef08a"?25:15)*(c.age/c.maxAge),fill:"none",stroke:c.color,strokeWidth:"3",opacity:1-c.age/c.maxAge},c.id)),D&&u.jsx("foreignObject",{x:D.position.x-120,y:D.position.y-100,width:"240",height:"170",style:{pointerEvents:"none"},children:u.jsxs("div",{className:`flex flex-col items-center transition-all duration-150 ease-out ${we?"scale-100 opacity-100":"scale-95 opacity-0"}`,style:{pointerEvents:"auto"},children:[u.jsx("div",{className:"h-16 w-full mb-2 flex items-center justify-center",children:de&&u.jsx("div",{className:"bg-slate-900/80 border border-slate-600 p-2 rounded-md w-full text-center pointer-events-none",children:u.jsx("p",{className:"text-xs text-slate-300 leading-tight",children:r(l[de].descriptionKey)})})}),u.jsx("div",{className:"flex items-center justify-center space-x-2 bg-slate-800/80 backdrop-blur-sm p-2 rounded-full border border-slate-700",children:o.unlockedTowers.map(c=>{const C=s_[c],A=pt(c),P=T>=A;return u.jsxs("button",{onClick:()=>co(c),onMouseEnter:()=>xe(c),onMouseLeave:()=>xe(null),disabled:!P,className:`relative flex flex-col items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-200 ${P?"bg-slate-700 border-slate-500 hover:bg-cyan-600 hover:border-cyan-400":"bg-slate-800 border-slate-700 cursor-not-allowed opacity-60"}`,children:[u.jsx(C,{className:"w-6 h-6 text-slate-100"}),u.jsx("div",{className:"absolute -bottom-1 text-xs font-bold text-yellow-300 bg-slate-900 px-1 rounded-sm",children:Math.floor(A)})]},c)})})]})}),L&&u.jsx("foreignObject",{x:L.position.x-45,y:L.position.y+L.range+5,width:"90",height:"40",style:{textAlign:"center"},children:u.jsxs("button",{onClick:c=>{c.stopPropagation(),po(L.id)},className:"px-3 py-1 bg-rose-600 text-white text-xs font-bold rounded shadow-lg hover:bg-rose-700 transition-colors",children:[r("sell")," (",Math.floor(ft(L)),")"]})}),p==="game_over"&&u.jsxs("g",{className:`transition-opacity duration-500 ${Rt?"opacity-100":"opacity-0"}`,children:[u.jsx("rect",{x:"0",y:"0",width:Ps,height:Ds,fill:"rgba(15, 23, 42, 0.8)"}),u.jsx("text",{x:"50%",y:"40%",dominantBaseline:"middle",textAnchor:"middle",fontSize:"60",fontWeight:"bold",fill:"#f8fafc",children:E>0?r("victory"):r("game_over")}),u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fontSize:"24",fill:"#94a3b8",children:r("rp_earned",U)})]})]}),p==="game_over"&&u.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity duration-500 ${Rt?"opacity-100":"opacity-0"}`,children:u.jsx("button",{onClick:()=>e({researchPointsEarned:U,victory:E>0}),className:"mt-24 px-8 py-4 bg-cyan-500 text-white font-bold rounded-lg shadow-lg hover:bg-cyan-600 transition-all text-xl",children:r("to_progression_tree")})})]}),$&&$.nameKey&&u.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 w-full max-w-2xl bg-slate-900/80 border-2 border-slate-700 rounded-lg p-3 text-center shadow-2xl backdrop-blur-sm",children:[u.jsx("div",{className:"text-xl font-bold text-rose-400 mb-2",children:r($.nameKey)}),u.jsx("div",{className:"w-full bg-slate-700 rounded-full h-5 border border-slate-600",children:u.jsx("div",{className:"bg-rose-600 h-full rounded-full transition-all duration-300",style:{width:`${$.health/$.maxHealth*100}%`}})}),u.jsxs("div",{className:"text-xs mt-2 text-slate-400 flex justify-center space-x-4",children:[u.jsxs("span",{children:[r("armor"),": ",u.jsxs("span",{className:"font-bold text-slate-200",children:[($.armor*100).toFixed(0),"%"]})]}),Object.entries($.resistances).map(([c,C])=>u.jsxs("span",{children:[r(c.toLowerCase()),": ",u.jsxs("span",{className:`font-bold ${C>0?"text-green-400":"text-red-400"}`,children:[(C*100).toFixed(0),"%"]})]},c))]})]})]})},a_=({node:e,isUnlocked:t,canUnlock:n,onClick:r,t:l})=>{const o="absolute w-24 h-24 p-2 border-2 rounded-lg flex flex-col items-center justify-center text-center transform transition-all duration-300",s=t?"bg-cyan-500 border-cyan-300 shadow-lg shadow-cyan-500/30":n?"bg-slate-600 border-slate-400 hover:bg-cyan-700 hover:border-cyan-500 cursor-pointer":"bg-slate-800 border-slate-700 opacity-60";return u.jsxs("div",{style:{left:`calc(${e.position.x}% - 48px)`,top:`calc(${e.position.y}% - 48px)`},className:`${o} ${s}`,onClick:()=>n&&r(e.id),children:[u.jsx("div",{className:"text-xs font-bold leading-tight",children:l(e.nameKey)}),u.jsx("div",{className:"text-[10px] text-slate-300 mt-1 leading-tight",children:l(e.descriptionKey)}),!t&&e.cost>0&&u.jsxs("div",{className:"absolute -bottom-5 flex items-center text-sm font-bold bg-slate-900 px-2 py-1 rounded-full border border-slate-700",children:[u.jsx(cd,{className:"w-4 h-4 mr-1 text-yellow-400"}),u.jsx("span",{className:"text-yellow-300",children:e.cost})]})]})},u_=({progression:e,onStartGame:t,t:n})=>{const{researchPoints:r,unlockedUpgrades:l,unlockUpgrade:o}=e,s=v.useMemo(()=>Gl.map(a=>{const d=l.includes(a.id),p=a.dependencies.every(m=>l.includes(m)),h=!d&&p&&r>=a.cost;return{...a,isUnlocked:d,canUnlock:h}}),[l,r]),i=v.useMemo(()=>{const a=new Map;return Gl.forEach(d=>a.set(d.id,d)),a},[]);return u.jsx("div",{className:"flex flex-col items-center justify-start min-h-screen bg-slate-900 font-mono p-4 overflow-x-hidden",children:u.jsxs("div",{className:"w-full max-w-screen-xl",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6 p-4 bg-slate-800 rounded-lg border border-slate-700",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-cyan-400",children:n("progression_tree_title")}),u.jsx("p",{className:"text-slate-400",children:n("progression_tree_subtitle")})]}),u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsxs("div",{className:"flex items-center bg-slate-700 px-4 py-2 rounded-lg",children:[u.jsx(cd,{className:"w-8 h-8 mr-3 text-yellow-400"}),u.jsx("span",{className:"text-3xl font-bold text-yellow-300",children:r})]}),u.jsx("button",{onClick:t,className:"px-6 py-3 bg-green-500 text-white font-bold rounded-lg shadow-lg hover:bg-green-600 transition-all duration-200 transform hover:scale-105",children:n("start_game")})]})]}),u.jsxs("div",{className:"relative w-full h-[140vh] bg-slate-800/50 border-2 border-slate-700 rounded-lg",children:[u.jsxs("svg",{className:"absolute inset-0 w-full h-full",width:"100%",height:"100%",children:[u.jsxs("defs",{children:[u.jsx("marker",{id:"arrow-unlocked",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"4",markerHeight:"4",orient:"auto-start-reverse",children:u.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#06b6d4"})}),u.jsx("marker",{id:"arrow-locked",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"3",markerHeight:"3",orient:"auto-start-reverse",children:u.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#64748b"})})]}),s.map(a=>a.dependencies.map(d=>{const p=i.get(d);if(!p)return null;const h=l.includes(a.id),m=`${p.position.x}%`,S=`${p.position.y}%`,w=`${a.position.x}%`,k=`${a.position.y}%`;return u.jsx("line",{x1:m,y1:S,x2:w,y2:k,stroke:h?"#06b6d4":"#64748b",strokeWidth:"3",markerEnd:h?"url(#arrow-unlocked)":"url(#arrow-locked)"},`${d}-${a.id}`)}))]}),s.map(a=>u.jsx(a_,{node:a,isUnlocked:a.isUnlocked,canUnlock:a.canUnlock,onClick:o,t:n},a.id))]})]})})},As="geometric_td_progression",c_=()=>{try{const e=localStorage.getItem(As);if(e){const t=JSON.parse(e),n=new Set(Array.isArray(t.unlockedUpgrades)?t.unlockedUpgrades:[]);return n.add("ROOT"),{researchPoints:t.researchPoints||0,unlockedUpgrades:Array.from(n),completedStages:Array.isArray(t.completedStages)?t.completedStages:[]}}}catch(e){console.error("Failed to load progression:",e)}return{researchPoints:0,unlockedUpgrades:["ROOT"],completedStages:[]}},d_=()=>{const[e,t]=v.useState(c_);v.useEffect(()=>{try{localStorage.setItem(As,JSON.stringify(e))}catch(i){console.error("Failed to save progression:",i)}},[e]);const n=v.useCallback(i=>{t(a=>({...a,researchPoints:a.researchPoints+i}))},[]),r=v.useCallback(i=>{const a=Gl.find(d=>d.id===i);a&&e.researchPoints>=a.cost&&!e.unlockedUpgrades.includes(i)&&t(d=>({...d,researchPoints:d.researchPoints-a.cost,unlockedUpgrades:[...d.unlockedUpgrades,i]}))},[e.researchPoints,e.unlockedUpgrades]),l=v.useCallback(i=>{t(a=>a.completedStages.includes(i)?a:{...a,completedStages:[...a.completedStages,i].sort()})},[]),o=v.useCallback(()=>{const i={researchPoints:0,unlockedUpgrades:["ROOT"],completedStages:[]};t(i),localStorage.setItem(As,JSON.stringify(i)),window.location.reload()},[]),s=v.useMemo(()=>{let i=Hf,a=0,d=Gf,p=1,h=0,m=1,S=1,w=0,k=.5;const j=new Set(["CIRCLE"]),_=JSON.parse(JSON.stringify(Xf)),f=e.unlockedUpgrades.map(x=>Gl.find(T=>T.id===x)).filter(x=>!!x);let g=0;for(const x of f){switch(x.id!=="ROOT"&&(g+=x.cost),x.id){case"S_UNLOCK":j.add("SQUARE");break;case"T_UNLOCK":j.add("TRIANGLE");break;case"EL_UNLOCK_FIRE":j.add("FIRE");break;case"EL_UNLOCK_COLD":j.add("COLD");break;case"EL_UNLOCK_ELEC":j.add("ELECTRIC");break}(x.type==="ECONOMY"||x.type==="GLOBAL")&&(x.globalStat==="startMoney"&&(i+=x.value??0),x.globalStat==="killBonus"&&(a+=x.value??0),x.globalStat==="startHealth"&&(d+=x.value??0),x.globalStat==="towerCostModifier"&&(p*=x.value??1),x.globalStat==="sellRatioModifier"&&(h+=x.value??0),x.globalStat==="projectileSpeedModifier"&&(m*=x.value??1),x.globalStat==="researchPointModifier"&&(S*=x.value??1),x.globalStat==="globalCritChance"&&(w+=x.value??0),x.globalStat==="globalCritDamage"&&(k+=x.value??0))}for(const x of f)if(x.type==="TOWER_MOD"&&x.tower&&x.stat&&x.value!=null){const T=_[x.tower];if(T)if(x.stat==="burnDps"&&T.burn)T.burn.dps+=x.value;else if(x.stat==="burnDuration"&&T.burn)T.burn.duration+=x.value;else if(x.stat==="chainCount"&&T.chain)T.chain.initialCount+=x.value;else if(x.stat==="slowFactor"&&T.slowFactor!==void 0)T.slowFactor+=x.value;else{const N=x.stat;typeof T[N]=="number"&&(x.operation==="multiply"?T[N]*=x.value:T[N]+=x.value)}}for(const x in _)_[x].cost*=p;const E={armor:Math.min(.5,g*.005),resistance:Math.min(.5,g*.002)};return{modifiedTowerStats:_,gameSettings:{startMoney:i,killBonus:a,startHealth:d,unlockedTowers:Array.from(j),sellRatioModifier:h,projectileSpeedModifier:m,researchPointModifier:S,globalCritChance:w,globalCritDamage:k},bossModifiers:E}},[e.unlockedUpgrades]);return{...e,addResearchPoints:n,unlockUpgrade:r,resetProgression:o,completeStage:l,...s}},ba={en:{app_subtitle:"A tower defense game with a persistent progression tree.",stage_1:"Stage 1",stage_2:"Stage 2",stage_2_unlock_tooltip:"Complete Stage 1 to unlock.",stage_2_tooltip:"A more challenging stage.",progression:"Progression",reset_progress:"Reset Progress",enter_cheat_code:"Enter Cheat Code...",submit_cheat:"Submit",start_wave:"Start Wave {0}",start_early:"Start Early ({0}s)",wave_in_progress:"Wave in Progress",wave:"Wave",speed:"Speed",sell:"Sell",victory:"Victory!",game_over:"Game Over",rp_earned:"You earned {0} Research Points.",to_progression_tree:"To Progression Tree",armor:"Armor",physical:"Physical",fire:"Fire",cold:"Cold",electric:"Electric",progression_tree_title:"Progression Tree",progression_tree_subtitle:"Spend Research Points to unlock permanent upgrades.",start_game:"Back to Menu",tower_circle_name:"Basic Tower",tower_square_name:"Cannon Tower",tower_triangle_name:"Rapid Tower",tower_fire_name:"Flame Tower",tower_cold_name:"Frost Tower",tower_electric_name:"Tesla Tower",tower_circle_desc:"A reliable, all-around tower.",tower_square_desc:"Deals high damage at a slow rate.",tower_triangle_desc:"Fires very quickly for low damage.",tower_fire_desc:"Applies a burn that deals damage over time.",tower_cold_desc:"Slows all enemies within its radius.",tower_electric_desc:"Shoots lightning that chains to multiple enemies.",boss_1_name:"The Warden",boss_2_name:"The Juggernaut",boss_3_name:"The Frost Titan",boss_4_name:"The Apex",upgrade_root_name:"Core Systems",upgrade_root_desc:"The start of all your research.",upgrade_e_start_1_name:"Initial Funding",upgrade_e_start_1_desc:"Start with +50 extra money.",upgrade_e_kill_1_name:"Bounty Hunting",upgrade_e_kill_1_desc:"Gain +1 money for each kill.",upgrade_e_start_2_name:"Advanced Funding",upgrade_e_start_2_desc:"Start with an additional +75 money.",upgrade_g_health_1_name:"Reinforced Core",upgrade_g_health_1_desc:"Increase starting health by 10.",upgrade_g_cost_1_name:"Efficient Construction",upgrade_g_cost_1_desc:"Reduce the cost of all towers by 5%.",upgrade_g_sell_1_name:"Scrap Recycling",upgrade_g_sell_1_desc:"Increase tower sell value by 10%.",upgrade_e_rp_1_name:"Applied Theory",upgrade_e_rp_1_desc:"Gain 10% more Research Points.",upgrade_e_rp_2_name:"Advanced Theory",upgrade_e_rp_2_desc:"Gain another 10% more Research Points.",upgrade_g_proj_speed_1_name:"Advanced Ballistics",upgrade_g_proj_speed_1_desc:"All projectiles travel 20% faster.",upgrade_g_crit_chance_1_name:"Precision Targeting",upgrade_g_crit_chance_1_desc:"All towers gain a 2% chance to critically strike.",upgrade_g_crit_dmg_1_name:"High-Explosive Shells",upgrade_g_crit_dmg_1_desc:"Critical strikes deal an additional 25% damage.",upgrade_g_crit_chance_2_name:"Target Analysis",upgrade_g_crit_chance_2_desc:"Increase critical strike chance by another 3%.",upgrade_p_branch_root_name:"Physical Ordnance",upgrade_p_branch_root_desc:"Unlock upgrades for physical damage towers.",upgrade_c_dmg_1_name:"Bigger Caliber",upgrade_c_dmg_1_desc:"Basic Tower damage +3.",upgrade_c_rate_1_name:"Improved Firing Pin",upgrade_c_rate_1_desc:"Basic Tower fire rate +15%.",upgrade_c_range_1_name:"Better Optics",upgrade_c_range_1_desc:"Basic Tower range +10%.",upgrade_c_dmg_2_name:"Heavy Rounds",upgrade_c_dmg_2_desc:"Basic Tower damage +5.",upgrade_s_unlock_name:"Unlock Cannon",upgrade_s_unlock_desc:"Unlocks the powerful Cannon Tower.",upgrade_s_dmg_1_name:"Heavy Shells",upgrade_s_dmg_1_desc:"Cannon Tower damage +10.",upgrade_s_range_1_name:"Rangefinder",upgrade_s_range_1_desc:"Cannon Tower range +15%.",upgrade_s_dmg_2_name:"Shaped Charges",upgrade_s_dmg_2_desc:"Cannon Tower damage +15%.",upgrade_s_dmg_3_name:"Armor Piercing",upgrade_s_dmg_3_desc:"Cannon Tower damage +25.",upgrade_t_unlock_name:"Unlock Rapid",upgrade_t_unlock_desc:"Unlocks the fast-firing Rapid Tower.",upgrade_t_rate_1_name:"Autoloader",upgrade_t_rate_1_desc:"Rapid Tower fire rate +25%.",upgrade_t_range_1_name:"Advanced Rifling",upgrade_t_range_1_desc:"Rapid Tower range +20%.",upgrade_t_dmg_1_name:"Hot Loads",upgrade_t_dmg_1_desc:"Rapid Tower damage +2.",upgrade_el_branch_root_name:"Elemental Studies",upgrade_el_branch_root_desc:"Unlock upgrades for elemental towers.",upgrade_el_unlock_fire_name:"Unlock Flame",upgrade_el_unlock_fire_desc:"Unlocks the burning Flame Tower.",upgrade_el_fire_dps_1_name:"Volatile Fuel",upgrade_el_fire_dps_1_desc:"Flame Tower burn damage +5 dps.",upgrade_el_fire_dur_1_name:"Sticky Flames",upgrade_el_fire_dur_1_desc:"Flame Tower burn duration +1s.",upgrade_el_fire_dmg_1_name:"Combustion",upgrade_el_fire_dmg_1_desc:"Flame Tower initial damage +25%.",upgrade_el_unlock_cold_name:"Unlock Frost",upgrade_el_unlock_cold_desc:"Unlocks the slowing Frost Tower.",upgrade_el_cold_slow_1_name:"Cryo Coolant",upgrade_el_cold_slow_1_desc:"Frost Tower slow effect +10%.",upgrade_el_cold_range_1_name:"Wide Dispersion",upgrade_el_cold_range_1_desc:"Frost Tower range +15%.",upgrade_el_cold_slow_2_name:"Absolute Zero",upgrade_el_cold_slow_2_desc:"Frost Tower slow effect +15%.",upgrade_el_unlock_elec_name:"Unlock Tesla",upgrade_el_unlock_elec_desc:"Unlocks the chaining Tesla Tower.",upgrade_el_elec_chain_1_name:"Superconductor",upgrade_el_elec_chain_1_desc:"Tesla Tower chains to +1 enemy.",upgrade_el_elec_dmg_1_name:"Overcharge",upgrade_el_elec_dmg_1_desc:"Tesla Tower damage +15%.",upgrade_el_elec_dmg_2_name:"High Voltage",upgrade_el_elec_dmg_2_desc:"Tesla Tower damage +20%."},bg:{app_subtitle:"Tower defense игра с дърво за прогрес.",stage_1:"Ниво 1",stage_2:"Ниво 2",stage_2_unlock_tooltip:"Завършете Ниво 1 за отключване.",stage_2_tooltip:"По-предизвикателно ниво.",progression:"Прогрес",reset_progress:"Нулиране",enter_cheat_code:"Въведи чийт код...",submit_cheat:"Изпрати",start_wave:"Старт Вълна {0}",start_early:"По-рано ({0}с)",wave_in_progress:"Вълната тече",wave:"Вълна",speed:"Скорост",sell:"Продай",victory:"Победа!",game_over:"Край на играта",rp_earned:"Спечелихте {0} точки за изследване.",to_progression_tree:"Към дървото за прогрес",armor:"Броня",physical:"Физическа",fire:"Огън",cold:"Студ",electric:"Ток",progression_tree_title:"Дърво за Прогрес",progression_tree_subtitle:"Харчете точки за изследване за постоянни подобрения.",start_game:"Към менюто",tower_circle_name:"Базова Кула",tower_square_name:"Оръдейна Кула",tower_triangle_name:"Скоростна Кула",tower_fire_name:"Огнена Кула",tower_cold_name:"Ледена Кула",tower_electric_name:"Тесла Кула",tower_circle_desc:"Надеждна, универсална кула.",tower_square_desc:"Нанася големи щети с ниска скорост.",tower_triangle_desc:"Стреля много бързо за малко щети.",tower_fire_desc:"Прилага изгаряне, което нанася щети с времето.",tower_cold_desc:"Забавя всички врагове в своя радиус.",tower_electric_desc:"Изстрелва мълния, която прескача по врагове.",boss_1_name:"Пазителят",boss_2_name:"Джъгърнаутът",boss_3_name:"Леденият Титан",boss_4_name:"Върхът",upgrade_root_name:"Основни Системи",upgrade_root_desc:"Началото на вашите изследвания.",upgrade_e_start_1_name:"Начално Финансиране",upgrade_e_start_1_desc:"Започнете с +50 допълнително пари.",upgrade_e_kill_1_name:"Лов на Глави",upgrade_e_kill_1_desc:"Получавате +1 пари за всяко убийство.",upgrade_e_start_2_name:"Разширено Финансиране",upgrade_e_start_2_desc:"Започнете с още +75 пари.",upgrade_g_health_1_name:"Подсилено Ядро",upgrade_g_health_1_desc:"Увеличете началния живот с 10.",upgrade_g_cost_1_name:"Ефективно Строителство",upgrade_g_cost_1_desc:"Намалете цената на всички кули с 5%.",upgrade_g_sell_1_name:"Рециклиране на Скрап",upgrade_g_sell_1_desc:"Увеличете продажната цена на кулите с 10%.",upgrade_e_rp_1_name:"Приложна Теория",upgrade_e_rp_1_desc:"Получавате 10% повече точки за изследване.",upgrade_e_rp_2_name:"Напреднала Теория",upgrade_e_rp_2_desc:"Получавате още 10% повече точки за изследване.",upgrade_g_proj_speed_1_name:"Напреднала Балистика",upgrade_g_proj_speed_1_desc:"Всички снаряди се движат с 20% по-бързо.",upgrade_g_crit_chance_1_name:"Прецизно Насочване",upgrade_g_crit_chance_1_desc:"Всички кули получават 2% шанс за критичен удар.",upgrade_g_crit_dmg_1_name:"Експлозивни Снаряди",upgrade_g_crit_dmg_1_desc:"Критичните удари нанасят +25% щети.",upgrade_g_crit_chance_2_name:"Анализ на Цели",upgrade_g_crit_chance_2_desc:"Увеличете шанса за крит. удар с още 3%.",upgrade_p_branch_root_name:"Физически Боеприпаси",upgrade_p_branch_root_desc:"Отключете подобрения за физически кули.",upgrade_c_dmg_1_name:"По-голям Калибър",upgrade_c_dmg_1_desc:"Базова Кула щети +3.",upgrade_c_rate_1_name:"Подобрен Ударник",upgrade_c_rate_1_desc:"Базова Кула скорост на стрелба +15%.",upgrade_c_range_1_name:"По-добра Оптика",upgrade_c_range_1_desc:"Базова Кула обхват +10%.",upgrade_c_dmg_2_name:"Тежки Патрони",upgrade_c_dmg_2_desc:"Базова Кула щети +5.",upgrade_s_unlock_name:"Отключи Оръдие",upgrade_s_unlock_desc:"Отключва мощната Оръдейна Кула.",upgrade_s_dmg_1_name:"Тежки Снаряди",upgrade_s_dmg_1_desc:"Оръдейна Кула щети +10.",upgrade_s_range_1_name:"Далекомер",upgrade_s_range_1_desc:"Оръдейна Кула обхват +15%.",upgrade_s_dmg_2_name:"Кумулативни Заряди",upgrade_s_dmg_2_desc:"Оръдейна Кула щети +15%.",upgrade_s_dmg_3_name:"Бронебойни",upgrade_s_dmg_3_desc:"Оръдейна Кула щети +25.",upgrade_t_unlock_name:"Отключи Скоростна",upgrade_t_unlock_desc:"Отключва бързострелната Скоростна Кула.",upgrade_t_rate_1_name:"Автоматично Зареждане",upgrade_t_rate_1_desc:"Скоростна Кула скорост на стрелба +25%.",upgrade_t_range_1_name:"Напреднали Нарези",upgrade_t_range_1_desc:"Скоростна Кула обхват +20%.",upgrade_t_dmg_1_name:"Горещи Патрони",upgrade_t_dmg_1_desc:"Скоростна Кула щети +2.",upgrade_el_branch_root_name:"Елементални Проучвания",upgrade_el_branch_root_desc:"Отключете подобрения за елементални кули.",upgrade_el_unlock_fire_name:"Отключи Огнена",upgrade_el_unlock_fire_desc:"Отключва изгарящата Огнена Кула.",upgrade_el_fire_dps_1_name:"Летливо Гориво",upgrade_el_fire_dps_1_desc:"Огнена Кула щети от изгаряне +5.",upgrade_el_fire_dur_1_name:"Лепкави Пламъци",upgrade_el_fire_dur_1_desc:"Огнена Кула времетраене на изгаряне +1с.",upgrade_el_fire_dmg_1_name:"Възпламеняване",upgrade_el_fire_dmg_1_desc:"Огнена Кула начални щети +25%.",upgrade_el_unlock_cold_name:"Отключи Ледена",upgrade_el_unlock_cold_desc:"Отключва забавящата Ледена Кула.",upgrade_el_cold_slow_1_name:"Крио Охладител",upgrade_el_cold_slow_1_desc:"Ледена Кула забавяне +10%.",upgrade_el_cold_range_1_name:"Широко Разпръскване",upgrade_el_cold_range_1_desc:"Ледена Кула обхват +15%.",upgrade_el_cold_slow_2_name:"Абсолютна Нула",upgrade_el_cold_slow_2_desc:"Ледена Кула забавяне +15%.",upgrade_el_unlock_elec_name:"Отключи Тесла",upgrade_el_unlock_elec_desc:"Отключва верижната Тесла Кула.",upgrade_el_elec_chain_1_name:"Свръхпроводник",upgrade_el_elec_chain_1_desc:"Тесла Кула прескача към +1 враг.",upgrade_el_elec_dmg_1_name:"Претоварване",upgrade_el_elec_dmg_1_desc:"Тесла Кула щети +15%.",upgrade_el_elec_dmg_2_name:"Високо Напрежение",upgrade_el_elec_dmg_2_desc:"Тесла Кула щети +20%."}},p_=e=>(t,...n)=>{var l,o;let r=((l=ba[e])==null?void 0:l[t])||((o=ba.en)==null?void 0:o[t])||t;return n.length>0&&n.forEach((s,i)=>{r=r.replace(`{${i}}`,String(s))}),r},f_=()=>{const[e,t]=v.useState("menu"),[n,r]=v.useState(null),[l,o]=v.useState(1),[s,i]=v.useState("en"),[a,d]=v.useState(""),p=d_(),h=p_(s),m=v.useCallback(()=>{a.toLowerCase()==="t0sh0bag3ra"&&p.addResearchPoints(20),d("")},[a,p]),S=v.useCallback(j=>{p.addResearchPoints(j.researchPointsEarned),j.victory&&n!==null&&p.completeStage(n),t("progression")},[p,n]),w=j=>{r(j),o(_=>_+1),t("game")},k=()=>{switch(e){case"game":return u.jsx(i_,{onGameEnd:S,progression:p,stageIndex:n,t:h},l);case"progression":return u.jsx(u_,{progression:p,onStartGame:()=>t("menu"),t:h});case"menu":default:const j=p.completedStages.includes(0);return u.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-900 text-slate-50 font-mono",children:[u.jsx("h1",{className:"text-6xl font-bold text-cyan-400 tracking-wider mb-4",children:"Geometric TD"}),u.jsx("p",{className:"text-slate-400 mb-8",children:h("app_subtitle")}),u.jsxs("div",{className:"flex flex-col space-y-4",children:[u.jsx("button",{onClick:()=>w(0),className:"px-8 py-3 bg-cyan-500 text-white font-bold rounded-lg shadow-lg hover:bg-cyan-600 transition-all duration-200 transform hover:scale-105",children:h("stage_1")}),u.jsxs("button",{onClick:()=>j&&w(1),disabled:!j,className:`px-8 py-3 text-white font-bold rounded-lg shadow-lg transition-all duration-200 transform hover:scale-105 ${j?"bg-purple-600 hover:bg-purple-700":"bg-slate-700 cursor-not-allowed"}`,title:h(j?"stage_2_tooltip":"stage_2_unlock_tooltip"),children:[h("stage_2")," ",!j&&"🔒"]})]}),u.jsxs("div",{className:"mt-8 flex space-x-4",children:[u.jsx("button",{onClick:()=>t("progression"),className:"px-8 py-3 bg-slate-700 text-slate-200 font-bold rounded-lg shadow-lg hover:bg-slate-600 transition-all duration-200",children:h("progression")}),u.jsx("button",{onClick:p.resetProgression,className:"px-8 py-3 bg-rose-800 text-slate-200 font-bold rounded-lg shadow-lg hover:bg-rose-700 transition-all duration-200",children:h("reset_progress")})]}),u.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[u.jsx("button",{onClick:()=>i("en"),className:`px-3 py-1 text-sm font-bold rounded ${s==="en"?"bg-cyan-500 text-white":"bg-slate-700 text-slate-300"}`,children:"EN"}),u.jsx("button",{onClick:()=>i("bg"),className:`px-3 py-1 text-sm font-bold rounded ${s==="bg"?"bg-cyan-500 text-white":"bg-slate-700 text-slate-300"}`,children:"BG"})]}),u.jsxs("div",{className:"absolute bottom-4 left-4 flex",children:[u.jsx("input",{type:"text",value:a,onChange:_=>d(_.target.value),onKeyDown:_=>{_.key==="Enter"&&m()},placeholder:h("enter_cheat_code"),className:"bg-slate-800 border border-slate-700 text-slate-300 text-sm rounded-l-md px-2 py-1 outline-none w-48"}),u.jsx("button",{onClick:m,className:"bg-slate-700 text-slate-300 text-sm font-bold rounded-r-md px-3 py-1 border border-l-0 border-slate-700 hover:bg-slate-600",children:h("submit_cheat")})]})]})}};return u.jsx("div",{className:"w-full h-full",children:k()})},dd=document.getElementById("root");if(!dd)throw new Error("Could not find root element to mount to");const __=vl.createRoot(dd);__.render(u.jsx(iu.StrictMode,{children:u.jsx(f_,{})}));const Fs=1e3,Ks=750,Le=50,g_=Fs/Le,m_=Ks/Le,h_=20,y_=150,v_=.75,x_=.15,Va=e=>{const t=[];for(let n=1;n<=20;n++){const r=n+(e?5:0),l=[];n%5===0?l.push({type:"boss",count:1,interval:0}):(r>0&&l.push({type:"triangle",count:Math.min(35,5+Math.floor(n*2.2)),interval:Math.max(.15,.8-n*.02)}),r>5&&l.push({type:"square",count:Math.min(25,3+Math.floor(n*1.2)),interval:Math.max(.7,1.5-n*.05)}),r>10&&l.push({type:"pentagon",count:Math.min(20,2+Math.floor(n*.9)),interval:Math.max(.5,1.2-n*.04)})),t.push({spawns:l})}return t},w_=[{path:[[-1,7],[3,7],[3,3],[8,3],[8,12],[15,12],[15,5],[18,5],[18,-1]],waves:Va(!1)},{path:[[-1,2],[5,2],[5,10],[14,10],[14,1],[19,1],[19,16]],waves:Va(!0)}],E_=e=>{const t=w_[e];if(!t)throw new Error(`Invalid stage index: ${e}`);const n=t.path,r=()=>n.map(([i,a])=>({x:i*Le+Le/2,y:a*Le+Le/2})),o=(()=>{const i=new Set;for(let a=0;a<n.length-1;a++){let[d,p]=n[a];const[h,m]=n[a+1];for(i.add(`${d},${p}`);d!==h||p!==m;)d<h?d++:d>h?d--:p<m?p++:p>m&&p--,i.add(`${d},${p}`)}return i})(),s=()=>{const i=new Set;o.forEach(d=>{const[p,h]=d.split(",").map(Number);for(let m=-1;m<=1;m++)for(let S=-1;S<=1;S++){if(m===0&&S===0)continue;const w=p+m,k=h+S;w>=0&&w<g_&&k>=0&&k<m_&&!o.has(`${w},${k}`)&&i.add(`${w},${k}`)}});const a=Array.from(i).map(d=>{const[p,h]=d.split(",").map(Number);return{x:p*Le+Le/2,y:h*Le+Le/2}});return a.sort((d,p)=>d.y!==p.y?d.y-p.y:d.x-p.x),a};return{PATH_COORDS:r(),TOWER_SLOTS:s(),WAVES:t.waves}},S_={CIRCLE:{type:"CIRCLE",nameKey:"tower_circle_name",descriptionKey:"tower_circle_desc",damageType:"PHYSICAL",range:150,damage:10,fireRate:2,cost:50},SQUARE:{type:"SQUARE",nameKey:"tower_square_name",descriptionKey:"tower_square_desc",damageType:"PHYSICAL",range:100,damage:35,fireRate:.8,cost:120},TRIANGLE:{type:"TRIANGLE",nameKey:"tower_triangle_name",descriptionKey:"tower_triangle_desc",damageType:"PHYSICAL",range:200,damage:8,fireRate:3,cost:150},FIRE:{type:"FIRE",nameKey:"tower_fire_name",descriptionKey:"tower_fire_desc",damageType:"FIRE",range:120,damage:5,fireRate:1,cost:100,burn:{dps:10,duration:3}},COLD:{type:"COLD",nameKey:"tower_cold_name",descriptionKey:"tower_cold_desc",damageType:"COLD",range:100,damage:0,fireRate:0,cost:120,slowFactor:.4},ELECTRIC:{type:"ELECTRIC",nameKey:"tower_electric_name",descriptionKey:"tower_electric_desc",damageType:"ELECTRIC",range:160,damage:25,fireRate:1,cost:180,chain:{initialCount:2}}},sl={triangle:{type:"triangle",health:40,speed:80,reward:5},square:{type:"square",health:250,speed:40,reward:10},pentagon:{type:"pentagon",health:100,speed:60,reward:8},boss:{type:"boss",health:800,speed:30,reward:100},critter:{type:"critter",health:1,speed:120,reward:1}},Qa=[{nameKey:"boss_1_name",baseHealth:1200,baseReward:100,armor:.2,resistances:{FIRE:.25,COLD:-.1,ELECTRIC:.1},specialAbility:{type:"SPAWN_CRITTERS",triggerDistance:Le*4,spawnCount:2,spawnType:"critter",duration:3}},{nameKey:"boss_2_name",baseHealth:5e3,baseReward:250,armor:.15,resistances:{FIRE:-.25,COLD:.15,ELECTRIC:.5},specialAbility:{type:"SPAWN_CRITTERS",triggerDistance:Le*4,spawnCount:4,spawnType:"critter",duration:3.5}},{nameKey:"boss_3_name",baseHealth:12e3,baseReward:500,armor:.35,resistances:{FIRE:.5,COLD:.6,ELECTRIC:-.2},specialAbility:{type:"SPAWN_CRITTERS",triggerDistance:Le*5,spawnCount:6,spawnType:"critter",duration:4}},{nameKey:"boss_4_name",baseHealth:3e4,baseReward:1e3,armor:.5,resistances:{FIRE:.3,COLD:.3,ELECTRIC:.3},specialAbility:{type:"SPAWN_CRITTERS",triggerDistance:Le*5,spawnCount:8,spawnType:"critter",duration:4}}],Hl=[{id:"ROOT",nameKey:"upgrade_root_name",descriptionKey:"upgrade_root_desc",cost:0,dependencies:[],position:{x:50,y:5},type:"GLOBAL"},{id:"E_START_1",nameKey:"upgrade_e_start_1_name",descriptionKey:"upgrade_e_start_1_desc",cost:1,dependencies:["ROOT"],position:{x:50,y:15},type:"ECONOMY",globalStat:"startMoney",value:50,operation:"add"},{id:"E_KILL_1",nameKey:"upgrade_e_kill_1_name",descriptionKey:"upgrade_e_kill_1_desc",cost:2,dependencies:["E_START_1"],position:{x:40,y:25},type:"ECONOMY",globalStat:"killBonus",value:1,operation:"add"},{id:"E_START_2",nameKey:"upgrade_e_start_2_name",descriptionKey:"upgrade_e_start_2_desc",cost:3,dependencies:["E_START_1"],position:{x:60,y:25},type:"ECONOMY",globalStat:"startMoney",value:75,operation:"add"},{id:"G_HEALTH_1",nameKey:"upgrade_g_health_1_name",descriptionKey:"upgrade_g_health_1_desc",cost:3,dependencies:["E_KILL_1"],position:{x:40,y:35},type:"GLOBAL",globalStat:"startHealth",value:10,operation:"add"},{id:"G_COST_1",nameKey:"upgrade_g_cost_1_name",descriptionKey:"upgrade_g_cost_1_desc",cost:4,dependencies:["E_START_2"],position:{x:60,y:35},type:"GLOBAL",globalStat:"towerCostModifier",value:.95,operation:"multiply"},{id:"G_SELL_1",nameKey:"upgrade_g_sell_1_name",descriptionKey:"upgrade_g_sell_1_desc",cost:2,dependencies:["G_COST_1"],position:{x:60,y:45},type:"ECONOMY",globalStat:"sellRatioModifier",value:.1,operation:"add"},{id:"E_RP_1",nameKey:"upgrade_e_rp_1_name",descriptionKey:"upgrade_e_rp_1_desc",cost:8,dependencies:["G_SELL_1"],position:{x:75,y:45},type:"ECONOMY",globalStat:"researchPointModifier",value:1.1,operation:"multiply"},{id:"E_RP_2",nameKey:"upgrade_e_rp_2_name",descriptionKey:"upgrade_e_rp_2_desc",cost:12,dependencies:["E_RP_1"],position:{x:85,y:45},type:"ECONOMY",globalStat:"researchPointModifier",value:1.1,operation:"multiply"},{id:"G_PROJ_SPEED_1",nameKey:"upgrade_g_proj_speed_1_name",descriptionKey:"upgrade_g_proj_speed_1_desc",cost:4,dependencies:["G_HEALTH_1","G_COST_1"],position:{x:50,y:45},type:"GLOBAL",globalStat:"projectileSpeedModifier",value:1.2,operation:"multiply"},{id:"G_CRIT_CHANCE_1",nameKey:"upgrade_g_crit_chance_1_name",descriptionKey:"upgrade_g_crit_chance_1_desc",cost:5,dependencies:["G_PROJ_SPEED_1"],position:{x:50,y:55},type:"GLOBAL",globalStat:"globalCritChance",value:.02,operation:"add"},{id:"G_CRIT_DMG_1",nameKey:"upgrade_g_crit_dmg_1_name",descriptionKey:"upgrade_g_crit_dmg_1_desc",cost:5,dependencies:["G_CRIT_CHANCE_1"],position:{x:50,y:65},type:"GLOBAL",globalStat:"globalCritDamage",value:.25,operation:"add"},{id:"G_CRIT_CHANCE_2",nameKey:"upgrade_g_crit_chance_2_name",descriptionKey:"upgrade_g_crit_chance_2_desc",cost:8,dependencies:["G_CRIT_DMG_1"],position:{x:50,y:75},type:"GLOBAL",globalStat:"globalCritChance",value:.03,operation:"add"},{id:"P_BRANCH_ROOT",nameKey:"upgrade_p_branch_root_name",descriptionKey:"upgrade_p_branch_root_desc",cost:1,dependencies:["ROOT"],position:{x:25,y:15},type:"GLOBAL"},{id:"C_DMG_1",nameKey:"upgrade_c_dmg_1_name",descriptionKey:"upgrade_c_dmg_1_desc",cost:1,dependencies:["P_BRANCH_ROOT"],position:{x:15,y:25},type:"TOWER_MOD",tower:"CIRCLE",stat:"damage",value:3,operation:"add"},{id:"C_RATE_1",nameKey:"upgrade_c_rate_1_name",descriptionKey:"upgrade_c_rate_1_desc",cost:2,dependencies:["C_DMG_1"],position:{x:15,y:35},type:"TOWER_MOD",tower:"CIRCLE",stat:"fireRate",value:1.15,operation:"multiply"},{id:"C_RANGE_1",nameKey:"upgrade_c_range_1_name",descriptionKey:"upgrade_c_range_1_desc",cost:3,dependencies:["C_DMG_1"],position:{x:25,y:35},type:"TOWER_MOD",tower:"CIRCLE",stat:"range",value:1.1,operation:"multiply"},{id:"C_DMG_2",nameKey:"upgrade_c_dmg_2_name",descriptionKey:"upgrade_c_dmg_2_desc",cost:4,dependencies:["C_RATE_1","C_RANGE_1"],position:{x:20,y:45},type:"TOWER_MOD",tower:"CIRCLE",stat:"damage",value:5,operation:"add"},{id:"S_UNLOCK",nameKey:"upgrade_s_unlock_name",descriptionKey:"upgrade_s_unlock_desc",cost:2,dependencies:["P_BRANCH_ROOT"],position:{x:35,y:25},type:"GLOBAL"},{id:"S_DMG_1",nameKey:"upgrade_s_dmg_1_name",descriptionKey:"upgrade_s_dmg_1_desc",cost:3,dependencies:["S_UNLOCK"],position:{x:35,y:35},type:"TOWER_MOD",tower:"SQUARE",stat:"damage",value:10,operation:"add"},{id:"S_RANGE_1",nameKey:"upgrade_s_range_1_name",descriptionKey:"upgrade_s_range_1_desc",cost:4,dependencies:["S_DMG_1"],position:{x:25,y:45},type:"TOWER_MOD",tower:"SQUARE",stat:"range",value:1.15,operation:"multiply"},{id:"S_DMG_2",nameKey:"upgrade_s_dmg_2_name",descriptionKey:"upgrade_s_dmg_2_desc",cost:5,dependencies:["S_DMG_1"],position:{x:35,y:45},type:"TOWER_MOD",tower:"SQUARE",stat:"damage",value:1.15,operation:"multiply"},{id:"S_DMG_3",nameKey:"upgrade_s_dmg_3_name",descriptionKey:"upgrade_s_dmg_3_desc",cost:6,dependencies:["S_DMG_2"],position:{x:35,y:55},type:"TOWER_MOD",tower:"SQUARE",stat:"damage",value:25,operation:"add"},{id:"T_UNLOCK",nameKey:"upgrade_t_unlock_name",descriptionKey:"upgrade_t_unlock_desc",cost:5,dependencies:["S_DMG_3"],position:{x:35,y:65},type:"GLOBAL"},{id:"T_RATE_1",nameKey:"upgrade_t_rate_1_name",descriptionKey:"upgrade_t_rate_1_desc",cost:4,dependencies:["T_UNLOCK"],position:{x:25,y:75},type:"TOWER_MOD",tower:"TRIANGLE",stat:"fireRate",value:1.25,operation:"multiply"},{id:"T_RANGE_1",nameKey:"upgrade_t_range_1_name",descriptionKey:"upgrade_t_range_1_desc",cost:4,dependencies:["T_UNLOCK"],position:{x:45,y:75},type:"TOWER_MOD",tower:"TRIANGLE",stat:"range",value:1.2,operation:"multiply"},{id:"T_DMG_1",nameKey:"upgrade_t_dmg_1_name",descriptionKey:"upgrade_t_dmg_1_desc",cost:6,dependencies:["T_RATE_1","T_RANGE_1"],position:{x:35,y:85},type:"TOWER_MOD",tower:"TRIANGLE",stat:"damage",value:2,operation:"add"},{id:"EL_BRANCH_ROOT",nameKey:"upgrade_el_branch_root_name",descriptionKey:"upgrade_el_branch_root_desc",cost:1,dependencies:["ROOT"],position:{x:75,y:15},type:"GLOBAL"},{id:"EL_UNLOCK_FIRE",nameKey:"upgrade_el_unlock_fire_name",descriptionKey:"upgrade_el_unlock_fire_desc",cost:2,dependencies:["EL_BRANCH_ROOT"],position:{x:65,y:25},type:"GLOBAL"},{id:"EL_FIRE_DPS_1",nameKey:"upgrade_el_fire_dps_1_name",descriptionKey:"upgrade_el_fire_dps_1_desc",cost:3,dependencies:["EL_UNLOCK_FIRE"],position:{x:65,y:35},type:"TOWER_MOD",tower:"FIRE",stat:"burnDps",value:5,operation:"add"},{id:"EL_FIRE_DUR_1",nameKey:"upgrade_el_fire_dur_1_name",descriptionKey:"upgrade_el_fire_dur_1_desc",cost:3,dependencies:["EL_FIRE_DPS_1"],position:{x:65,y:45},type:"TOWER_MOD",tower:"FIRE",stat:"burnDuration",value:1,operation:"add"},{id:"EL_FIRE_DMG_1",nameKey:"upgrade_el_fire_dmg_1_name",descriptionKey:"upgrade_el_fire_dmg_1_desc",cost:4,dependencies:["EL_FIRE_DUR_1"],position:{x:65,y:55},type:"TOWER_MOD",tower:"FIRE",stat:"damage",value:1.25,operation:"multiply"},{id:"EL_UNLOCK_COLD",nameKey:"upgrade_el_unlock_cold_name",descriptionKey:"upgrade_el_unlock_cold_desc",cost:2,dependencies:["EL_BRANCH_ROOT"],position:{x:85,y:25},type:"GLOBAL"},{id:"EL_COLD_SLOW_1",nameKey:"upgrade_el_cold_slow_1_name",descriptionKey:"upgrade_el_cold_slow_1_desc",cost:3,dependencies:["EL_UNLOCK_COLD"],position:{x:85,y:35},type:"TOWER_MOD",tower:"COLD",stat:"slowFactor",value:.1,operation:"add"},{id:"EL_COLD_RANGE_1",nameKey:"upgrade_el_cold_range_1_name",descriptionKey:"upgrade_el_cold_range_1_desc",cost:3,dependencies:["EL_COLD_SLOW_1"],position:{x:85,y:45},type:"TOWER_MOD",tower:"COLD",stat:"range",value:1.15,operation:"multiply"},{id:"EL_COLD_SLOW_2",nameKey:"upgrade_el_cold_slow_2_name",descriptionKey:"upgrade_el_cold_slow_2_desc",cost:5,dependencies:["EL_COLD_RANGE_1"],position:{x:85,y:55},type:"TOWER_MOD",tower:"COLD",stat:"slowFactor",value:.15,operation:"add"},{id:"EL_UNLOCK_ELEC",nameKey:"upgrade_el_unlock_elec_name",descriptionKey:"upgrade_el_unlock_elec_desc",cost:4,dependencies:["EL_FIRE_DMG_1","EL_COLD_SLOW_2"],position:{x:75,y:65},type:"GLOBAL"},{id:"EL_ELEC_CHAIN_1",nameKey:"upgrade_el_elec_chain_1_name",descriptionKey:"upgrade_el_elec_chain_1_desc",cost:5,dependencies:["EL_UNLOCK_ELEC"],position:{x:65,y:75},type:"TOWER_MOD",tower:"ELECTRIC",stat:"chainCount",value:1,operation:"add"},{id:"EL_ELEC_DMG_1",nameKey:"upgrade_el_elec_dmg_1_name",descriptionKey:"upgrade_el_elec_dmg_1_desc",cost:4,dependencies:["EL_UNLOCK_ELEC"],position:{x:85,y:75},type:"TOWER_MOD",tower:"ELECTRIC",stat:"damage",value:1.15,operation:"multiply"},{id:"EL_ELEC_DMG_2",nameKey:"upgrade_el_elec_dmg_2_name",descriptionKey:"upgrade_el_elec_dmg_2_desc",cost:6,dependencies:["EL_ELEC_CHAIN_1","EL_ELEC_DMG_1"],position:{x:75,y:85},type:"TOWER_MOD",tower:"ELECTRIC",stat:"damage",value:1.2,operation:"multiply"}],C_=(e,t,n,r,l,o,s,i,a)=>{const d=v.useRef(null),p=v.useRef(0),h=v.useRef(a);v.useEffect(()=>{h.current=a},[a]);const m=v.useRef(n);v.useEffect(()=>{m.current=n},[n]);const S=v.useRef(r);v.useEffect(()=>{S.current=r},[r]);const w=v.useRef(l);v.useEffect(()=>{w.current=l},[l]);const k=v.useRef(o);v.useEffect(()=>{k.current=o},[o]);const j=v.useRef(s);v.useEffect(()=>{j.current=s},[s]);const _=v.useCallback(f=>{var dt;if(p.current===0){p.current=f,d.current=requestAnimationFrame(_);return}const g=(f-p.current)/1e3*m.current;if(g===0){d.current=requestAnimationFrame(_);return}p.current=f;const E=j.current,{onEnemyKilled:x,onEnemyReachedEnd:T,addEffects:N,setTowers:O,setEnemies:te,setProjectiles:U,setEffects:ve,setWaveTime:ce,setSpawnQueue:Ke}=h.current,Ie=i.towersRef.current,Qe=i.enemiesRef.current,ut=i.projectilesRef.current,ct=i.effectsRef.current,M=i.waveTimeRef.current,K=i.spawnQueueRef.current;let F=[],G=new Map,D=[],re=JSON.parse(JSON.stringify(Qe)),de=[],xe=[];const we=M+g,ke=K.filter(y=>y.time<=we);if(ke.length>0){const y=i.currentWaveIndexRef.current,L=i.postBossDifficultyRef.current,$=i.bossModifiersRef.current;xe=ke.map((B,z)=>{const b=sl[B.type];let W;if(B.type==="boss"){const H=Math.floor(y/5),J=Qa[H%Qa.length],V=Math.min(.9,J.armor+$.armor),ee={...J.resistances};for(const X in ee){const oe=X;ee[oe]=Math.min(.9,(ee[oe]||0)+$.resistance)}const Q=J.baseHealth*(1+(L>0?.2:0));W={...b,...J,id:`enemy_${y}_${Date.now()}_${z}`,position:{...e[0]},pathIndex:1,health:Q,maxHealth:Q,reward:J.baseReward,armor:V,resistances:ee,burns:[],distanceTraveled:0,bossIndex:H,abilityActiveTimer:0,nextAbilityTriggerDistance:J.specialAbility.triggerDistance}}else{let H=b.health;L>0&&(H*=1.2),W={...b,id:`enemy_${y}_${Date.now()}_${z}`,position:{...e[0]},pathIndex:1,maxHealth:H,health:H,burns:[],distanceTraveled:0}}return W})}const Ye=Ie.map(y=>{let L={...y,fireCooldown:y.fireCooldown-g};if(y.type==="COLD"&&y.slowFactor)for(const $ of re){const B=$.position.x-y.position.x,z=$.position.y-y.position.y;B*B+z*z<y.range*y.range&&($.slow={factor:y.slowFactor,expires:E+.25})}if(L.fireCooldown<=0&&L.fireRate>0){let $=Qe.reduce((B,z)=>{const b=z.position.x-L.position.x,W=z.position.y-L.position.y,H=b*b+W*W;return H<(B?B.distSq:L.range*L.range)?(z.distSq=H,z):B},null);$&&(L.fireCooldown=1/L.fireRate,F.push({id:`proj_${Date.now()}_${Math.random()}`,sourceTowerId:L.id,position:{...L.position},targetId:$.id,speed:600*S.current,damage:L.damage,damageType:L.damageType,chain:y.type==="ELECTRIC"&&y.chain?{remaining:y.chain.initialCount-1,alreadyHit:[$.id]}:void 0,isChain:y.type==="ELECTRIC"}))}return L}),sn=[...ut,...F];let Ee=[];for(const y of sn){const L=re.find(W=>W.id===y.targetId);if(!L)continue;const $=L.position.x-y.position.x,B=L.position.y-y.position.y,z=Math.sqrt($*$+B*B),b=5+y.speed*g;if(z<b){let W=y.damage;const H=Math.random()<w.current;H&&(W*=1+k.current);const J=((dt=L.resistances)==null?void 0:dt[y.damageType])??0;W*=1-J,y.damageType==="PHYSICAL"&&(W*=1-(L.armor??0)),W=Math.max(0,W),G.set(y.targetId,(G.get(y.targetId)||0)+W),D.push({id:`effect_${Date.now()}_${Math.random()}`,position:L.position,radius:0,age:0,maxAge:H?.4:.2,color:H?"#fef08a":"#fff"});const V=Ie.find(Q=>Q.id===y.sourceTowerId),ee=re.find(Q=>Q.id===y.targetId);if(ee&&(V==null?void 0:V.type)==="FIRE"&&V.burn&&(ee.burns=ee.burns.filter(Q=>Q.sourceId!==V.id),ee.burns.push({dps:V.burn.dps,expires:E+V.burn.duration,sourceId:V.id})),y.chain&&y.chain.remaining>0){const Q=re.reduce((X,oe)=>{if(y.chain.alreadyHit.includes(oe.id))return X;const Lt=oe.position.x-L.position.x,pt=oe.position.y-L.position.y,ft=Lt*Lt+pt*pt;return ft<(X?X.distSq:4e4)?(oe.distSq=ft,oe):X},null);Q&&(D.push({id:`chain_${Date.now()}`,position:L.position,radius:0,age:0,maxAge:.1,color:"#67e8f9"}),Ee.push({...y,id:`proj_${Date.now()}_${Math.random()}`,position:{...L.position},targetId:Q.id,chain:{remaining:y.chain.remaining-1,alreadyHit:[...y.chain.alreadyHit,Q.id]}}))}}else Ee.push({...y,position:{x:y.position.x+$/z*y.speed*g,y:y.position.y+B/z*y.speed*g}})}let Xe=[],me=[],Tt=re.map(y=>{var ee,Q;let L=y.health-(G.get(y.id)||0);if(y.burns=y.burns.filter(X=>X.expires>E),L-=y.burns.reduce((X,oe)=>X+oe.dps*g,0),y.slow&&y.slow.expires<E&&(y.slow=void 0),L<=0)return Xe.push(y),null;if(y.abilityActiveTimer&&y.abilityActiveTimer>0)return y.abilityActiveTimer-=g,{...y,health:L};if(y.pathIndex>=e.length)return me.push(y),null;const B=y.speed*(1-(((ee=y.slow)==null?void 0:ee.factor)??0))*g;let z={...y.position},b=y.pathIndex,W=0;const H=e[b].x-z.x,J=e[b].y-z.y,V=Math.sqrt(H*H+J*J);if(B>=V?(z={...e[b]},b++,W=V):(z.x+=H/V*B,z.y+=J/V*B,W=B),y.distanceTraveled+=W,((Q=y.specialAbility)==null?void 0:Q.type)==="SPAWN_CRITTERS"&&y.nextAbilityTriggerDistance&&y.distanceTraveled>=y.nextAbilityTriggerDistance){y.abilityActiveTimer=y.specialAbility.duration,y.nextAbilityTriggerDistance+=y.specialAbility.triggerDistance;for(let X=0;X<y.specialAbility.spawnCount;X++)de.push({...sl.critter,id:`enemy_${E}_critter_${X}`,position:{x:y.position.x+Math.random()*20-10,y:y.position.y+Math.random()*20-10},pathIndex:y.pathIndex,maxHealth:sl.critter.health,health:sl.critter.health,burns:[],distanceTraveled:y.distanceTraveled})}return b>=e.length?(me.push(y),null):{...y,health:L,position:z,pathIndex:b}}).filter(y=>y!==null);const Rt=ct.map(y=>({...y,age:y.age+g})).filter(y=>y.age<y.maxAge);D.length>0&&N(D),ke.length>0&&Ke(y=>y.filter(L=>L.time>we)),ce(we),Xe.forEach(x),me.forEach(T),O(Ye),te([...Tt,...de,...xe]),U(Ee),ve(Rt),d.current=requestAnimationFrame(_)},[e]);v.useEffect(()=>(t==="running"?(p.current=performance.now(),d.current=requestAnimationFrame(_)):d.current&&cancelAnimationFrame(d.current),()=>{d.current&&cancelAnimationFrame(d.current)}),[t,_])},k_=({className:e})=>u.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:u.jsx("circle",{cx:"12",cy:"12",r:"10"})}),T_=({className:e})=>u.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:u.jsx("rect",{x:"3",y:"3",width:"18",height:"18"})}),R_=({className:e})=>u.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:u.jsx("path",{d:"M12 2 L2 22 H22 Z"})}),L_=({className:e})=>u.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:u.jsx("path",{d:"M12 2C8.1 6.1 6 9.4 6 12.3c0 3.7 2.7 6.4 6 6.4s6-2.7 6-6.4c0-2.9-2.1-6.2-6-10.3z"})}),N_=({className:e})=>u.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:u.jsx("path",{d:"M12 2.5l-2.4 2.4-1.1-1.1-1.4 1.4 1.1 1.1-2.4 2.4-2.5-2.4-1.4 1.4 2.4 2.4-1.1 1.1 1.4 1.4 1.1-1.1 2.4 2.4v3.5h3.5l2.4-2.4 1.1 1.1 1.4-1.4-1.1-1.1 2.4-2.4 2.5 2.4 1.4-1.4-2.4-2.4 1.1-1.1-1.4-1.4-1.1 1.1-2.4-2.4v-3.5h-3.5zM12 16.5c-2.49 0-4.5-2.01-4.5-4.5s2.01-4.5 4.5-4.5 4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5z"})}),O_=({className:e})=>u.jsx("svg",{viewBox:"0 0 24 24",className:e,fill:"currentColor",children:u.jsx("path",{d:"M7 2v11h3v9l7-12h-4l4-8z"})}),j_=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{fillRule:"evenodd",d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",clipRule:"evenodd"})}),M_=({className:e})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:[u.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),u.jsx("path",{d:"M12 6c-2.21 0-4 1.79-4 4h1.5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5c0 .74-.33 1.39-.83 1.87-.5.48-1.17.83-1.17 1.63h1.5c0-.66.52-1.2 1-1.68.7-.68 1-1.63 1-2.82 0-2.21-1.79-4-4-4zM12 17c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5z"})]}),pd=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm-1 16v-5l-4 4-1.41-1.41L9.17 12 5.59 8.41 7 7l4 4V6h2v5l4-4 1.41 1.41L14.83 12l3.58 3.59L17 17l-4-4v5h-2z"})}),Ya=15,I_={CIRCLE:k_,SQUARE:T_,TRIANGLE:R_,FIRE:L_,COLD:N_,ELECTRIC:O_},P_=({onGameEnd:e,progression:t,stageIndex:n,t:r})=>{const{modifiedTowerStats:l,gameSettings:o,bossModifiers:s}=t,{PATH_COORDS:i,TOWER_SLOTS:a,WAVES:d}=v.useMemo(()=>E_(n),[n]),[p,h]=v.useState("placing"),[m,S]=v.useState([]),[w,k]=v.useState([]),[j,_]=v.useState([]),[f,g]=v.useState([]),[E,x]=v.useState(o.startHealth),[T,N]=v.useState(o.startMoney),[O,te]=v.useState(0),[U,ve]=v.useState(0),[ce,Ke]=v.useState([]),[Ie,Qe]=v.useState(0),[ut,ct]=v.useState(0),[M,K]=v.useState({CIRCLE:0,SQUARE:0,TRIANGLE:0,FIRE:0,COLD:0,ELECTRIC:0}),[F,G]=v.useState(null),[D,re]=v.useState(null),[de,xe]=v.useState(null),[we,ke]=v.useState(!1),[Ye,sn]=v.useState(1),[Ee,Xe]=v.useState(null),[me,Tt]=v.useState(0),[Rt,dt]=v.useState(!1),y=v.useMemo(()=>new Set(m.map(c=>c.slotIndex)),[m]),L=v.useMemo(()=>m.find(c=>c.id===F),[m,F]),$=v.useMemo(()=>w.find(c=>c.type==="boss")||null,[w]),B=v.useRef(m);v.useEffect(()=>{B.current=m},[m]);const z=v.useRef(w);v.useEffect(()=>{z.current=w},[w]);const b=v.useRef(j);v.useEffect(()=>{b.current=j},[j]);const W=v.useRef(f);v.useEffect(()=>{W.current=f},[f]);const H=v.useRef(Ie);v.useEffect(()=>{H.current=Ie},[Ie]);const J=v.useRef(ce);v.useEffect(()=>{J.current=ce},[ce]);const V=v.useRef(O);v.useEffect(()=>{V.current=O},[O]);const ee=v.useRef(me);v.useEffect(()=>{ee.current=me},[me]);const Q=v.useRef(s);v.useEffect(()=>{Q.current=s},[s]);const X=v.useCallback(c=>{if(N(C=>C+c.reward+o.killBonus),c.type==="boss"&&c.bossIndex!==void 0){const C=c.bossIndex+3,A=Math.floor(C*o.researchPointModifier);ve(P=>P+A),Tt(4)}},[o.killBonus,o.researchPointModifier]),oe=v.useCallback(c=>{x(C=>{const A=c.type==="boss"?5:1,P=C-A;return P<=0&&h("game_over"),Math.max(0,P)})},[]),Lt=v.useCallback(c=>{g(C=>[...C,...c])},[]),pt=v.useCallback(c=>{const C=l[c].cost,A=M[c];return C*(1+A*x_)},[l,M]),ft=v.useCallback(c=>{const C=v_,A=o.sellRatioModifier||0;return c.purchaseCost*(C+A)},[o.sellRatioModifier]);C_(i,p==="wave_in_progress"?"running":"paused",Ye,o.projectileSpeedModifier,o.globalCritChance,o.globalCritDamage,ut,{towersRef:B,enemiesRef:z,projectilesRef:b,effectsRef:W,waveTimeRef:H,spawnQueueRef:J,currentWaveIndexRef:V,postBossDifficultyRef:ee,bossModifiersRef:Q},{setTowers:S,setEnemies:k,setProjectiles:_,setEffects:g,setWaveTime:Qe,setSpawnQueue:Ke,addEffects:Lt,onEnemyKilled:X,onEnemyReachedEnd:oe});const Nt=v.useCallback(()=>{const c=p==="placing"?0:O+1,C=d[c];if(!C){h("game_over");return}me>0&&Tt(Z=>Z-1),te(c);let A=[],P=0;C.spawns.forEach(Z=>{let se=P;const go=Z.type==="boss";let an=Z.count;!go&&me>0&&(an=Math.floor(an*1.4));for(let qn=0;qn<an;qn++)A.push({type:Z.type,time:se}),se+=Z.interval;P=se+.5}),Ke(A.sort((Z,se)=>Z.time-se.time)),Qe(0),h("wave_in_progress"),G(null),re(null)},[p,O,d,me]);v.useEffect(()=>{if(p==="wave_in_progress"){const c=setInterval(()=>{ct(C=>C+.1*Ye)},100);return()=>clearInterval(c)}},[p,Ye]),v.useEffect(()=>{p==="wave_in_progress"&&w.length===0&&ce.length===0&&(O===d.length-1?h("game_over"):(h("wave_countdown"),Xe(5)))},[p,w,ce,O,d.length]),v.useEffect(()=>{if(p==="wave_countdown"&&Ee!==null)if(Ee<=0)Nt();else{const c=setTimeout(()=>{Xe(C=>C!==null?C-1:null)},1e3);return()=>clearTimeout(c)}},[p,Ee,Nt]),v.useEffect(()=>{if(D){const c=setTimeout(()=>ke(!0),10);return()=>clearTimeout(c)}else ke(!1)},[D]),v.useEffect(()=>{if(p==="game_over"){const c=setTimeout(()=>dt(!0),10);return()=>clearTimeout(c)}else dt(!1)},[p]);const ao=()=>{p!=="wave_countdown"||Ee===null||(N(c=>c+Ya),Xe(null),Nt())},uo=(c,C)=>{y.has(c)||(G(null),re({slotIndex:c,position:C}))},co=c=>{if(!D)return;const{slotIndex:C,position:A}=D,P=l[c],Z=pt(c);T<Z||(S(se=>[...se,{...P,id:`tower_${Date.now()}`,position:A,slotIndex:C,purchaseCost:Z,fireCooldown:1/P.fireRate}]),N(se=>se-Z),K(se=>({...se,[c]:se[c]+1})),re(null),xe(null))},po=c=>{const C=m.find(P=>P.id===c);if(!C)return;const A=ft(C);N(P=>P+A),S(P=>P.filter(Z=>Z.id!==c)),G(null)},fo=c=>{c.target===c.currentTarget&&(G(null),re(null),xe(null))},_o=()=>p==="placing"||p==="wave_in_progress"&&w.length===0&&ce.length===0&&O===-1?u.jsx("button",{onClick:Nt,className:"px-6 py-3 bg-green-500 text-white font-bold rounded-lg shadow-lg hover:bg-green-600 transition-all duration-200 transform hover:scale-105",children:r("start_wave",O+1)}):p==="wave_countdown"?u.jsxs("button",{onClick:ao,className:"px-6 py-3 bg-cyan-500 text-white font-bold rounded-lg shadow-lg hover:bg-cyan-600 transition-all duration-200 transform hover:scale-105",children:[r("start_early",Ee),u.jsxs("span",{className:"text-xs ml-2 text-yellow-200 bg-black/20 px-1.5 py-0.5 rounded-full",children:["(+$",Ya,")"]})]}):u.jsx("div",{className:"px-6 py-3 text-slate-400 font-bold",children:r("wave_in_progress")});return u.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-900 font-mono text-slate-200",children:[u.jsxs("div",{className:"flex justify-between w-full max-w-5xl px-4 py-2 z-10",children:[u.jsxs("div",{className:"flex space-x-6 text-xl items-center bg-slate-800/80 backdrop-blur-sm px-4 py-2 rounded-lg border border-slate-700",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(j_,{className:"w-6 h-6 mr-2 text-rose-500"}),u.jsx("span",{className:"font-bold text-rose-400",children:E})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(M_,{className:"w-6 h-6 mr-2 text-yellow-400"}),u.jsx("span",{className:"font-bold text-yellow-300",children:T.toFixed(0)})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsxs("span",{className:"text-slate-400 mr-2",children:[r("wave"),":"]}),u.jsxs("span",{className:"font-bold text-slate-200",children:[Math.min(O+1,d.length)," / ",d.length]})]})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{onClick:()=>sn(c=>c===3?1:c+1),className:"px-4 py-2 bg-slate-700 text-slate-200 font-bold rounded-lg shadow-lg hover:bg-slate-600 transition-colors w-28",children:[r("speed")," x",Ye]}),_o()]})]}),u.jsxs("div",{className:"relative bg-slate-800 border-2 border-slate-700 rounded-lg shadow-2xl",children:[u.jsxs("svg",{width:Fs,height:Ks,onClick:fo,children:[u.jsxs("defs",{children:[u.jsxs("filter",{id:"glow",children:[u.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),u.jsxs("filter",{id:"chainGlow",children:[u.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),u.jsxs("feMerge",{children:[u.jsx("feMergeNode",{in:"coloredBlur"}),u.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),u.jsx("path",{d:i.map((c,C)=>`${C===0?"M":"L"}${c.x} ${c.y}`).join(" "),stroke:"#475569",strokeWidth:"40",fill:"none"}),u.jsx("path",{d:i.map((c,C)=>`${C===0?"M":"L"}${c.x} ${c.y}`).join(" "),stroke:"#586578",strokeWidth:"38",fill:"none"}),a.map((c,C)=>{if(y.has(C))return null;const A=(D==null?void 0:D.slotIndex)===C;return u.jsx("g",{onClick:()=>uo(C,c),className:"cursor-pointer",children:u.jsx("rect",{x:c.x-Le/2,y:c.y-Le/2,width:Le,height:Le,fill:A?"rgba(107, 237, 249, 0.2)":"rgba(107, 237, 249, 0.05)",stroke:"rgba(107, 237, 249, 0.5)",strokeWidth:A?2:1,className:"hover:fill-[rgba(107,237,249,0.15)] transition-colors"})},`slot_${C}`)}),D&&de&&u.jsx("circle",{cx:D.position.x,cy:D.position.y,r:l[de].range,fill:"rgba(255, 255, 255, 0.1)",stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:"1",strokeDasharray:"4",pointerEvents:"none"}),m.map(c=>{const C=F===c.id;return u.jsxs("g",{className:"cursor-pointer",onClick:A=>{A.stopPropagation(),G(c.id),re(null)},children:[C&&u.jsxs("g",{pointerEvents:"none",children:[u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:c.range,fill:"rgba(255, 255, 255, 0.1)"}),u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:c.range,stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:"1",fill:"none"})]}),c.type==="COLD"&&c.slowFactor&&u.jsx("g",{pointerEvents:"none",children:u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:c.range,fill:"rgba(59, 130, 246, 0.1)"})}),c.type==="CIRCLE"&&u.jsxs("g",{children:[u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"16",fill:"#475569",stroke:C?"#0ea5e9":"#64748b",strokeWidth:"2"}),u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"9",fill:"#0891b2"}),u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"5",fill:"#67e8f9"})]}),c.type==="SQUARE"&&u.jsxs("g",{children:[u.jsx("rect",{x:c.position.x-16,y:c.position.y-16,width:"32",height:"32",rx:"4",fill:"#6b21a8",stroke:C?"#c084fc":"#9333ea",strokeWidth:"2"}),u.jsx("rect",{x:c.position.x-8,y:c.position.y-8,width:"16",height:"16",fill:"#a855f7"})]}),c.type==="TRIANGLE"&&u.jsx("g",{transform:`translate(${c.position.x}, ${c.position.y})`,children:u.jsx("path",{d:"M0 -16 L14 8 L-14 8 Z",fill:"#0d9488",stroke:C?"#5eead4":"#14b8a6",strokeWidth:"2"})}),c.type==="FIRE"&&u.jsxs("g",{children:[u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"16",fill:"#7f1d1d",stroke:C?"#fb7185":"#f43f5e",strokeWidth:"2"}),u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"8",fill:"#f97316",filter:"url(#glow)"})]}),c.type==="COLD"&&u.jsxs("g",{children:[u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"16",fill:"#1e3a8a",stroke:C?"#60a5fa":"#3b82f6",strokeWidth:"2"}),u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:"8",fill:"#38bdf8",filter:"url(#glow)"})]}),c.type==="ELECTRIC"&&u.jsxs("g",{transform:`translate(${c.position.x}, ${c.position.y})`,children:[u.jsx("path",{d:"M-5 -16 L-15 0 L-5 0 L5 16 L15 0 L5 0 Z",fill:"#581c87",stroke:C?"#d8b4fe":"#a855f7",strokeWidth:"2"}),u.jsx("path",{d:"M7 2v11h3v9l7-12h-4l4-8z",transform:"scale(0.5) translate(-7, -12)",fill:"#facc15",filter:"url(#glow)"})]})]},c.id)}),w.map(c=>{const C=c.type==="boss",A=c.type==="critter",P=C?20:A?6:10,Z=!!(c.abilityActiveTimer&&c.abilityActiveTimer>0);return u.jsxs("g",{transform:`translate(${c.position.x}, ${c.position.y})`,children:[c.slow&&u.jsx("circle",{r:P+4,fill:"rgba(59, 130, 246, 0.4)",filter:"url(#glow)"}),c.burns.length>0&&u.jsx("circle",{r:P+4,fill:"rgba(239, 68, 68, 0.5)",filter:"url(#glow)"}),!C&&u.jsxs(u.Fragment,{children:[u.jsx("rect",{x:-P*1.5/2,y:-P-7,width:P*1.5,height:"5",fill:"#334155",rx:"2"}),u.jsx("rect",{x:-P*1.5/2,y:-P-7,width:P*1.5*(c.health/c.maxHealth),height:"5",fill:A?"#f59e0b":"#16a34a",rx:"2"})]}),c.type==="triangle"&&u.jsx("path",{d:"M0 -10 L10 10 L-10 10 Z",fill:"#facc15",stroke:"#ca8a04",strokeWidth:2}),c.type==="square"&&u.jsx("rect",{x:"-10",y:"-10",width:"20",height:"20",fill:"#f43f5e",stroke:"#be123c",strokeWidth:2}),c.type==="pentagon"&&u.jsx("path",{d:"M0 -12 L11.4 -3.7 L7 9.7 H-7 L-11.4 -3.7 Z",fill:"#ec4899",stroke:"#be185d",strokeWidth:2}),C&&u.jsx("path",{d:"M0 -22 L21 -7.4 L13 19 H-13 L-21 -7.4 Z",fill:"#1e293b",stroke:Z?"#38bdf8":"#475569",strokeWidth:3}),A&&u.jsx("path",{d:"M0 -6 L5 0 L0 6 L-5 0Z",fill:"#f59e0b"})]},c.id)}),j.map(c=>u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:c.isChain?4:5,fill:c.damageType==="ELECTRIC"?"#a78bfa":c.damageType==="FIRE"?"#f97316":"#fff",filter:c.isChain?"url(#chainGlow)":"url(#glow)"},c.id)),f.map(c=>u.jsx("circle",{cx:c.position.x,cy:c.position.y,r:2+(c.color==="#fef08a"?25:15)*(c.age/c.maxAge),fill:"none",stroke:c.color,strokeWidth:"3",opacity:1-c.age/c.maxAge},c.id)),D&&u.jsx("foreignObject",{x:D.position.x-120,y:D.position.y-100,width:"240",height:"170",style:{pointerEvents:"none"},children:u.jsxs("div",{className:`flex flex-col items-center transition-all duration-150 ease-out ${we?"scale-100 opacity-100":"scale-95 opacity-0"}`,style:{pointerEvents:"auto"},children:[u.jsx("div",{className:"h-16 w-full mb-2 flex items-center justify-center",children:de&&u.jsx("div",{className:"bg-slate-900/80 border border-slate-600 p-2 rounded-md w-full text-center pointer-events-none",children:u.jsx("p",{className:"text-xs text-slate-300 leading-tight",children:r(l[de].descriptionKey)})})}),u.jsx("div",{className:"flex items-center justify-center space-x-2 bg-slate-800/80 backdrop-blur-sm p-2 rounded-full border border-slate-700",children:o.unlockedTowers.map(c=>{const C=I_[c],A=pt(c),P=T>=A;return u.jsxs("button",{onClick:()=>co(c),onMouseEnter:()=>xe(c),onMouseLeave:()=>xe(null),disabled:!P,className:`relative flex flex-col items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-200 ${P?"bg-slate-700 border-slate-500 hover:bg-cyan-600 hover:border-cyan-400":"bg-slate-800 border-slate-700 cursor-not-allowed opacity-60"}`,children:[u.jsx(C,{className:"w-6 h-6 text-slate-100"}),u.jsx("div",{className:"absolute -bottom-1 text-xs font-bold text-yellow-300 bg-slate-900 px-1 rounded-sm",children:Math.floor(A)})]},c)})})]})}),L&&u.jsx("foreignObject",{x:L.position.x-45,y:L.position.y+L.range+5,width:"90",height:"40",style:{textAlign:"center"},children:u.jsxs("button",{onClick:c=>{c.stopPropagation(),po(L.id)},className:"px-3 py-1 bg-rose-600 text-white text-xs font-bold rounded shadow-lg hover:bg-rose-700 transition-colors",children:[r("sell")," (",Math.floor(ft(L)),")"]})}),p==="game_over"&&u.jsxs("g",{className:`transition-opacity duration-500 ${Rt?"opacity-100":"opacity-0"}`,children:[u.jsx("rect",{x:"0",y:"0",width:Fs,height:Ks,fill:"rgba(15, 23, 42, 0.8)"}),u.jsx("text",{x:"50%",y:"40%",dominantBaseline:"middle",textAnchor:"middle",fontSize:"60",fontWeight:"bold",fill:"#f8fafc",children:E>0?r("victory"):r("game_over")}),u.jsx("text",{x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",fontSize:"24",fill:"#94a3b8",children:r("rp_earned",U)})]})]}),p==="game_over"&&u.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-opacity duration-500 ${Rt?"opacity-100":"opacity-0"}`,children:u.jsx("button",{onClick:()=>e({researchPointsEarned:U,victory:E>0}),className:"mt-24 px-8 py-4 bg-cyan-500 text-white font-bold rounded-lg shadow-lg hover:bg-cyan-600 transition-all text-xl",children:r("to_progression_tree")})})]}),$&&$.nameKey&&u.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 w-full max-w-2xl bg-slate-900/80 border-2 border-slate-700 rounded-lg p-3 text-center shadow-2xl backdrop-blur-sm",children:[u.jsx("div",{className:"text-xl font-bold text-rose-400 mb-2",children:r($.nameKey)}),u.jsx("div",{className:"w-full bg-slate-700 rounded-full h-5 border border-slate-600",children:u.jsx("div",{className:"bg-rose-600 h-full rounded-full transition-all duration-300",style:{width:`${$.health/$.maxHealth*100}%`}})}),u.jsxs("div",{className:"text-xs mt-2 text-slate-400 flex justify-center space-x-4",children:[u.jsxs("span",{children:[r("armor"),": ",u.jsxs("span",{className:"font-bold text-slate-200",children:[($.armor*100).toFixed(0),"%"]})]}),Object.entries($.resistances).map(([c,C])=>u.jsxs("span",{children:[r(c.toLowerCase()),": ",u.jsxs("span",{className:`font-bold ${C>0?"text-green-400":"text-red-400"}`,children:[(C*100).toFixed(0),"%"]})]},c))]})]})]})},D_=({node:e,isUnlocked:t,canUnlock:n,onClick:r,t:l})=>{const o="absolute w-24 h-24 p-2 border-2 rounded-lg flex flex-col items-center justify-center text-center transform transition-all duration-300",s=t?"bg-cyan-500 border-cyan-300 shadow-lg shadow-cyan-500/30":n?"bg-slate-600 border-slate-400 hover:bg-cyan-700 hover:border-cyan-500 cursor-pointer":"bg-slate-800 border-slate-700 opacity-60";return u.jsxs("div",{style:{left:`calc(${e.position.x}% - 48px)`,top:`calc(${e.position.y}% - 48px)`},className:`${o} ${s}`,onClick:()=>n&&r(e.id),children:[u.jsx("div",{className:"text-xs font-bold leading-tight",children:l(e.nameKey)}),u.jsx("div",{className:"text-[10px] text-slate-300 mt-1 leading-tight",children:l(e.descriptionKey)}),!t&&e.cost>0&&u.jsxs("div",{className:"absolute -bottom-5 flex items-center text-sm font-bold bg-slate-900 px-2 py-1 rounded-full border border-slate-700",children:[u.jsx(pd,{className:"w-4 h-4 mr-1 text-yellow-400"}),u.jsx("span",{className:"text-yellow-300",children:e.cost})]})]})},A_=({progression:e,onStartGame:t,t:n})=>{const{researchPoints:r,unlockedUpgrades:l,unlockUpgrade:o}=e,s=v.useMemo(()=>Hl.map(a=>{const d=l.includes(a.id),p=a.dependencies.every(m=>l.includes(m)),h=!d&&p&&r>=a.cost;return{...a,isUnlocked:d,canUnlock:h}}),[l,r]),i=v.useMemo(()=>{const a=new Map;return Hl.forEach(d=>a.set(d.id,d)),a},[]);return u.jsx("div",{className:"flex flex-col items-center justify-start min-h-screen bg-slate-900 font-mono p-4 overflow-x-hidden",children:u.jsxs("div",{className:"w-full max-w-screen-xl",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6 p-4 bg-slate-800 rounded-lg border border-slate-700",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-cyan-400",children:n("progression_tree_title")}),u.jsx("p",{className:"text-slate-400",children:n("progression_tree_subtitle")})]}),u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsxs("div",{className:"flex items-center bg-slate-700 px-4 py-2 rounded-lg",children:[u.jsx(pd,{className:"w-8 h-8 mr-3 text-yellow-400"}),u.jsx("span",{className:"text-3xl font-bold text-yellow-300",children:r})]}),u.jsx("button",{onClick:t,className:"px-6 py-3 bg-green-500 text-white font-bold rounded-lg shadow-lg hover:bg-green-600 transition-all duration-200 transform hover:scale-105",children:n("start_game")})]})]}),u.jsxs("div",{className:"relative w-full h-[140vh] bg-slate-800/50 border-2 border-slate-700 rounded-lg",children:[u.jsxs("svg",{className:"absolute inset-0 w-full h-full",width:"100%",height:"100%",children:[u.jsxs("defs",{children:[u.jsx("marker",{id:"arrow-unlocked",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"4",markerHeight:"4",orient:"auto-start-reverse",children:u.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#06b6d4"})}),u.jsx("marker",{id:"arrow-locked",viewBox:"0 0 10 10",refX:"5",refY:"5",markerWidth:"3",markerHeight:"3",orient:"auto-start-reverse",children:u.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"#64748b"})})]}),s.map(a=>a.dependencies.map(d=>{const p=i.get(d);if(!p)return null;const h=l.includes(a.id),m=`${p.position.x}%`,S=`${p.position.y}%`,w=`${a.position.x}%`,k=`${a.position.y}%`;return u.jsx("line",{x1:m,y1:S,x2:w,y2:k,stroke:h?"#06b6d4":"#64748b",strokeWidth:"3",markerEnd:h?"url(#arrow-unlocked)":"url(#arrow-locked)"},`${d}-${a.id}`)}))]}),s.map(a=>u.jsx(D_,{node:a,isUnlocked:a.isUnlocked,canUnlock:a.canUnlock,onClick:o,t:n},a.id))]})]})})},zs="geometric_td_progression",F_=()=>{try{const e=localStorage.getItem(zs);if(e){const t=JSON.parse(e),n=new Set(Array.isArray(t.unlockedUpgrades)?t.unlockedUpgrades:[]);return n.add("ROOT"),{researchPoints:t.researchPoints||0,unlockedUpgrades:Array.from(n),completedStages:Array.isArray(t.completedStages)?t.completedStages:[]}}}catch(e){console.error("Failed to load progression:",e)}return{researchPoints:0,unlockedUpgrades:["ROOT"],completedStages:[]}},K_=()=>{const[e,t]=v.useState(F_);v.useEffect(()=>{try{localStorage.setItem(zs,JSON.stringify(e))}catch(i){console.error("Failed to save progression:",i)}},[e]);const n=v.useCallback(i=>{t(a=>({...a,researchPoints:a.researchPoints+i}))},[]),r=v.useCallback(i=>{const a=Hl.find(d=>d.id===i);a&&e.researchPoints>=a.cost&&!e.unlockedUpgrades.includes(i)&&t(d=>({...d,researchPoints:d.researchPoints-a.cost,unlockedUpgrades:[...d.unlockedUpgrades,i]}))},[e.researchPoints,e.unlockedUpgrades]),l=v.useCallback(i=>{t(a=>a.completedStages.includes(i)?a:{...a,completedStages:[...a.completedStages,i].sort()})},[]),o=v.useCallback(()=>{const i={researchPoints:0,unlockedUpgrades:["ROOT"],completedStages:[]};t(i),localStorage.setItem(zs,JSON.stringify(i)),window.location.reload()},[]),s=v.useMemo(()=>{let i=y_,a=0,d=h_,p=1,h=0,m=1,S=1,w=0,k=.5;const j=new Set(["CIRCLE"]),_=JSON.parse(JSON.stringify(S_)),f=e.unlockedUpgrades.map(x=>Hl.find(T=>T.id===x)).filter(x=>!!x);let g=0;for(const x of f){switch(x.id!=="ROOT"&&(g+=x.cost),x.id){case"S_UNLOCK":j.add("SQUARE");break;case"T_UNLOCK":j.add("TRIANGLE");break;case"EL_UNLOCK_FIRE":j.add("FIRE");break;case"EL_UNLOCK_COLD":j.add("COLD");break;case"EL_UNLOCK_ELEC":j.add("ELECTRIC");break}(x.type==="ECONOMY"||x.type==="GLOBAL")&&(x.globalStat==="startMoney"&&(i+=x.value??0),x.globalStat==="killBonus"&&(a+=x.value??0),x.globalStat==="startHealth"&&(d+=x.value??0),x.globalStat==="towerCostModifier"&&(p*=x.value??1),x.globalStat==="sellRatioModifier"&&(h+=x.value??0),x.globalStat==="projectileSpeedModifier"&&(m*=x.value??1),x.globalStat==="researchPointModifier"&&(S*=x.value??1),x.globalStat==="globalCritChance"&&(w+=x.value??0),x.globalStat==="globalCritDamage"&&(k+=x.value??0))}for(const x of f)if(x.type==="TOWER_MOD"&&x.tower&&x.stat&&x.value!=null){const T=_[x.tower];if(T)if(x.stat==="burnDps"&&T.burn)T.burn.dps+=x.value;else if(x.stat==="burnDuration"&&T.burn)T.burn.duration+=x.value;else if(x.stat==="chainCount"&&T.chain)T.chain.initialCount+=x.value;else if(x.stat==="slowFactor"&&T.slowFactor!==void 0)T.slowFactor+=x.value;else{const N=x.stat;typeof T[N]=="number"&&(x.operation==="multiply"?T[N]*=x.value:T[N]+=x.value)}}for(const x in _)_[x].cost*=p;const E={armor:Math.min(.5,g*.005),resistance:Math.min(.5,g*.002)};return{modifiedTowerStats:_,gameSettings:{startMoney:i,killBonus:a,startHealth:d,unlockedTowers:Array.from(j),sellRatioModifier:h,projectileSpeedModifier:m,researchPointModifier:S,globalCritChance:w,globalCritDamage:k},bossModifiers:E}},[e.unlockedUpgrades]);return{...e,addResearchPoints:n,unlockUpgrade:r,resetProgression:o,completeStage:l,...s}},Xa={en:{app_subtitle:"A tower defense game with a persistent progression tree.",stage_1:"Stage 1",stage_2:"Stage 2",stage_2_unlock_tooltip:"Complete Stage 1 to unlock.",stage_2_tooltip:"A more challenging stage.",progression:"Progression",reset_progress:"Reset Progress",enter_cheat_code:"Enter Cheat Code...",submit_cheat:"Submit",start_wave:"Start Wave {0}",start_early:"Start Early ({0}s)",wave_in_progress:"Wave in Progress",wave:"Wave",speed:"Speed",sell:"Sell",victory:"Victory!",game_over:"Game Over",rp_earned:"You earned {0} Research Points.",to_progression_tree:"To Progression Tree",armor:"Armor",physical:"Physical",fire:"Fire",cold:"Cold",electric:"Electric",progression_tree_title:"Progression Tree",progression_tree_subtitle:"Spend Research Points to unlock permanent upgrades.",start_game:"Back to Menu",tower_circle_name:"Basic Tower",tower_square_name:"Cannon Tower",tower_triangle_name:"Rapid Tower",tower_fire_name:"Flame Tower",tower_cold_name:"Frost Tower",tower_electric_name:"Tesla Tower",tower_circle_desc:"A reliable, all-around tower.",tower_square_desc:"Deals high damage at a slow rate.",tower_triangle_desc:"Fires very quickly for low damage.",tower_fire_desc:"Applies a burn that deals damage over time.",tower_cold_desc:"Slows all enemies within its radius.",tower_electric_desc:"Shoots lightning that chains to multiple enemies.",boss_1_name:"The Warden",boss_2_name:"The Juggernaut",boss_3_name:"The Frost Titan",boss_4_name:"The Apex",upgrade_root_name:"Core Systems",upgrade_root_desc:"The start of all your research.",upgrade_e_start_1_name:"Initial Funding",upgrade_e_start_1_desc:"Start with +50 extra money.",upgrade_e_kill_1_name:"Bounty Hunting",upgrade_e_kill_1_desc:"Gain +1 money for each kill.",upgrade_e_start_2_name:"Advanced Funding",upgrade_e_start_2_desc:"Start with an additional +75 money.",upgrade_g_health_1_name:"Reinforced Core",upgrade_g_health_1_desc:"Increase starting health by 10.",upgrade_g_cost_1_name:"Efficient Construction",upgrade_g_cost_1_desc:"Reduce the cost of all towers by 5%.",upgrade_g_sell_1_name:"Scrap Recycling",upgrade_g_sell_1_desc:"Increase tower sell value by 10%.",upgrade_e_rp_1_name:"Applied Theory",upgrade_e_rp_1_desc:"Gain 10% more Research Points.",upgrade_e_rp_2_name:"Advanced Theory",upgrade_e_rp_2_desc:"Gain another 10% more Research Points.",upgrade_g_proj_speed_1_name:"Advanced Ballistics",upgrade_g_proj_speed_1_desc:"All projectiles travel 20% faster.",upgrade_g_crit_chance_1_name:"Precision Targeting",upgrade_g_crit_chance_1_desc:"All towers gain a 2% chance to critically strike.",upgrade_g_crit_dmg_1_name:"High-Explosive Shells",upgrade_g_crit_dmg_1_desc:"Critical strikes deal an additional 25% damage.",upgrade_g_crit_chance_2_name:"Target Analysis",upgrade_g_crit_chance_2_desc:"Increase critical strike chance by another 3%.",upgrade_p_branch_root_name:"Physical Ordnance",upgrade_p_branch_root_desc:"Unlock upgrades for physical damage towers.",upgrade_c_dmg_1_name:"Bigger Caliber",upgrade_c_dmg_1_desc:"Basic Tower damage +3.",upgrade_c_rate_1_name:"Improved Firing Pin",upgrade_c_rate_1_desc:"Basic Tower fire rate +15%.",upgrade_c_range_1_name:"Better Optics",upgrade_c_range_1_desc:"Basic Tower range +10%.",upgrade_c_dmg_2_name:"Heavy Rounds",upgrade_c_dmg_2_desc:"Basic Tower damage +5.",upgrade_s_unlock_name:"Unlock Cannon",upgrade_s_unlock_desc:"Unlocks the powerful Cannon Tower.",upgrade_s_dmg_1_name:"Heavy Shells",upgrade_s_dmg_1_desc:"Cannon Tower damage +10.",upgrade_s_range_1_name:"Rangefinder",upgrade_s_range_1_desc:"Cannon Tower range +15%.",upgrade_s_dmg_2_name:"Shaped Charges",upgrade_s_dmg_2_desc:"Cannon Tower damage +15%.",upgrade_s_dmg_3_name:"Armor Piercing",upgrade_s_dmg_3_desc:"Cannon Tower damage +25.",upgrade_t_unlock_name:"Unlock Rapid",upgrade_t_unlock_desc:"Unlocks the fast-firing Rapid Tower.",upgrade_t_rate_1_name:"Autoloader",upgrade_t_rate_1_desc:"Rapid Tower fire rate +25%.",upgrade_t_range_1_name:"Advanced Rifling",upgrade_t_range_1_desc:"Rapid Tower range +20%.",upgrade_t_dmg_1_name:"Hot Loads",upgrade_t_dmg_1_desc:"Rapid Tower damage +2.",upgrade_el_branch_root_name:"Elemental Studies",upgrade_el_branch_root_desc:"Unlock upgrades for elemental towers.",upgrade_el_unlock_fire_name:"Unlock Flame",upgrade_el_unlock_fire_desc:"Unlocks the burning Flame Tower.",upgrade_el_fire_dps_1_name:"Volatile Fuel",upgrade_el_fire_dps_1_desc:"Flame Tower burn damage +5 dps.",upgrade_el_fire_dur_1_name:"Sticky Flames",upgrade_el_fire_dur_1_desc:"Flame Tower burn duration +1s.",upgrade_el_fire_dmg_1_name:"Combustion",upgrade_el_fire_dmg_1_desc:"Flame Tower initial damage +25%.",upgrade_el_unlock_cold_name:"Unlock Frost",upgrade_el_unlock_cold_desc:"Unlocks the slowing Frost Tower.",upgrade_el_cold_slow_1_name:"Cryo Coolant",upgrade_el_cold_slow_1_desc:"Frost Tower slow effect +10%.",upgrade_el_cold_range_1_name:"Wide Dispersion",upgrade_el_cold_range_1_desc:"Frost Tower range +15%.",upgrade_el_cold_slow_2_name:"Absolute Zero",upgrade_el_cold_slow_2_desc:"Frost Tower slow effect +15%.",upgrade_el_unlock_elec_name:"Unlock Tesla",upgrade_el_unlock_elec_desc:"Unlocks the chaining Tesla Tower.",upgrade_el_elec_chain_1_name:"Superconductor",upgrade_el_elec_chain_1_desc:"Tesla Tower chains to +1 enemy.",upgrade_el_elec_dmg_1_name:"Overcharge",upgrade_el_elec_dmg_1_desc:"Tesla Tower damage +15%.",upgrade_el_elec_dmg_2_name:"High Voltage",upgrade_el_elec_dmg_2_desc:"Tesla Tower damage +20%."},bg:{app_subtitle:"Tower defense игра с дърво за прогрес.",stage_1:"Ниво 1",stage_2:"Ниво 2",stage_2_unlock_tooltip:"Завършете Ниво 1 за отключване.",stage_2_tooltip:"По-предизвикателно ниво.",progression:"Прогрес",reset_progress:"Нулиране",enter_cheat_code:"Въведи чийт код...",submit_cheat:"Изпрати",start_wave:"Старт Вълна {0}",start_early:"По-рано ({0}с)",wave_in_progress:"Вълната тече",wave:"Вълна",speed:"Скорост",sell:"Продай",victory:"Победа!",game_over:"Край на играта",rp_earned:"Спечелихте {0} точки за изследване.",to_progression_tree:"Към дървото за прогрес",armor:"Броня",physical:"Физическа",fire:"Огън",cold:"Студ",electric:"Ток",progression_tree_title:"Дърво за Прогрес",progression_tree_subtitle:"Харчете точки за изследване за постоянни подобрения.",start_game:"Към менюто",tower_circle_name:"Базова Кула",tower_square_name:"Оръдейна Кула",tower_triangle_name:"Скоростна Кула",tower_fire_name:"Огнена Кула",tower_cold_name:"Ледена Кула",tower_electric_name:"Тесла Кула",tower_circle_desc:"Надеждна, универсална кула.",tower_square_desc:"Нанася големи щети с ниска скорост.",tower_triangle_desc:"Стреля много бързо за малко щети.",tower_fire_desc:"Прилага изгаряне, което нанася щети с времето.",tower_cold_desc:"Забавя всички врагове в своя радиус.",tower_electric_desc:"Изстрелва мълния, която прескача по врагове.",boss_1_name:"Пазителят",boss_2_name:"Джъгърнаутът",boss_3_name:"Леденият Титан",boss_4_name:"Върхът",upgrade_root_name:"Основни Системи",upgrade_root_desc:"Началото на вашите изследвания.",upgrade_e_start_1_name:"Начално Финансиране",upgrade_e_start_1_desc:"Започнете с +50 допълнително пари.",upgrade_e_kill_1_name:"Лов на Глави",upgrade_e_kill_1_desc:"Получавате +1 пари за всяко убийство.",upgrade_e_start_2_name:"Разширено Финансиране",upgrade_e_start_2_desc:"Започнете с още +75 пари.",upgrade_g_health_1_name:"Подсилено Ядро",upgrade_g_health_1_desc:"Увеличете началния живот с 10.",upgrade_g_cost_1_name:"Ефективно Строителство",upgrade_g_cost_1_desc:"Намалете цената на всички кули с 5%.",upgrade_g_sell_1_name:"Рециклиране на Скрап",upgrade_g_sell_1_desc:"Увеличете продажната цена на кулите с 10%.",upgrade_e_rp_1_name:"Приложна Теория",upgrade_e_rp_1_desc:"Получавате 10% повече точки за изследване.",upgrade_e_rp_2_name:"Напреднала Теория",upgrade_e_rp_2_desc:"Получавате още 10% повече точки за изследване.",upgrade_g_proj_speed_1_name:"Напреднала Балистика",upgrade_g_proj_speed_1_desc:"Всички снаряди се движат с 20% по-бързо.",upgrade_g_crit_chance_1_name:"Прецизно Насочване",upgrade_g_crit_chance_1_desc:"Всички кули получават 2% шанс за критичен удар.",upgrade_g_crit_dmg_1_name:"Експлозивни Снаряди",upgrade_g_crit_dmg_1_desc:"Критичните удари нанасят +25% щети.",upgrade_g_crit_chance_2_name:"Анализ на Цели",upgrade_g_crit_chance_2_desc:"Увеличете шанса за крит. удар с още 3%.",upgrade_p_branch_root_name:"Физически Боеприпаси",upgrade_p_branch_root_desc:"Отключете подобрения за физически кули.",upgrade_c_dmg_1_name:"По-голям Калибър",upgrade_c_dmg_1_desc:"Базова Кула щети +3.",upgrade_c_rate_1_name:"Подобрен Ударник",upgrade_c_rate_1_desc:"Базова Кула скорост на стрелба +15%.",upgrade_c_range_1_name:"По-добра Оптика",upgrade_c_range_1_desc:"Базова Кула обхват +10%.",upgrade_c_dmg_2_name:"Тежки Патрони",upgrade_c_dmg_2_desc:"Базова Кула щети +5.",upgrade_s_unlock_name:"Отключи Оръдие",upgrade_s_unlock_desc:"Отключва мощната Оръдейна Кула.",upgrade_s_dmg_1_name:"Тежки Снаряди",upgrade_s_dmg_1_desc:"Оръдейна Кула щети +10.",upgrade_s_range_1_name:"Далекомер",upgrade_s_range_1_desc:"Оръдейна Кула обхват +15%.",upgrade_s_dmg_2_name:"Кумулативни Заряди",upgrade_s_dmg_2_desc:"Оръдейна Кула щети +15%.",upgrade_s_dmg_3_name:"Бронебойни",upgrade_s_dmg_3_desc:"Оръдейна Кула щети +25.",upgrade_t_unlock_name:"Отключи Скоростна",upgrade_t_unlock_desc:"Отключва бързострелната Скоростна Кула.",upgrade_t_rate_1_name:"Автоматично Зареждане",upgrade_t_rate_1_desc:"Скоростна Кула скорост на стрелба +25%.",upgrade_t_range_1_name:"Напреднали Нарези",upgrade_t_range_1_desc:"Скоростна Кула обхват +20%.",upgrade_t_dmg_1_name:"Горещи Патрони",upgrade_t_dmg_1_desc:"Скоростна Кула щети +2.",upgrade_el_branch_root_name:"Елементални Проучвания",upgrade_el_branch_root_desc:"Отключете подобрения за елементални кули.",upgrade_el_unlock_fire_name:"Отключи Огнена",upgrade_el_unlock_fire_desc:"Отключва изгарящата Огнена Кула.",upgrade_el_fire_dps_1_name:"Летливо Гориво",upgrade_el_fire_dps_1_desc:"Огнена Кула щети от изгаряне +5.",upgrade_el_fire_dur_1_name:"Лепкави Пламъци",upgrade_el_fire_dur_1_desc:"Огнена Кула времетраене на изгаряне +1с.",upgrade_el_fire_dmg_1_name:"Възпламеняване",upgrade_el_fire_dmg_1_desc:"Огнена Кула начални щети +25%.",upgrade_el_unlock_cold_name:"Отключи Ледена",upgrade_el_unlock_cold_desc:"Отключва забавящата Ледена Кула.",upgrade_el_cold_slow_1_name:"Крио Охладител",upgrade_el_cold_slow_1_desc:"Ледена Кула забавяне +10%.",upgrade_el_cold_range_1_name:"Широко Разпръскване",upgrade_el_cold_range_1_desc:"Ледена Кула обхват +15%.",upgrade_el_cold_slow_2_name:"Абсолютна Нула",upgrade_el_cold_slow_2_desc:"Ледена Кула забавяне +15%.",upgrade_el_unlock_elec_name:"Отключи Тесла",upgrade_el_unlock_elec_desc:"Отключва верижната Тесла Кула.",upgrade_el_elec_chain_1_name:"Свръхпроводник",upgrade_el_elec_chain_1_desc:"Тесла Кула прескача към +1 враг.",upgrade_el_elec_dmg_1_name:"Претоварване",upgrade_el_elec_dmg_1_desc:"Тесла Кула щети +15%.",upgrade_el_elec_dmg_2_name:"Високо Напрежение",upgrade_el_elec_dmg_2_desc:"Тесла Кула щети +20%."}},z_=e=>(t,...n)=>{var l,o;let r=((l=Xa[e])==null?void 0:l[t])||((o=Xa.en)==null?void 0:o[t])||t;return n.length>0&&n.forEach((s,i)=>{r=r.replace(`{${i}}`,String(s))}),r},$_=()=>{const[e,t]=v.useState("menu"),[n,r]=v.useState(null),[l,o]=v.useState(1),[s,i]=v.useState("en"),[a,d]=v.useState(""),p=K_(),h=z_(s),m=v.useCallback(()=>{a.toLowerCase()==="t0sh0bag3ra"&&p.addResearchPoints(20),d("")},[a,p]),S=v.useCallback(j=>{p.addResearchPoints(j.researchPointsEarned),j.victory&&n!==null&&p.completeStage(n),t("progression")},[p,n]),w=j=>{r(j),o(_=>_+1),t("game")},k=()=>{switch(e){case"game":return u.jsx(P_,{onGameEnd:S,progression:p,stageIndex:n,t:h},l);case"progression":return u.jsx(A_,{progression:p,onStartGame:()=>t("menu"),t:h});case"menu":default:const j=p.completedStages.includes(0);return u.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-slate-900 text-slate-50 font-mono",children:[u.jsx("h1",{className:"text-6xl font-bold text-cyan-400 tracking-wider mb-4",children:"Geometric TD"}),u.jsx("p",{className:"text-slate-400 mb-8",children:h("app_subtitle")}),u.jsxs("div",{className:"flex flex-col space-y-4",children:[u.jsx("button",{onClick:()=>w(0),className:"px-8 py-3 bg-cyan-500 text-white font-bold rounded-lg shadow-lg hover:bg-cyan-600 transition-all duration-200 transform hover:scale-105",children:h("stage_1")}),u.jsxs("button",{onClick:()=>j&&w(1),disabled:!j,className:`px-8 py-3 text-white font-bold rounded-lg shadow-lg transition-all duration-200 transform hover:scale-105 ${j?"bg-purple-600 hover:bg-purple-700":"bg-slate-700 cursor-not-allowed"}`,title:h(j?"stage_2_tooltip":"stage_2_unlock_tooltip"),children:[h("stage_2")," ",!j&&"🔒"]})]}),u.jsxs("div",{className:"mt-8 flex space-x-4",children:[u.jsx("button",{onClick:()=>t("progression"),className:"px-8 py-3 bg-slate-700 text-slate-200 font-bold rounded-lg shadow-lg hover:bg-slate-600 transition-all duration-200",children:h("progression")}),u.jsx("button",{onClick:p.resetProgression,className:"px-8 py-3 bg-rose-800 text-slate-200 font-bold rounded-lg shadow-lg hover:bg-rose-700 transition-all duration-200",children:h("reset_progress")})]}),u.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[u.jsx("button",{onClick:()=>i("en"),className:`px-3 py-1 text-sm font-bold rounded ${s==="en"?"bg-cyan-500 text-white":"bg-slate-700 text-slate-300"}`,children:"EN"}),u.jsx("button",{onClick:()=>i("bg"),className:`px-3 py-1 text-sm font-bold rounded ${s==="bg"?"bg-cyan-500 text-white":"bg-slate-700 text-slate-300"}`,children:"BG"})]}),u.jsxs("div",{className:"absolute bottom-4 left-4 flex",children:[u.jsx("input",{type:"text",value:a,onChange:_=>d(_.target.value),onKeyDown:_=>{_.key==="Enter"&&m()},placeholder:h("enter_cheat_code"),className:"bg-slate-800 border border-slate-700 text-slate-300 text-sm rounded-l-md px-2 py-1 outline-none w-48"}),u.jsx("button",{onClick:m,className:"bg-slate-700 text-slate-300 text-sm font-bold rounded-r-md px-3 py-1 border border-l-0 border-slate-700 hover:bg-slate-600",children:h("submit_cheat")})]})]})}};return u.jsx("div",{className:"w-full h-full",children:k()})},fd=document.getElementById("root");if(!fd)throw new Error("Could not find root element to mount to");const U_=vl.createRoot(fd);U_.render(u.jsx(iu.StrictMode,{children:u.jsx($_,{})}));
